[["Map",1,2,9,10],"meta::meta",["Map",3,4,5,6,7,8],"astro-version","5.17.1","content-config-digest","28e7bc87492477d9","astro-config-digest","{\"root\":{},\"srcDir\":{},\"publicDir\":{},\"outDir\":{},\"cacheDir\":{},\"site\":\"https://jagreehal.github.io\",\"compressHTML\":true,\"base\":\"/executable-stories\",\"trailingSlash\":\"ignore\",\"output\":\"static\",\"scopedStyleStrategy\":\"where\",\"build\":{\"format\":\"directory\",\"client\":{},\"server\":{},\"assets\":\"_astro\",\"serverEntry\":\"entry.mjs\",\"redirects\":true,\"inlineStylesheets\":\"auto\",\"concurrency\":1},\"server\":{\"open\":false,\"host\":false,\"port\":4321,\"streaming\":true,\"allowedHosts\":[]},\"redirects\":{},\"image\":{\"endpoint\":{\"route\":\"/_image\"},\"service\":{\"entrypoint\":\"astro/assets/services/sharp\",\"config\":{}},\"domains\":[],\"remotePatterns\":[],\"responsiveStyles\":false},\"devToolbar\":{\"enabled\":true},\"markdown\":{\"syntaxHighlight\":false,\"shikiConfig\":{\"langs\":[],\"langAlias\":{},\"theme\":\"github-dark\",\"themes\":{},\"wrap\":false,\"transformers\":[]},\"remarkPlugins\":[[null,{\"logger\":{\"options\":{\"dest\":{},\"level\":\"info\"},\"label\":\"astro-mermaid\"}}],null,null,null],\"rehypePlugins\":[[null,{\"logger\":{\"options\":{\"dest\":{},\"level\":\"info\"},\"label\":\"astro-mermaid\"}}],[null,{\"experimentalHeadingIdCompat\":false}],null,[null,{\"themes\":[\"vitesse-dark\",\"vitesse-light\"],\"defaultLocale\":\"en\",\"cascadeLayer\":\"starlight.components\",\"styleOverrides\":{\"borderRadius\":\"0.5rem\",\"borderWidth\":\"1px\",\"codePaddingBlock\":\"0.75rem\",\"codePaddingInline\":\"1rem\",\"codeFontFamily\":\"var(--__sl-font-mono)\",\"codeFontSize\":\"var(--sl-text-code)\",\"codeLineHeight\":\"var(--sl-line-height)\",\"uiFontFamily\":\"var(--__sl-font)\",\"textMarkers\":{\"lineDiffIndicatorMarginLeft\":\"0.25rem\",\"defaultChroma\":\"45\",\"backgroundOpacity\":\"60%\"},\"borderColor\":\"var(--sl-color-gray-5)\",\"frames\":{\"editorActiveTabIndicatorTopColor\":\"unset\",\"editorActiveTabIndicatorBottomColor\":\"var(--sl-color-gray-3)\",\"editorTabBarBorderBottomColor\":\"var(--sl-color-gray-5)\",\"frameBoxShadowCssValue\":\"unset\"}},\"plugins\":[{\"name\":\"Starlight Plugin\",\"hooks\":{}},{\"name\":\"astro-expressive-code\",\"hooks\":{}}]}]],\"remarkRehype\":{},\"gfm\":true,\"smartypants\":true},\"security\":{\"checkOrigin\":true,\"allowedDomains\":[]},\"env\":{\"schema\":{},\"validateSecrets\":false},\"experimental\":{\"clientPrerender\":false,\"contentIntellisense\":false,\"headingIdCompat\":false,\"preserveScriptOrder\":false,\"liveContentCollections\":false,\"csp\":false,\"staticImportMetaEnv\":false,\"chromeDevtoolsWorkspace\":false,\"failOnPrerenderConflict\":false,\"svgo\":false},\"legacy\":{\"collections\":false},\"prefetch\":{\"prefetchAll\":true},\"i18n\":{\"defaultLocale\":\"en\",\"locales\":[\"en\"],\"routing\":{\"prefixDefaultLocale\":false,\"redirectToDefaultLocale\":false,\"fallbackType\":\"redirect\"}}}","docs",["Map",11,12,40,41,70,71,92,93,112,113,143,144,166,167,189,190,218,219,241,242,264,265,286,287,312,313,342,343,392,393,415,416,442,443,463,464,484,485,505,506,526,527,547,548,568,569,589,590,610,611,631,632,652,653,673,674,694,695,716,717,737,738,758,759,779,780,800,801,821,822,842,843,863,864,884,885,905,906,926,927,947,948,968,969,989,990,1010,1011,1031,1032,1052,1053,1073,1074,1094,1095],"index",{"id":11,"data":13,"body":37,"filePath":38,"digest":39,"deferredRender":16},{"title":14,"description":15,"editUrl":16,"head":17,"template":18,"hero":19,"sidebar":34,"pagefind":16,"draft":35},"Executable Stories","Framework-native BDD-style tests with generated docs for Vitest, Jest, and Playwright",true,[],"splash",{"tagline":15,"actions":20},[21,28],{"text":22,"link":23,"variant":24,"icon":25},"Get Started (Vitest)","getting-started/installation-vitest/","primary",{"type":26,"name":27},"icon","right-arrow",{"text":29,"link":30,"variant":31,"icon":32},"View on GitHub","https://github.com/jagreehal/executable-stories","minimal",{"type":26,"name":33},"external",{"hidden":35,"attrs":36},false,{},"import { Card, CardGrid, LinkCard } from '@astrojs/starlight/components';\n\nOne source of truth. Code that executes. Docs that do not lie.\n\n## What it does\n\n- **Scenario API** built on your test runner's native primitives (`describe` / `it`)\n- **given / when / then** (and `and`, `but`) that register real tests\n- **Reporter** that generates Markdown from test metadata\n- Output readable by developers and stakeholders; if a test is skipped, failed, or todo, the docs reflect that\n\n## Install\n\n**Vitest:**\n\n```bash\npnpm add -D vitest vitest-executable-stories\n```\n\n**Jest:**\n\n```bash\npnpm add -D jest-executable-stories\n```\n\n**Playwright:**\n\n```bash\npnpm add -D playwright-executable-stories\n```\n\n## Quick example (Vitest)\n\n```typescript\nimport { story } from \"vitest-executable-stories\";\n\nstory(\"User logs in\", (steps) => {\n  steps.given(\"user is on login page\");\n  steps.when(\"user submits valid credentials\");\n  steps.then(\"user sees the dashboard\", () => {\n    expect(true).toBe(true);\n  });\n});\n```\n\n## Quick example (Jest)\n\n```typescript\nimport { story, given, when, then } from \"jest-executable-stories\";\n\nstory(\"User logs in\", () => {\n  given(\"user is on login page\");\n  when(\"user submits valid credentials\");\n  then(\"user sees the dashboard\", () => {\n    expect(true).toBe(true);\n  });\n});\n```\n\n## Quick example (Playwright)\n\n```typescript\nimport { story, given, when, then } from \"playwright-executable-stories\";\n\nstory(\"User logs in\", () => {\n  given(\"user is on login page\");\n  when(\"user submits valid credentials\");\n  then(\"user sees the dashboard\", async ({ page }) => {\n    await expect(page).toHaveURL(/dashboard/);\n  });\n});\n```\n\n## Next steps\n\n\u003CCardGrid>\n  \u003CLinkCard title=\"Installation (Vitest)\" description=\"Install the package and add the reporter\" href=\"getting-started/installation-vitest/\" />\n  \u003CLinkCard title=\"Installation (Jest)\" description=\"Install and configure Jest\" href=\"getting-started/installation-jest/\" />\n  \u003CLinkCard title=\"Installation (Playwright)\" description=\"Install and configure Playwright\" href=\"getting-started/installation-playwright/\" />\n  \u003CLinkCard title=\"Reference (Vitest)\" description=\"Reporter options and story API\" href=\"reference/vitest-config/\" />\n  \u003CLinkCard title=\"Reference (Jest)\" description=\"Reporter options and story API\" href=\"reference/jest-config/\" />\n  \u003CLinkCard title=\"Reference (Playwright)\" description=\"Reporter options and story API\" href=\"reference/playwright-config/\" />\n  \u003CLinkCard title=\"Recipes\" description=\"Example scenarios with code and generated output\" href=\"recipes/vitest/\" />\n\u003C/CardGrid>","src/content/docs/index.mdx","8c7ca5e91033f728","reference/jest-story-api",{"id":40,"data":42,"body":49,"filePath":50,"digest":51,"rendered":52},{"title":43,"description":44,"editUrl":16,"head":45,"template":46,"sidebar":47,"pagefind":16,"draft":35},"Jest story & doc API","story(), given/when/then, StoryOptions, and doc API for jest-executable-stories",[],"doc",{"hidden":35,"attrs":48},{},"Jest exports **top-level** step functions: `given`, `when`, `then`, `and`, `but`. Use them inside a `story()` callback.\n\n## story(title, [options], define)\n\nSame as Vitest: registers a describe block and steps as tests. Options: `tags`, `ticket`, `meta`.\n\n```typescript\nimport { story, given, when, then } from \"jest-executable-stories\";\n\nstory(\"User logs in\", () => {\n  given(\"user is on login page\");\n  when(\"user submits valid credentials\");\n  then(\"user sees the dashboard\", () => {\n    expect(true).toBe(true);\n  });\n});\n```\n\n## Step functions\n\n- **given**, **when**, **then**, **and**, **but** — same keyword/And/But rules as Vitest.\n- **Aliases:** arrange, act, assert, setup, context, execute, action, verify.\n- **Modifiers:** `.skip`, `.only`, `.todo`, `.fails`, `.concurrent` on each step.\n\n## doc API\n\nAccess **doc** inside a story via the steps context (same as Vitest): `doc.note`, `doc.tag`, `doc.kv`, `doc.code`, `doc.json`, `doc.table`, `doc.link`, `doc.section`, `doc.mermaid`, `doc.screenshot`, `doc.custom`, and `doc.runtime.*`. Use `doc.story(title, define)` to attach metadata to a plain `it()`.\n\nSee [Vitest story & doc API](/reference/vitest-story-api/) for detailed doc method descriptions and examples.","src/content/docs/reference/jest-story-api.md","76e8f2fb370dd738",{"html":53,"metadata":54},"\u003Cp>Jest exports \u003Cstrong>top-level\u003C/strong> step functions: \u003Ccode dir=\"auto\">given\u003C/code>, \u003Ccode dir=\"auto\">when\u003C/code>, \u003Ccode dir=\"auto\">then\u003C/code>, \u003Ccode dir=\"auto\">and\u003C/code>, \u003Ccode dir=\"auto\">but\u003C/code>. Use them inside a \u003Ccode dir=\"auto\">story()\u003C/code> callback.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"storytitle-options-define\">story(title, [options], define)\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#storytitle-options-define\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “story(title, [options], define)”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Same as Vitest: registers a describe block and steps as tests. Options: \u003Ccode dir=\"auto\">tags\u003C/code>, \u003Ccode dir=\"auto\">ticket\u003C/code>, \u003Ccode dir=\"auto\">meta\u003C/code>.\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/executable-stories/_astro/ec.t5t0k.css\">\u003Cscript type=\"module\" src=\"/executable-stories/_astro/ec.0vx5m.js\">\u003C/script>\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#55987B;--1:#1E754F\">import\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">story\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">when\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">then\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">}\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">from\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">jest-executable-stories\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#80A665;--1:#4B7231\">story\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">User logs in\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">()\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">=>\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">user is on login page\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">when\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">user submits valid credentials\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">user sees the dashboard\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">()\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">=>\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">expect\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">true\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">).\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">toBe\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">true\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">});\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">});\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"import { story, given, when, then } from &#x22;jest-executable-stories&#x22;;story(&#x22;User logs in&#x22;, () => {  given(&#x22;user is on login page&#x22;);  when(&#x22;user submits valid credentials&#x22;);  then(&#x22;user sees the dashboard&#x22;, () => {    expect(true).toBe(true);  });});\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"step-functions\">Step functions\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#step-functions\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Step functions”\u003C/span>\u003C/a>\u003C/div>\n\u003Cul>\n\u003Cli>\u003Cstrong>given\u003C/strong>, \u003Cstrong>when\u003C/strong>, \u003Cstrong>then\u003C/strong>, \u003Cstrong>and\u003C/strong>, \u003Cstrong>but\u003C/strong> — same keyword/And/But rules as Vitest.\u003C/li>\n\u003Cli>\u003Cstrong>Aliases:\u003C/strong> arrange, act, assert, setup, context, execute, action, verify.\u003C/li>\n\u003Cli>\u003Cstrong>Modifiers:\u003C/strong> \u003Ccode dir=\"auto\">.skip\u003C/code>, \u003Ccode dir=\"auto\">.only\u003C/code>, \u003Ccode dir=\"auto\">.todo\u003C/code>, \u003Ccode dir=\"auto\">.fails\u003C/code>, \u003Ccode dir=\"auto\">.concurrent\u003C/code> on each step.\u003C/li>\n\u003C/ul>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"doc-api\">doc API\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#doc-api\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “doc API”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Access \u003Cstrong>doc\u003C/strong> inside a story via the steps context (same as Vitest): \u003Ccode dir=\"auto\">doc.note\u003C/code>, \u003Ccode dir=\"auto\">doc.tag\u003C/code>, \u003Ccode dir=\"auto\">doc.kv\u003C/code>, \u003Ccode dir=\"auto\">doc.code\u003C/code>, \u003Ccode dir=\"auto\">doc.json\u003C/code>, \u003Ccode dir=\"auto\">doc.table\u003C/code>, \u003Ccode dir=\"auto\">doc.link\u003C/code>, \u003Ccode dir=\"auto\">doc.section\u003C/code>, \u003Ccode dir=\"auto\">doc.mermaid\u003C/code>, \u003Ccode dir=\"auto\">doc.screenshot\u003C/code>, \u003Ccode dir=\"auto\">doc.custom\u003C/code>, and \u003Ccode dir=\"auto\">doc.runtime.*\u003C/code>. Use \u003Ccode dir=\"auto\">doc.story(title, define)\u003C/code> to attach metadata to a plain \u003Ccode dir=\"auto\">it()\u003C/code>.\u003C/p>\n\u003Cp>See \u003Ca href=\"/reference/vitest-story-api/\">Vitest story &#x26; doc API\u003C/a> for detailed doc method descriptions and examples.\u003C/p>",{"headings":55,"localImagePaths":66,"remoteImagePaths":67,"frontmatter":68,"imagePaths":69},[56,60,63],{"depth":57,"slug":58,"text":59},2,"storytitle-options-define","story(title, [options], define)",{"depth":57,"slug":61,"text":62},"step-functions","Step functions",{"depth":57,"slug":64,"text":65},"doc-api","doc API",[],[],{"title":43,"description":44},[],"reference/jest-config",{"id":70,"data":72,"body":78,"filePath":79,"digest":80,"rendered":81},{"title":73,"description":74,"editUrl":16,"head":75,"template":46,"sidebar":76,"pagefind":16,"draft":35},"Jest reporter options","Every option for StoryReporter in Jest",[],{"hidden":35,"attrs":77},{},"In `jest.config.js`:\n\n```javascript\nmodule.exports = {\n  reporters: [\n    \"default\",\n    [\"jest-executable-stories/reporter\", { /* options */ }],\n  ],\n};\n```\n\n## Options reference\n\nSame as [Vitest reporter options](/reference/vitest-config/): `title`, `description`, `includeFrontMatter`, `output`, `permalinkBaseUrl`, `enableGithubActionsSummary`, `includeSummaryTable`, `includeMetadata`, `metadata`, `includeJson`, `json`, `coverage`, `groupBy`, `scenarioHeadingLevel`, `stepStyle`, `markdown`, `includeStatus`, `includeDurations`, `includeErrorInMarkdown`, `includeEmpty`, `sortFiles`, `sortScenarios`, `filter`, `includeSourceLinks`, `ticketUrlTemplate`, `customRenderers`.\n\n**Default output:** when `output` is a string, e.g. `\"docs/user-stories.md\"`. When omitted, behavior is package-specific (see Jest package README).\n\n**Example:**\n\n```javascript\n[\"jest-executable-stories/reporter\", {\n  title: \"User Stories\",\n  output: \"docs/user-stories.md\",\n  includeSummaryTable: true,\n  permalinkBaseUrl: \"https://github.com/your-org/your-repo/blob/main/\",\n}]\n```","src/content/docs/reference/jest-config.md","659476e70d290efc",{"html":82,"metadata":83},"\u003Cp>In \u003Ccode dir=\"auto\">jest.config.js\u003C/code>:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/executable-stories/_astro/ec.t5t0k.css\">\u003Cscript type=\"module\" src=\"/executable-stories/_astro/ec.0vx5m.js\">\u003C/script>\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"javascript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#B8A965;--1:#786713\">module\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#B8A965;--1:#786713\">exports\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">=\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#B8A965;--1:#786713\">reporters\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">:\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">[\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">default\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">[\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">jest-executable-stories/reporter\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#818F81FE;--1:#636B63\">/* options */\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">}],\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">],\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">};\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"module.exports = {  reporters: [    &#x22;default&#x22;,    [&#x22;jest-executable-stories/reporter&#x22;, { /* options */ }],  ],};\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"options-reference\">Options reference\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#options-reference\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Options reference”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Same as \u003Ca href=\"/reference/vitest-config/\">Vitest reporter options\u003C/a>: \u003Ccode dir=\"auto\">title\u003C/code>, \u003Ccode dir=\"auto\">description\u003C/code>, \u003Ccode dir=\"auto\">includeFrontMatter\u003C/code>, \u003Ccode dir=\"auto\">output\u003C/code>, \u003Ccode dir=\"auto\">permalinkBaseUrl\u003C/code>, \u003Ccode dir=\"auto\">enableGithubActionsSummary\u003C/code>, \u003Ccode dir=\"auto\">includeSummaryTable\u003C/code>, \u003Ccode dir=\"auto\">includeMetadata\u003C/code>, \u003Ccode dir=\"auto\">metadata\u003C/code>, \u003Ccode dir=\"auto\">includeJson\u003C/code>, \u003Ccode dir=\"auto\">json\u003C/code>, \u003Ccode dir=\"auto\">coverage\u003C/code>, \u003Ccode dir=\"auto\">groupBy\u003C/code>, \u003Ccode dir=\"auto\">scenarioHeadingLevel\u003C/code>, \u003Ccode dir=\"auto\">stepStyle\u003C/code>, \u003Ccode dir=\"auto\">markdown\u003C/code>, \u003Ccode dir=\"auto\">includeStatus\u003C/code>, \u003Ccode dir=\"auto\">includeDurations\u003C/code>, \u003Ccode dir=\"auto\">includeErrorInMarkdown\u003C/code>, \u003Ccode dir=\"auto\">includeEmpty\u003C/code>, \u003Ccode dir=\"auto\">sortFiles\u003C/code>, \u003Ccode dir=\"auto\">sortScenarios\u003C/code>, \u003Ccode dir=\"auto\">filter\u003C/code>, \u003Ccode dir=\"auto\">includeSourceLinks\u003C/code>, \u003Ccode dir=\"auto\">ticketUrlTemplate\u003C/code>, \u003Ccode dir=\"auto\">customRenderers\u003C/code>.\u003C/p>\n\u003Cp>\u003Cstrong>Default output:\u003C/strong> when \u003Ccode dir=\"auto\">output\u003C/code> is a string, e.g. \u003Ccode dir=\"auto\">\"docs/user-stories.md\"\u003C/code>. When omitted, behavior is package-specific (see Jest package README).\u003C/p>\n\u003Cp>\u003Cstrong>Example:\u003C/strong>\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"javascript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">[\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">jest-executable-stories/reporter\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#B8A965;--1:#786713\">title\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">:\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">User Stories\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#B8A965;--1:#786713\">output\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">:\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">docs/user-stories.md\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#B8A965;--1:#786713\">includeSummaryTable\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">:\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">true\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#B8A965;--1:#786713\">permalinkBaseUrl\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">:\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">https://github.com/your-org/your-repo/blob/main/\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">}]\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"[&#x22;jest-executable-stories/reporter&#x22;, {  title: &#x22;User Stories&#x22;,  output: &#x22;docs/user-stories.md&#x22;,  includeSummaryTable: true,  permalinkBaseUrl: &#x22;https://github.com/your-org/your-repo/blob/main/&#x22;,}]\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>",{"headings":84,"localImagePaths":88,"remoteImagePaths":89,"frontmatter":90,"imagePaths":91},[85],{"depth":57,"slug":86,"text":87},"options-reference","Options reference",[],[],{"title":73,"description":74},[],"reference/playwright-config",{"id":92,"data":94,"body":100,"filePath":101,"digest":102,"rendered":103},{"title":95,"description":96,"editUrl":16,"head":97,"template":46,"sidebar":98,"pagefind":16,"draft":35},"Playwright reporter options","Every option for StoryReporter in Playwright",[],{"hidden":35,"attrs":99},{},"In `playwright.config.ts`:\n\n```typescript\nimport { defineConfig } from \"@playwright/test\";\nimport { StoryReporter } from \"playwright-executable-stories/reporter\";\n\nexport default defineConfig({\n  reporter: [\n    [\"list\"],\n    [new StoryReporter(), { output: \"docs/user-stories.md\" }],\n  ],\n  // ...\n});\n```\n\n## Options reference\n\nSame as [Vitest reporter options](/reference/vitest-config/): `title`, `description`, `includeFrontMatter`, `output`, `permalinkBaseUrl`, `enableGithubActionsSummary`, `includeSummaryTable`, `includeMetadata`, `metadata`, `includeJson`, `json`, `coverage`, `groupBy`, `scenarioHeadingLevel`, `stepStyle`, `markdown`, `includeStatus`, `includeDurations`, `includeErrorInMarkdown`, `includeEmpty`, `sortFiles`, `sortScenarios`, `filter`, `includeSourceLinks`, `ticketUrlTemplate`, `customRenderers`.\n\n**Example:**\n\n```typescript\n[new StoryReporter(), {\n  title: \"User Stories\",\n  output: \"docs/user-stories.md\",\n  includeSummaryTable: true,\n  permalinkBaseUrl: \"https://github.com/your-org/your-repo/blob/main/\",\n}]\n```","src/content/docs/reference/playwright-config.md","7151951f10c689b9",{"html":104,"metadata":105},"\u003Cp>In \u003Ccode dir=\"auto\">playwright.config.ts\u003C/code>:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/executable-stories/_astro/ec.t5t0k.css\">\u003Cscript type=\"module\" src=\"/executable-stories/_astro/ec.0vx5m.js\">\u003C/script>\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#55987B;--1:#1E754F\">import\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">defineConfig\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">}\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">from\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">@playwright/test\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#55987B;--1:#1E754F\">import\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">StoryReporter\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">}\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">from\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">playwright-executable-stories/reporter\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#55987B;--1:#1E754F\">export\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">default\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">defineConfig\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">({\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#B8A965;--1:#786713\">reporter\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: [\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">[\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">list\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">],\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">[\u003C/span>\u003Cspan style=\"--0:#CB7676;--1:#9E5252\">new\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\"> \u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">StoryReporter\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(), { \u003C/span>\u003Cspan style=\"--0:#B8A965;--1:#786713\">output\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">docs/user-stories.md\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\"> }],\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">],\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#818F81FE;--1:#636B63\">// ...\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">});\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"import { defineConfig } from &#x22;@playwright/test&#x22;;import { StoryReporter } from &#x22;playwright-executable-stories/reporter&#x22;;export default defineConfig({  reporter: [    [&#x22;list&#x22;],    [new StoryReporter(), { output: &#x22;docs/user-stories.md&#x22; }],  ],  // ...});\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"options-reference\">Options reference\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#options-reference\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Options reference”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Same as \u003Ca href=\"/reference/vitest-config/\">Vitest reporter options\u003C/a>: \u003Ccode dir=\"auto\">title\u003C/code>, \u003Ccode dir=\"auto\">description\u003C/code>, \u003Ccode dir=\"auto\">includeFrontMatter\u003C/code>, \u003Ccode dir=\"auto\">output\u003C/code>, \u003Ccode dir=\"auto\">permalinkBaseUrl\u003C/code>, \u003Ccode dir=\"auto\">enableGithubActionsSummary\u003C/code>, \u003Ccode dir=\"auto\">includeSummaryTable\u003C/code>, \u003Ccode dir=\"auto\">includeMetadata\u003C/code>, \u003Ccode dir=\"auto\">metadata\u003C/code>, \u003Ccode dir=\"auto\">includeJson\u003C/code>, \u003Ccode dir=\"auto\">json\u003C/code>, \u003Ccode dir=\"auto\">coverage\u003C/code>, \u003Ccode dir=\"auto\">groupBy\u003C/code>, \u003Ccode dir=\"auto\">scenarioHeadingLevel\u003C/code>, \u003Ccode dir=\"auto\">stepStyle\u003C/code>, \u003Ccode dir=\"auto\">markdown\u003C/code>, \u003Ccode dir=\"auto\">includeStatus\u003C/code>, \u003Ccode dir=\"auto\">includeDurations\u003C/code>, \u003Ccode dir=\"auto\">includeErrorInMarkdown\u003C/code>, \u003Ccode dir=\"auto\">includeEmpty\u003C/code>, \u003Ccode dir=\"auto\">sortFiles\u003C/code>, \u003Ccode dir=\"auto\">sortScenarios\u003C/code>, \u003Ccode dir=\"auto\">filter\u003C/code>, \u003Ccode dir=\"auto\">includeSourceLinks\u003C/code>, \u003Ccode dir=\"auto\">ticketUrlTemplate\u003C/code>, \u003Ccode dir=\"auto\">customRenderers\u003C/code>.\u003C/p>\n\u003Cp>\u003Cstrong>Example:\u003C/strong>\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">[\u003C/span>\u003Cspan style=\"--0:#CB7676;--1:#9E5252\">new\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">StoryReporter\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(),\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#B8A965;--1:#786713\">title\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">User Stories\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#B8A965;--1:#786713\">output\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">docs/user-stories.md\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#B8A965;--1:#786713\">includeSummaryTable\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">true\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#B8A965;--1:#786713\">permalinkBaseUrl\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">https://github.com/your-org/your-repo/blob/main/\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">}]\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"[new StoryReporter(), {  title: &#x22;User Stories&#x22;,  output: &#x22;docs/user-stories.md&#x22;,  includeSummaryTable: true,  permalinkBaseUrl: &#x22;https://github.com/your-org/your-repo/blob/main/&#x22;,}]\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>",{"headings":106,"localImagePaths":108,"remoteImagePaths":109,"frontmatter":110,"imagePaths":111},[107],{"depth":57,"slug":86,"text":87},[],[],{"title":95,"description":96},[],"getting-started/first-story-jest",{"id":112,"data":114,"body":120,"filePath":121,"digest":122,"rendered":123},{"title":115,"description":116,"editUrl":16,"head":117,"template":46,"sidebar":118,"pagefind":16,"draft":35},"First Story (Jest)","Write your first Jest scenario and see the generated docs",[],{"hidden":35,"attrs":119},{},"## Write a story\n\nCreate a test file (e.g. `src/login.story.test.ts`):\n\n```typescript\nimport { story, given, when, then } from \"jest-executable-stories\";\nimport { expect } from \"@jest/globals\";\n\nstory(\"User logs in successfully\", () => {\n  given(\"the user is on the login page\");\n  when(\"the user submits valid credentials\");\n  then(\"the user should see the dashboard\", () => {\n    expect(true).toBe(true); // replace with real assertions\n  });\n});\n```\n\nJest uses **top-level** step functions: `given`, `when`, `then`, `and`, `but`.\n\n## Run tests\n\n```bash\npnpm jest\n```\n\n## Generated output\n\nThe reporter writes Markdown to your configured path (e.g. `docs/user-stories.md`). For the story above, the output looks like:\n\n```markdown\n### User logs in successfully\n\n- **Given** the user is on the login page\n- **When** the user submits valid credentials\n- **Then** the user should see the dashboard\n```\n\n## Next\n\n[Jest story & doc API](/reference/jest-story-api/) — steps, modifiers, and options.\n\n[Recipes (Jest)](/recipes/jest/index/) — more examples.","src/content/docs/getting-started/first-story-jest.md","d18d7879d154e71b",{"html":124,"metadata":125},"\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"write-a-story\">Write a story\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#write-a-story\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Write a story”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Create a test file (e.g. \u003Ccode dir=\"auto\">src/login.story.test.ts\u003C/code>):\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/executable-stories/_astro/ec.t5t0k.css\">\u003Cscript type=\"module\" src=\"/executable-stories/_astro/ec.0vx5m.js\">\u003C/script>\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#55987B;--1:#1E754F\">import\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">story\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">when\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">then\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">}\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">from\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">jest-executable-stories\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#55987B;--1:#1E754F\">import\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">expect\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">}\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">from\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">@jest/globals\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#80A665;--1:#4B7231\">story\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">User logs in successfully\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">()\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">=>\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the user is on the login page\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">when\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the user submits valid credentials\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the user should see the dashboard\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">()\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">=>\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">expect\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">true\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">).\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">toBe\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">true\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#818F81FE;--1:#636B63\">// replace with real assertions\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">});\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">});\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"import { story, given, when, then } from &#x22;jest-executable-stories&#x22;;import { expect } from &#x22;@jest/globals&#x22;;story(&#x22;User logs in successfully&#x22;, () => {  given(&#x22;the user is on the login page&#x22;);  when(&#x22;the user submits valid credentials&#x22;);  then(&#x22;the user should see the dashboard&#x22;, () => {    expect(true).toBe(true); // replace with real assertions  });});\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>Jest uses \u003Cstrong>top-level\u003C/strong> step functions: \u003Ccode dir=\"auto\">given\u003C/code>, \u003Ccode dir=\"auto\">when\u003C/code>, \u003Ccode dir=\"auto\">then\u003C/code>, \u003Ccode dir=\"auto\">and\u003C/code>, \u003Ccode dir=\"auto\">but\u003C/code>.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"run-tests\">Run tests\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#run-tests\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Run tests”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#80A665;--1:#4B7231\">pnpm\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">jest\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"pnpm jest\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"generated-output\">Generated output\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#generated-output\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Generated output”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>The reporter writes Markdown to your configured path (e.g. \u003Ccode dir=\"auto\">docs/user-stories.md\u003C/code>). For the story above, the output looks like:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"markdown\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">###\u003C/span>\u003Cspan style=\"--0:#55987B;--0fw:bold;--1:#1C6B48;--1fw:bold\"> User logs in successfully\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">Given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the user is on the login page\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">When\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the user submits valid credentials\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">Then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the user should see the dashboard\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"### User logs in successfully- **Given** the user is on the login page- **When** the user submits valid credentials- **Then** the user should see the dashboard\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"next\">Next\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#next\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Next”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>\u003Ca href=\"/reference/jest-story-api/\">Jest story &#x26; doc API\u003C/a> — steps, modifiers, and options.\u003C/p>\n\u003Cp>\u003Ca href=\"/recipes/jest/index/\">Recipes (Jest)\u003C/a> — more examples.\u003C/p>",{"headings":126,"localImagePaths":139,"remoteImagePaths":140,"frontmatter":141,"imagePaths":142},[127,130,133,136],{"depth":57,"slug":128,"text":129},"write-a-story","Write a story",{"depth":57,"slug":131,"text":132},"run-tests","Run tests",{"depth":57,"slug":134,"text":135},"generated-output","Generated output",{"depth":57,"slug":137,"text":138},"next","Next",[],[],{"title":115,"description":116},[],"getting-started/first-story-playwright",{"id":143,"data":145,"body":151,"filePath":152,"digest":153,"rendered":154},{"title":146,"description":147,"editUrl":16,"head":148,"template":46,"sidebar":149,"pagefind":16,"draft":35},"First Story (Playwright)","Write your first Playwright scenario and see the generated docs",[],{"hidden":35,"attrs":150},{},"## Write a story\n\nCreate a spec file (e.g. `src/login.story.spec.ts`):\n\n```typescript\nimport { story, given, when, then } from \"playwright-executable-stories\";\nimport { expect } from \"@playwright/test\";\n\nstory(\"User logs in successfully\", () => {\n  given(\"the user is on the login page\");\n  when(\"the user submits valid credentials\");\n  then(\"the user should see the dashboard\", async ({ page }) => {\n    await expect(page).toHaveURL(/dashboard/);\n  });\n});\n```\n\nPlaywright uses **top-level** step functions. Step callbacks receive Playwright fixtures (e.g. `{ page }`).\n\n## Run tests\n\n```bash\npnpm playwright test\n```\n\n## Generated output\n\nThe reporter writes Markdown to your configured path (e.g. `docs/user-stories.md`). For the story above, the output looks like:\n\n```markdown\n### User logs in successfully\n\n- **Given** the user is on the login page\n- **When** the user submits valid credentials\n- **Then** the user should see the dashboard\n```\n\n## Next\n\n[Playwright story & doc API](/reference/playwright-story-api/) — steps, modifiers, and options.\n\n[Recipes (Playwright)](/recipes/playwright/index/) — more examples.","src/content/docs/getting-started/first-story-playwright.md","8935f08c8d2937ab",{"html":155,"metadata":156},"\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"write-a-story\">Write a story\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#write-a-story\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Write a story”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Create a spec file (e.g. \u003Ccode dir=\"auto\">src/login.story.spec.ts\u003C/code>):\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/executable-stories/_astro/ec.t5t0k.css\">\u003Cscript type=\"module\" src=\"/executable-stories/_astro/ec.0vx5m.js\">\u003C/script>\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#55987B;--1:#1E754F\">import\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">story\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">when\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">then\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">}\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">from\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">playwright-executable-stories\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#55987B;--1:#1E754F\">import\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">expect\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">}\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">from\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">@playwright/test\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#80A665;--1:#4B7231\">story\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">User logs in successfully\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">()\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">=>\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the user is on the login page\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">when\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the user submits valid credentials\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the user should see the dashboard\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#CB7676;--1:#9E5252\">async\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">({\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">page\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">})\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">=>\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">await\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">expect\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">page\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">).\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">toHaveURL\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">/\u003C/span>\u003Cspan style=\"--0:#C77757;--1:#9B5539\">dashboard\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">/\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">});\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">});\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"import { story, given, when, then } from &#x22;playwright-executable-stories&#x22;;import { expect } from &#x22;@playwright/test&#x22;;story(&#x22;User logs in successfully&#x22;, () => {  given(&#x22;the user is on the login page&#x22;);  when(&#x22;the user submits valid credentials&#x22;);  then(&#x22;the user should see the dashboard&#x22;, async ({ page }) => {    await expect(page).toHaveURL(/dashboard/);  });});\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>Playwright uses \u003Cstrong>top-level\u003C/strong> step functions. Step callbacks receive Playwright fixtures (e.g. \u003Ccode dir=\"auto\">{ page }\u003C/code>).\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"run-tests\">Run tests\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#run-tests\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Run tests”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#80A665;--1:#4B7231\">pnpm\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">playwright\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">test\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"pnpm playwright test\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"generated-output\">Generated output\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#generated-output\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Generated output”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>The reporter writes Markdown to your configured path (e.g. \u003Ccode dir=\"auto\">docs/user-stories.md\u003C/code>). For the story above, the output looks like:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"markdown\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">###\u003C/span>\u003Cspan style=\"--0:#55987B;--0fw:bold;--1:#1C6B48;--1fw:bold\"> User logs in successfully\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">Given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the user is on the login page\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">When\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the user submits valid credentials\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">Then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the user should see the dashboard\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"### User logs in successfully- **Given** the user is on the login page- **When** the user submits valid credentials- **Then** the user should see the dashboard\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"next\">Next\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#next\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Next”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>\u003Ca href=\"/reference/playwright-story-api/\">Playwright story &#x26; doc API\u003C/a> — steps, modifiers, and options.\u003C/p>\n\u003Cp>\u003Ca href=\"/recipes/playwright/index/\">Recipes (Playwright)\u003C/a> — more examples.\u003C/p>",{"headings":157,"localImagePaths":162,"remoteImagePaths":163,"frontmatter":164,"imagePaths":165},[158,159,160,161],{"depth":57,"slug":128,"text":129},{"depth":57,"slug":131,"text":132},{"depth":57,"slug":134,"text":135},{"depth":57,"slug":137,"text":138},[],[],{"title":146,"description":147},[],"getting-started/first-story-vitest",{"id":166,"data":168,"body":174,"filePath":175,"digest":176,"rendered":177},{"title":169,"description":170,"editUrl":16,"head":171,"template":46,"sidebar":172,"pagefind":16,"draft":35},"First Story (Vitest)","Write your first Vitest scenario and see the generated docs",[],{"hidden":35,"attrs":173},{},"## Write a story\n\nCreate a test file (e.g. `src/login.story.test.ts`):\n\n```typescript\nimport { story } from \"vitest-executable-stories\";\nimport { expect } from \"vitest\";\n\nstory(\"User logs in successfully\", (steps) => {\n  steps.given(\"the user is on the login page\");\n  steps.when(\"the user submits valid credentials\");\n  steps.then(\"the user should see the dashboard\", () => {\n    expect(true).toBe(true); // replace with real assertions\n  });\n});\n```\n\nSteps are **callback-only** in Vitest (no top-level `then` export). Use the `steps` argument: `steps.given`, `steps.when`, `steps.then`, `steps.and`, `steps.but`.\n\n## Run tests\n\n```bash\npnpm vitest run\n```\n\n## Generated output\n\nThe reporter writes Markdown to `docs/user-stories.md` (or your configured path). For the story above, the output looks like:\n\n```markdown\n### User logs in successfully\n\n- **Given** the user is on the login page\n- **When** the user submits valid credentials\n- **Then** the user should see the dashboard\n```\n\nIf a step is skipped, failed, or todo, the docs reflect that (e.g. ⚠️ or ❌).\n\n## Next\n\n[Vitest story & doc API](/reference/vitest-story-api/) — steps, modifiers, `doc` API, and options.\n\n[Recipes (Vitest)](/recipes/vitest/index/) — more examples with tables, JSON, and tags.","src/content/docs/getting-started/first-story-vitest.md","eb1d72cb82a1aa27",{"html":178,"metadata":179},"\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"write-a-story\">Write a story\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#write-a-story\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Write a story”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Create a test file (e.g. \u003Ccode dir=\"auto\">src/login.story.test.ts\u003C/code>):\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/executable-stories/_astro/ec.t5t0k.css\">\u003Cscript type=\"module\" src=\"/executable-stories/_astro/ec.0vx5m.js\">\u003C/script>\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#55987B;--1:#1E754F\">import\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">story\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">}\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">from\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">vitest-executable-stories\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#55987B;--1:#1E754F\">import\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">expect\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">}\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">from\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">vitest\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#80A665;--1:#4B7231\">story\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">User logs in successfully\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">steps\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">)\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">=>\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">steps\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the user is on the login page\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">steps\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">when\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the user submits valid credentials\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">steps\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the user should see the dashboard\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">()\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">=>\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">expect\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">true\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">).\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">toBe\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">true\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#818F81FE;--1:#636B63\">// replace with real assertions\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">});\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">});\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"import { story } from &#x22;vitest-executable-stories&#x22;;import { expect } from &#x22;vitest&#x22;;story(&#x22;User logs in successfully&#x22;, (steps) => {  steps.given(&#x22;the user is on the login page&#x22;);  steps.when(&#x22;the user submits valid credentials&#x22;);  steps.then(&#x22;the user should see the dashboard&#x22;, () => {    expect(true).toBe(true); // replace with real assertions  });});\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>Steps are \u003Cstrong>callback-only\u003C/strong> in Vitest (no top-level \u003Ccode dir=\"auto\">then\u003C/code> export). Use the \u003Ccode dir=\"auto\">steps\u003C/code> argument: \u003Ccode dir=\"auto\">steps.given\u003C/code>, \u003Ccode dir=\"auto\">steps.when\u003C/code>, \u003Ccode dir=\"auto\">steps.then\u003C/code>, \u003Ccode dir=\"auto\">steps.and\u003C/code>, \u003Ccode dir=\"auto\">steps.but\u003C/code>.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"run-tests\">Run tests\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#run-tests\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Run tests”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#80A665;--1:#4B7231\">pnpm\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">vitest\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">run\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"pnpm vitest run\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"generated-output\">Generated output\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#generated-output\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Generated output”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>The reporter writes Markdown to \u003Ccode dir=\"auto\">docs/user-stories.md\u003C/code> (or your configured path). For the story above, the output looks like:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"markdown\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">###\u003C/span>\u003Cspan style=\"--0:#55987B;--0fw:bold;--1:#1C6B48;--1fw:bold\"> User logs in successfully\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">Given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the user is on the login page\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">When\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the user submits valid credentials\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">Then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the user should see the dashboard\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"### User logs in successfully- **Given** the user is on the login page- **When** the user submits valid credentials- **Then** the user should see the dashboard\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>If a step is skipped, failed, or todo, the docs reflect that (e.g. ⚠️ or ❌).\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"next\">Next\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#next\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Next”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>\u003Ca href=\"/reference/vitest-story-api/\">Vitest story &#x26; doc API\u003C/a> — steps, modifiers, \u003Ccode dir=\"auto\">doc\u003C/code> API, and options.\u003C/p>\n\u003Cp>\u003Ca href=\"/recipes/vitest/index/\">Recipes (Vitest)\u003C/a> — more examples with tables, JSON, and tags.\u003C/p>",{"headings":180,"localImagePaths":185,"remoteImagePaths":186,"frontmatter":187,"imagePaths":188},[181,182,183,184],{"depth":57,"slug":128,"text":129},{"depth":57,"slug":131,"text":132},{"depth":57,"slug":134,"text":135},{"depth":57,"slug":137,"text":138},[],[],{"title":169,"description":170},[],"getting-started/installation-vitest",{"id":189,"data":191,"body":197,"filePath":198,"digest":199,"rendered":200},{"title":192,"description":193,"editUrl":16,"head":194,"template":46,"sidebar":195,"pagefind":16,"draft":35},"Installation (Vitest)","Install Vitest and vitest-executable-stories and add the reporter",[],{"hidden":35,"attrs":196},{},"## Install the packages\n\n```bash\npnpm add -D vitest vitest-executable-stories\n```\n\nOr with npm:\n\n```bash\nnpm install -D vitest vitest-executable-stories\n```\n\n## Add the reporter\n\nIn `vitest.config.ts`, import the reporter from the **`/reporter`** subpath so the config does not load the main package (which imports Vitest and can cause \"Vitest failed to access its internal state\" when loaded inside the config file):\n\n```typescript\nimport { defineConfig } from \"vitest/config\";\nimport { StoryReporter } from \"vitest-executable-stories/reporter\";\n\nexport default defineConfig({\n  test: {\n    reporters: [\"default\", new StoryReporter()],\n  },\n});\n```\n\n## Default output\n\nWith no options, the reporter writes to **`docs/user-stories.md`**. Run your tests:\n\n```bash\npnpm vitest run\n```\n\nThe Markdown file is generated after the test run.\n\n## Next\n\n[First Story (Vitest)](/getting-started/first-story-vitest/) — write your first scenario and see the generated docs.\n\n[Vitest reporter options](/reference/vitest-config/) — all configuration options.","src/content/docs/getting-started/installation-vitest.md","f03bb6be129cb5c6",{"html":201,"metadata":202},"\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"install-the-packages\">Install the packages\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#install-the-packages\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Install the packages”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/executable-stories/_astro/ec.t5t0k.css\">\u003Cscript type=\"module\" src=\"/executable-stories/_astro/ec.0vx5m.js\">\u003C/script>\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#80A665;--1:#4B7231\">pnpm\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">add\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C99076;--1:#995728\">-D\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">vitest\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">vitest-executable-stories\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"pnpm add -D vitest vitest-executable-stories\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>Or with npm:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#80A665;--1:#4B7231\">npm\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">install\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C99076;--1:#995728\">-D\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">vitest\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">vitest-executable-stories\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"npm install -D vitest vitest-executable-stories\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"add-the-reporter\">Add the reporter\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#add-the-reporter\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Add the reporter”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>In \u003Ccode dir=\"auto\">vitest.config.ts\u003C/code>, import the reporter from the \u003Cstrong>\u003Ccode dir=\"auto\">/reporter\u003C/code>\u003C/strong> subpath so the config does not load the main package (which imports Vitest and can cause “Vitest failed to access its internal state” when loaded inside the config file):\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#55987B;--1:#1E754F\">import\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">defineConfig\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">}\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">from\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">vitest/config\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#55987B;--1:#1E754F\">import\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">StoryReporter\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">}\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">from\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">vitest-executable-stories/reporter\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#55987B;--1:#1E754F\">export\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">default\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">defineConfig\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">({\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#B8A965;--1:#786713\">test\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#B8A965;--1:#786713\">reporters\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: [\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">default\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">, \u003C/span>\u003Cspan style=\"--0:#CB7676;--1:#9E5252\">new\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\"> \u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">StoryReporter\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">()],\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">});\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"import { defineConfig } from &#x22;vitest/config&#x22;;import { StoryReporter } from &#x22;vitest-executable-stories/reporter&#x22;;export default defineConfig({  test: {    reporters: [&#x22;default&#x22;, new StoryReporter()],  },});\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"default-output\">Default output\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#default-output\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Default output”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>With no options, the reporter writes to \u003Cstrong>\u003Ccode dir=\"auto\">docs/user-stories.md\u003C/code>\u003C/strong>. Run your tests:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#80A665;--1:#4B7231\">pnpm\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">vitest\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">run\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"pnpm vitest run\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>The Markdown file is generated after the test run.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"next\">Next\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#next\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Next”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>\u003Ca href=\"/getting-started/first-story-vitest/\">First Story (Vitest)\u003C/a> — write your first scenario and see the generated docs.\u003C/p>\n\u003Cp>\u003Ca href=\"/reference/vitest-config/\">Vitest reporter options\u003C/a> — all configuration options.\u003C/p>",{"headings":203,"localImagePaths":214,"remoteImagePaths":215,"frontmatter":216,"imagePaths":217},[204,207,210,213],{"depth":57,"slug":205,"text":206},"install-the-packages","Install the packages",{"depth":57,"slug":208,"text":209},"add-the-reporter","Add the reporter",{"depth":57,"slug":211,"text":212},"default-output","Default output",{"depth":57,"slug":137,"text":138},[],[],{"title":192,"description":193},[],"getting-started/installation-jest",{"id":218,"data":220,"body":226,"filePath":227,"digest":228,"rendered":229},{"title":221,"description":222,"editUrl":16,"head":223,"template":46,"sidebar":224,"pagefind":16,"draft":35},"Installation (Jest)","Install Jest and jest-executable-stories and add the reporter",[],{"hidden":35,"attrs":225},{},"## Install the packages\n\n```bash\npnpm add -D jest jest-executable-stories\n```\n\nOr with npm:\n\n```bash\nnpm install -D jest jest-executable-stories\n```\n\n## Add the reporter\n\nIn `jest.config.js` (or `jest.config.ts`), add the StoryReporter:\n\n```javascript\nmodule.exports = {\n  // ... your existing config\n  reporters: [\n    \"default\",\n    [\"jest-executable-stories/reporter\", { output: \"docs/user-stories.md\" }],\n  ],\n};\n```\n\n## Default output\n\nWith the option above, the reporter writes to **`docs/user-stories.md`**. Run your tests:\n\n```bash\npnpm jest\n```\n\nThe Markdown file is generated after the test run.\n\n## Next\n\n[First Story (Jest)](/getting-started/first-story-jest/) — write your first scenario.\n\n[Jest reporter options](/reference/jest-config/) — all configuration options.","src/content/docs/getting-started/installation-jest.md","26799b1936d90b1f",{"html":230,"metadata":231},"\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"install-the-packages\">Install the packages\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#install-the-packages\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Install the packages”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/executable-stories/_astro/ec.t5t0k.css\">\u003Cscript type=\"module\" src=\"/executable-stories/_astro/ec.0vx5m.js\">\u003C/script>\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#80A665;--1:#4B7231\">pnpm\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">add\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C99076;--1:#995728\">-D\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">jest\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">jest-executable-stories\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"pnpm add -D jest jest-executable-stories\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>Or with npm:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#80A665;--1:#4B7231\">npm\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">install\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C99076;--1:#995728\">-D\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">jest\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">jest-executable-stories\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"npm install -D jest jest-executable-stories\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"add-the-reporter\">Add the reporter\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#add-the-reporter\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Add the reporter”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>In \u003Ccode dir=\"auto\">jest.config.js\u003C/code> (or \u003Ccode dir=\"auto\">jest.config.ts\u003C/code>), add the StoryReporter:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"javascript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#B8A965;--1:#786713\">module\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#B8A965;--1:#786713\">exports\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">=\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#818F81FE;--1:#636B63\">// ... your existing config\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#B8A965;--1:#786713\">reporters\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">:\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">[\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">default\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">[\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">jest-executable-stories/reporter\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#B8A965;--1:#786713\">output\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">:\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">docs/user-stories.md\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">}],\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">],\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">};\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"module.exports = {  // ... your existing config  reporters: [    &#x22;default&#x22;,    [&#x22;jest-executable-stories/reporter&#x22;, { output: &#x22;docs/user-stories.md&#x22; }],  ],};\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"default-output\">Default output\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#default-output\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Default output”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>With the option above, the reporter writes to \u003Cstrong>\u003Ccode dir=\"auto\">docs/user-stories.md\u003C/code>\u003C/strong>. Run your tests:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#80A665;--1:#4B7231\">pnpm\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">jest\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"pnpm jest\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>The Markdown file is generated after the test run.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"next\">Next\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#next\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Next”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>\u003Ca href=\"/getting-started/first-story-jest/\">First Story (Jest)\u003C/a> — write your first scenario.\u003C/p>\n\u003Cp>\u003Ca href=\"/reference/jest-config/\">Jest reporter options\u003C/a> — all configuration options.\u003C/p>",{"headings":232,"localImagePaths":237,"remoteImagePaths":238,"frontmatter":239,"imagePaths":240},[233,234,235,236],{"depth":57,"slug":205,"text":206},{"depth":57,"slug":208,"text":209},{"depth":57,"slug":211,"text":212},{"depth":57,"slug":137,"text":138},[],[],{"title":221,"description":222},[],"getting-started/installation-playwright",{"id":241,"data":243,"body":249,"filePath":250,"digest":251,"rendered":252},{"title":244,"description":245,"editUrl":16,"head":246,"template":46,"sidebar":247,"pagefind":16,"draft":35},"Installation (Playwright)","Install Playwright and playwright-executable-stories and add the reporter",[],{"hidden":35,"attrs":248},{},"## Install the packages\n\n```bash\npnpm add -D @playwright/test playwright-executable-stories\n```\n\nOr with npm:\n\n```bash\nnpm install -D @playwright/test playwright-executable-stories\n```\n\n## Add the reporter\n\nIn `playwright.config.ts`, add the StoryReporter:\n\n```typescript\nimport { defineConfig } from \"@playwright/test\";\nimport { StoryReporter } from \"playwright-executable-stories/reporter\";\n\nexport default defineConfig({\n  reporter: [\n    [\"list\"],\n    [new StoryReporter(), { output: \"docs/user-stories.md\" }],\n  ],\n  // ... rest of config\n});\n```\n\n## Default output\n\nWith the option above, the reporter writes to **`docs/user-stories.md`**. Run your tests:\n\n```bash\npnpm playwright test\n```\n\nThe Markdown file is generated after the test run.\n\n## Next\n\n[First Story (Playwright)](/getting-started/first-story-playwright/) — write your first scenario.\n\n[Playwright reporter options](/reference/playwright-config/) — all configuration options.","src/content/docs/getting-started/installation-playwright.md","6fec0f871d2964ab",{"html":253,"metadata":254},"\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"install-the-packages\">Install the packages\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#install-the-packages\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Install the packages”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/executable-stories/_astro/ec.t5t0k.css\">\u003Cscript type=\"module\" src=\"/executable-stories/_astro/ec.0vx5m.js\">\u003C/script>\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#80A665;--1:#4B7231\">pnpm\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">add\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C99076;--1:#995728\">-D\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">@playwright/test\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">playwright-executable-stories\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"pnpm add -D @playwright/test playwright-executable-stories\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>Or with npm:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#80A665;--1:#4B7231\">npm\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">install\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C99076;--1:#995728\">-D\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">@playwright/test\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">playwright-executable-stories\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"npm install -D @playwright/test playwright-executable-stories\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"add-the-reporter\">Add the reporter\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#add-the-reporter\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Add the reporter”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>In \u003Ccode dir=\"auto\">playwright.config.ts\u003C/code>, add the StoryReporter:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#55987B;--1:#1E754F\">import\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">defineConfig\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">}\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">from\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">@playwright/test\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#55987B;--1:#1E754F\">import\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">StoryReporter\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">}\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">from\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">playwright-executable-stories/reporter\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#55987B;--1:#1E754F\">export\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">default\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">defineConfig\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">({\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#B8A965;--1:#786713\">reporter\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: [\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">[\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">list\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">],\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">[\u003C/span>\u003Cspan style=\"--0:#CB7676;--1:#9E5252\">new\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\"> \u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">StoryReporter\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(), { \u003C/span>\u003Cspan style=\"--0:#B8A965;--1:#786713\">output\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">docs/user-stories.md\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\"> }],\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">],\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#818F81FE;--1:#636B63\">// ... rest of config\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">});\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"import { defineConfig } from &#x22;@playwright/test&#x22;;import { StoryReporter } from &#x22;playwright-executable-stories/reporter&#x22;;export default defineConfig({  reporter: [    [&#x22;list&#x22;],    [new StoryReporter(), { output: &#x22;docs/user-stories.md&#x22; }],  ],  // ... rest of config});\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"default-output\">Default output\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#default-output\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Default output”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>With the option above, the reporter writes to \u003Cstrong>\u003Ccode dir=\"auto\">docs/user-stories.md\u003C/code>\u003C/strong>. Run your tests:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#80A665;--1:#4B7231\">pnpm\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">playwright\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">test\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"pnpm playwright test\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>The Markdown file is generated after the test run.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"next\">Next\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#next\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Next”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>\u003Ca href=\"/getting-started/first-story-playwright/\">First Story (Playwright)\u003C/a> — write your first scenario.\u003C/p>\n\u003Cp>\u003Ca href=\"/reference/playwright-config/\">Playwright reporter options\u003C/a> — all configuration options.\u003C/p>",{"headings":255,"localImagePaths":260,"remoteImagePaths":261,"frontmatter":262,"imagePaths":263},[256,257,258,259],{"depth":57,"slug":205,"text":206},{"depth":57,"slug":208,"text":209},{"depth":57,"slug":211,"text":212},{"depth":57,"slug":137,"text":138},[],[],{"title":244,"description":245},[],"reference/playwright-story-api",{"id":264,"data":266,"body":272,"filePath":273,"digest":274,"rendered":275},{"title":267,"description":268,"editUrl":16,"head":269,"template":46,"sidebar":270,"pagefind":16,"draft":35},"Playwright story & doc API","story(), given/when/then, StoryOptions, and doc API for playwright-executable-stories",[],{"hidden":35,"attrs":271},{},"Playwright exports **top-level** step functions: `given`, `when`, `then`, `and`, `but`. Step callbacks receive **Playwright fixtures** (e.g. `{ page }`).\n\n## story(title, [options], define)\n\nSame as Jest: options `tags`, `ticket`, `meta`. Steps run as Playwright tests with access to fixtures.\n\n```typescript\nimport { story, given, when, then } from \"playwright-executable-stories\";\nimport { expect } from \"@playwright/test\";\n\nstory(\"User logs in\", () => {\n  given(\"user is on login page\", async ({ page }) => {\n    await page.goto(\"/login\");\n  });\n  when(\"user submits valid credentials\", async ({ page }) => {\n    await page.fill(\"[name=email]\", \"user@example.com\");\n    await page.fill(\"[name=password]\", \"secret\");\n    await page.click(\"button[type=submit]\");\n  });\n  then(\"user sees the dashboard\", async ({ page }) => {\n    await expect(page).toHaveURL(/dashboard/);\n  });\n});\n```\n\n## Step functions\n\n- **given**, **when**, **then**, **and**, **but** — same keyword/And/But rules.\n- **Aliases:** arrange, act, assert, setup, context, execute, action, verify.\n- **Modifiers:** `.skip`, `.only`, `.fixme`, `.todo`, `.fail`, `.slow` (Playwright-specific where applicable).\n\n## doc API\n\nSame as Vitest/Jest: `doc.note`, `doc.tag`, `doc.kv`, `doc.code`, `doc.json`, `doc.table`, `doc.link`, `doc.section`, `doc.mermaid`, `doc.screenshot`, `doc.custom`, and `doc.runtime.*`. Use `doc.story(title, define)` to attach metadata to a plain `test()`.\n\nSee [Vitest story & doc API](/reference/vitest-story-api/) for detailed doc method descriptions.","src/content/docs/reference/playwright-story-api.md","5a02d331b35580c3",{"html":276,"metadata":277},"\u003Cp>Playwright exports \u003Cstrong>top-level\u003C/strong> step functions: \u003Ccode dir=\"auto\">given\u003C/code>, \u003Ccode dir=\"auto\">when\u003C/code>, \u003Ccode dir=\"auto\">then\u003C/code>, \u003Ccode dir=\"auto\">and\u003C/code>, \u003Ccode dir=\"auto\">but\u003C/code>. Step callbacks receive \u003Cstrong>Playwright fixtures\u003C/strong> (e.g. \u003Ccode dir=\"auto\">{ page }\u003C/code>).\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"storytitle-options-define\">story(title, [options], define)\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#storytitle-options-define\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “story(title, [options], define)”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Same as Jest: options \u003Ccode dir=\"auto\">tags\u003C/code>, \u003Ccode dir=\"auto\">ticket\u003C/code>, \u003Ccode dir=\"auto\">meta\u003C/code>. Steps run as Playwright tests with access to fixtures.\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/executable-stories/_astro/ec.t5t0k.css\">\u003Cscript type=\"module\" src=\"/executable-stories/_astro/ec.0vx5m.js\">\u003C/script>\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#55987B;--1:#1E754F\">import\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">story\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">when\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">then\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">}\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">from\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">playwright-executable-stories\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#55987B;--1:#1E754F\">import\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">expect\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">}\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">from\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">@playwright/test\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#80A665;--1:#4B7231\">story\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">User logs in\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">()\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">=>\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">user is on login page\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#CB7676;--1:#9E5252\">async\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">({\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">page\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">})\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">=>\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">await\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">page\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">goto\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">/login\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">});\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">when\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">user submits valid credentials\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#CB7676;--1:#9E5252\">async\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">({\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">page\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">})\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">=>\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">await\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">page\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">fill\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">[name=email]\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">user@example.com\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">await\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">page\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">fill\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">[name=password]\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">secret\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">await\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">page\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">click\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">button[type=submit]\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">});\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">user sees the dashboard\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#CB7676;--1:#9E5252\">async\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">({\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">page\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">})\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">=>\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">await\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">expect\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">page\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">).\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">toHaveURL\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">/\u003C/span>\u003Cspan style=\"--0:#C77757;--1:#9B5539\">dashboard\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">/\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">});\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">});\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"import { story, given, when, then } from &#x22;playwright-executable-stories&#x22;;import { expect } from &#x22;@playwright/test&#x22;;story(&#x22;User logs in&#x22;, () => {  given(&#x22;user is on login page&#x22;, async ({ page }) => {    await page.goto(&#x22;/login&#x22;);  });  when(&#x22;user submits valid credentials&#x22;, async ({ page }) => {    await page.fill(&#x22;[name=email]&#x22;, &#x22;user@example.com&#x22;);    await page.fill(&#x22;[name=password]&#x22;, &#x22;secret&#x22;);    await page.click(&#x22;button[type=submit]&#x22;);  });  then(&#x22;user sees the dashboard&#x22;, async ({ page }) => {    await expect(page).toHaveURL(/dashboard/);  });});\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"step-functions\">Step functions\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#step-functions\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Step functions”\u003C/span>\u003C/a>\u003C/div>\n\u003Cul>\n\u003Cli>\u003Cstrong>given\u003C/strong>, \u003Cstrong>when\u003C/strong>, \u003Cstrong>then\u003C/strong>, \u003Cstrong>and\u003C/strong>, \u003Cstrong>but\u003C/strong> — same keyword/And/But rules.\u003C/li>\n\u003Cli>\u003Cstrong>Aliases:\u003C/strong> arrange, act, assert, setup, context, execute, action, verify.\u003C/li>\n\u003Cli>\u003Cstrong>Modifiers:\u003C/strong> \u003Ccode dir=\"auto\">.skip\u003C/code>, \u003Ccode dir=\"auto\">.only\u003C/code>, \u003Ccode dir=\"auto\">.fixme\u003C/code>, \u003Ccode dir=\"auto\">.todo\u003C/code>, \u003Ccode dir=\"auto\">.fail\u003C/code>, \u003Ccode dir=\"auto\">.slow\u003C/code> (Playwright-specific where applicable).\u003C/li>\n\u003C/ul>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"doc-api\">doc API\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#doc-api\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “doc API”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Same as Vitest/Jest: \u003Ccode dir=\"auto\">doc.note\u003C/code>, \u003Ccode dir=\"auto\">doc.tag\u003C/code>, \u003Ccode dir=\"auto\">doc.kv\u003C/code>, \u003Ccode dir=\"auto\">doc.code\u003C/code>, \u003Ccode dir=\"auto\">doc.json\u003C/code>, \u003Ccode dir=\"auto\">doc.table\u003C/code>, \u003Ccode dir=\"auto\">doc.link\u003C/code>, \u003Ccode dir=\"auto\">doc.section\u003C/code>, \u003Ccode dir=\"auto\">doc.mermaid\u003C/code>, \u003Ccode dir=\"auto\">doc.screenshot\u003C/code>, \u003Ccode dir=\"auto\">doc.custom\u003C/code>, and \u003Ccode dir=\"auto\">doc.runtime.*\u003C/code>. Use \u003Ccode dir=\"auto\">doc.story(title, define)\u003C/code> to attach metadata to a plain \u003Ccode dir=\"auto\">test()\u003C/code>.\u003C/p>\n\u003Cp>See \u003Ca href=\"/reference/vitest-story-api/\">Vitest story &#x26; doc API\u003C/a> for detailed doc method descriptions.\u003C/p>",{"headings":278,"localImagePaths":282,"remoteImagePaths":283,"frontmatter":284,"imagePaths":285},[279,280,281],{"depth":57,"slug":58,"text":59},{"depth":57,"slug":61,"text":62},{"depth":57,"slug":64,"text":65},[],[],{"title":267,"description":268},[],"reference/vitest-config",{"id":286,"data":288,"body":294,"filePath":295,"digest":296,"rendered":297},{"title":289,"description":290,"editUrl":16,"head":291,"template":46,"sidebar":292,"pagefind":16,"draft":35},"Vitest reporter options","Every option for StoryReporter in vitest.config",[],{"hidden":35,"attrs":293},{},"Use the **`/reporter`** subpath in your config so Vitest is not loaded in the config context:\n\n```typescript\nimport { defineConfig } from \"vitest/config\";\nimport { StoryReporter } from \"vitest-executable-stories/reporter\";\n\nexport default defineConfig({\n  test: {\n    reporters: [\"default\", new StoryReporter({ /* options */ })],\n  },\n});\n```\n\n## Options reference\n\nEach option: **name**, **type**, **default**, **description**, **example**.\n\n| Option | Type | Default | Description |\n|--------|------|--------|-------------|\n| `title` | `string` | `\"User Stories\"` | Report title (first line). |\n| `description` | `string` | `\"\"` | Optional description paragraph under the title. |\n| `includeFrontMatter` | `boolean` | `false` | Include YAML front-matter for machine parsing. |\n| `output` | `string \\| OutputRule[]` | (colocated) | Single file path or array of rules. See below. |\n| `permalinkBaseUrl` | `string` | — | Base URL for source links (e.g. GitHub blob). Adds \"Source: [file](url)\" under each scenario. |\n| `enableGithubActionsSummary` | `boolean` | `true` | When `GITHUB_ACTIONS`, append report to job summary. |\n| `includeSummaryTable` | `boolean` | `false` | Add summary table (start time, duration, scenario/step counts, passed/failed/skipped). |\n| `includeMetadata` | `boolean` | `true` | Include metadata block (date, package version). |\n| `metadata.date` | `\"iso\" \\| \"locale\" \\| false` | `\"iso\"` | Date format for metadata block. |\n| `metadata.packageVersion` | `boolean` | `true` | Include package.json version in metadata. |\n| `metadata.gitSha` | `boolean` | `true` | Include git SHA (short) in metadata. |\n| `includeJson` | `boolean` | `false` | Emit a JSON report alongside Markdown. |\n| `json.outputFile` | `string` | (same as Markdown with .json) | Output file path for JSON. |\n| `json.includeDocs` | `\"all\" \\| \"static\" \\| \"runtime\"` | `\"all\"` | Include doc entries in JSON. |\n| `coverage.include` | `boolean` | `false` | Include coverage summary (reads coverage-final.json). |\n| `coverage.file` | `string` | `\"coverage/coverage-final.json\"` | Path to coverage file. |\n| `groupBy` | `\"file\" \\| \"none\"` | `\"file\"` | How to group scenarios. |\n| `scenarioHeadingLevel` | `2 \\| 3 \\| 4` | 3 when groupBy=file, 2 when none | Heading level for scenario titles. |\n| `stepStyle` | `\"bullets\" \\| \"gherkin\"` | `\"bullets\"` | Step rendering style. |\n| `markdown` | `\"gfm\" \\| \"commonmark\" \\| \"confluence\"` | `\"gfm\"` | Markdown dialect (indentation for nested blocks). |\n| `includeStatus` | `boolean` | `true` | Include status icons on scenarios (e.g. ✅ ⚠️). |\n| `includeDurations` | `boolean` | `false` | Include duration in markdown output. |\n| `includeErrorInMarkdown` | `boolean` | `true` | Include failure error in markdown for failed scenarios. |\n| `includeEmpty` | `boolean` | `true` | Include outputs even when there are no matched scenarios. |\n| `sortFiles` | `\"alpha\" \\| \"source\" \\| \"none\"` | `\"alpha\"` | Sort files in markdown output. |\n| `sortScenarios` | `\"alpha\" \\| \"source\" \\| \"none\"` | `\"alpha\"` | Sort scenarios in markdown output. |\n| `filter.includeTags` | `string[]` | — | Only include scenarios with these tags. |\n| `filter.excludeTags` | `string[]` | — | Exclude scenarios with these tags. |\n| `filter.includeFiles` | `string \\| string[]` | — | Glob(s) to include test files. |\n| `filter.excludeFiles` | `string \\| string[]` | — | Glob(s) to exclude test files. |\n| `includeSourceLinks` | `boolean` | `true` | Include source links when permalinkBaseUrl is set. |\n| `ticketUrlTemplate` | `string` | — | URL template for ticket links. Use `{ticket}` as placeholder. |\n| `customRenderers` | `Record\u003Cstring, CustomDocRenderer>` | — | Custom renderers for `doc.custom()` entries, keyed by type. |\n\n## Output configuration\n\n**Single aggregated file:**\n\n```typescript\nnew StoryReporter({ output: \"docs/user-stories.md\" })\n```\n\n**Colocated** (default when `output` is omitted): write a `.docs.md` file next to each test file.\n\n**Multiple rules:**\n\n```typescript\nnew StoryReporter({\n  output: [\n    { include: \"src/features/**/*.story.test.ts\", mode: \"aggregated\", outputFile: \"docs/features.md\" },\n    { include: \"src/e2e/**/*.story.test.ts\", mode: \"colocated\", extension: \".story.docs.md\" },\n  ],\n})\n```\n\n## Example with common options\n\n```typescript\nimport { defineConfig } from \"vitest/config\";\nimport { StoryReporter } from \"vitest-executable-stories/reporter\";\n\nexport default defineConfig({\n  test: {\n    reporters: [\n      \"default\",\n      new StoryReporter({\n        title: \"User Stories\",\n        output: \"docs/user-stories.md\",\n        includeSummaryTable: true,\n        includeMetadata: true,\n        permalinkBaseUrl: \"https://github.com/your-org/your-repo/blob/main/\",\n      }),\n    ],\n  },\n});\n```","src/content/docs/reference/vitest-config.md","5d743019cc7bba83",{"html":298,"metadata":299},"\u003Cp>Use the \u003Cstrong>\u003Ccode dir=\"auto\">/reporter\u003C/code>\u003C/strong> subpath in your config so Vitest is not loaded in the config context:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/executable-stories/_astro/ec.t5t0k.css\">\u003Cscript type=\"module\" src=\"/executable-stories/_astro/ec.0vx5m.js\">\u003C/script>\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#55987B;--1:#1E754F\">import\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">defineConfig\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">}\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">from\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">vitest/config\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#55987B;--1:#1E754F\">import\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">StoryReporter\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">}\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">from\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">vitest-executable-stories/reporter\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#55987B;--1:#1E754F\">export\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">default\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">defineConfig\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">({\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#B8A965;--1:#786713\">test\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#B8A965;--1:#786713\">reporters\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: [\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">default\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">, \u003C/span>\u003Cspan style=\"--0:#CB7676;--1:#9E5252\">new\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\"> \u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">StoryReporter\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">({ \u003C/span>\u003Cspan style=\"--0:#818F81FE;--1:#636B63\">/* options */\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\"> })],\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">});\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"import { defineConfig } from &#x22;vitest/config&#x22;;import { StoryReporter } from &#x22;vitest-executable-stories/reporter&#x22;;export default defineConfig({  test: {    reporters: [&#x22;default&#x22;, new StoryReporter({ /* options */ })],  },});\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"options-reference\">Options reference\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#options-reference\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Options reference”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Each option: \u003Cstrong>name\u003C/strong>, \u003Cstrong>type\u003C/strong>, \u003Cstrong>default\u003C/strong>, \u003Cstrong>description\u003C/strong>, \u003Cstrong>example\u003C/strong>.\u003C/p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Option\u003C/th>\u003Cth>Type\u003C/th>\u003Cth>Default\u003C/th>\u003Cth>Description\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">title\u003C/code>\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">string\u003C/code>\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">\"User Stories\"\u003C/code>\u003C/td>\u003Ctd>Report title (first line).\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">description\u003C/code>\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">string\u003C/code>\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">\"\"\u003C/code>\u003C/td>\u003Ctd>Optional description paragraph under the title.\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">includeFrontMatter\u003C/code>\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">boolean\u003C/code>\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">false\u003C/code>\u003C/td>\u003Ctd>Include YAML front-matter for machine parsing.\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">output\u003C/code>\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">string | OutputRule[]\u003C/code>\u003C/td>\u003Ctd>(colocated)\u003C/td>\u003Ctd>Single file path or array of rules. See below.\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">permalinkBaseUrl\u003C/code>\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">string\u003C/code>\u003C/td>\u003Ctd>—\u003C/td>\u003Ctd>Base URL for source links (e.g. GitHub blob). Adds “Source: \u003Ca href=\"url\">file\u003C/a>” under each scenario.\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">enableGithubActionsSummary\u003C/code>\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">boolean\u003C/code>\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">true\u003C/code>\u003C/td>\u003Ctd>When \u003Ccode dir=\"auto\">GITHUB_ACTIONS\u003C/code>, append report to job summary.\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">includeSummaryTable\u003C/code>\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">boolean\u003C/code>\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">false\u003C/code>\u003C/td>\u003Ctd>Add summary table (start time, duration, scenario/step counts, passed/failed/skipped).\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">includeMetadata\u003C/code>\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">boolean\u003C/code>\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">true\u003C/code>\u003C/td>\u003Ctd>Include metadata block (date, package version).\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">metadata.date\u003C/code>\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">\"iso\" | \"locale\" | false\u003C/code>\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">\"iso\"\u003C/code>\u003C/td>\u003Ctd>Date format for metadata block.\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">metadata.packageVersion\u003C/code>\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">boolean\u003C/code>\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">true\u003C/code>\u003C/td>\u003Ctd>Include package.json version in metadata.\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">metadata.gitSha\u003C/code>\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">boolean\u003C/code>\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">true\u003C/code>\u003C/td>\u003Ctd>Include git SHA (short) in metadata.\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">includeJson\u003C/code>\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">boolean\u003C/code>\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">false\u003C/code>\u003C/td>\u003Ctd>Emit a JSON report alongside Markdown.\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">json.outputFile\u003C/code>\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">string\u003C/code>\u003C/td>\u003Ctd>(same as Markdown with .json)\u003C/td>\u003Ctd>Output file path for JSON.\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">json.includeDocs\u003C/code>\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">\"all\" | \"static\" | \"runtime\"\u003C/code>\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">\"all\"\u003C/code>\u003C/td>\u003Ctd>Include doc entries in JSON.\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">coverage.include\u003C/code>\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">boolean\u003C/code>\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">false\u003C/code>\u003C/td>\u003Ctd>Include coverage summary (reads coverage-final.json).\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">coverage.file\u003C/code>\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">string\u003C/code>\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">\"coverage/coverage-final.json\"\u003C/code>\u003C/td>\u003Ctd>Path to coverage file.\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">groupBy\u003C/code>\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">\"file\" | \"none\"\u003C/code>\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">\"file\"\u003C/code>\u003C/td>\u003Ctd>How to group scenarios.\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">scenarioHeadingLevel\u003C/code>\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">2 | 3 | 4\u003C/code>\u003C/td>\u003Ctd>3 when groupBy=file, 2 when none\u003C/td>\u003Ctd>Heading level for scenario titles.\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">stepStyle\u003C/code>\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">\"bullets\" | \"gherkin\"\u003C/code>\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">\"bullets\"\u003C/code>\u003C/td>\u003Ctd>Step rendering style.\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">markdown\u003C/code>\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">\"gfm\" | \"commonmark\" | \"confluence\"\u003C/code>\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">\"gfm\"\u003C/code>\u003C/td>\u003Ctd>Markdown dialect (indentation for nested blocks).\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">includeStatus\u003C/code>\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">boolean\u003C/code>\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">true\u003C/code>\u003C/td>\u003Ctd>Include status icons on scenarios (e.g. ✅ ⚠️).\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">includeDurations\u003C/code>\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">boolean\u003C/code>\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">false\u003C/code>\u003C/td>\u003Ctd>Include duration in markdown output.\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">includeErrorInMarkdown\u003C/code>\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">boolean\u003C/code>\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">true\u003C/code>\u003C/td>\u003Ctd>Include failure error in markdown for failed scenarios.\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">includeEmpty\u003C/code>\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">boolean\u003C/code>\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">true\u003C/code>\u003C/td>\u003Ctd>Include outputs even when there are no matched scenarios.\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">sortFiles\u003C/code>\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">\"alpha\" | \"source\" | \"none\"\u003C/code>\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">\"alpha\"\u003C/code>\u003C/td>\u003Ctd>Sort files in markdown output.\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">sortScenarios\u003C/code>\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">\"alpha\" | \"source\" | \"none\"\u003C/code>\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">\"alpha\"\u003C/code>\u003C/td>\u003Ctd>Sort scenarios in markdown output.\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">filter.includeTags\u003C/code>\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">string[]\u003C/code>\u003C/td>\u003Ctd>—\u003C/td>\u003Ctd>Only include scenarios with these tags.\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">filter.excludeTags\u003C/code>\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">string[]\u003C/code>\u003C/td>\u003Ctd>—\u003C/td>\u003Ctd>Exclude scenarios with these tags.\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">filter.includeFiles\u003C/code>\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">string | string[]\u003C/code>\u003C/td>\u003Ctd>—\u003C/td>\u003Ctd>Glob(s) to include test files.\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">filter.excludeFiles\u003C/code>\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">string | string[]\u003C/code>\u003C/td>\u003Ctd>—\u003C/td>\u003Ctd>Glob(s) to exclude test files.\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">includeSourceLinks\u003C/code>\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">boolean\u003C/code>\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">true\u003C/code>\u003C/td>\u003Ctd>Include source links when permalinkBaseUrl is set.\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">ticketUrlTemplate\u003C/code>\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">string\u003C/code>\u003C/td>\u003Ctd>—\u003C/td>\u003Ctd>URL template for ticket links. Use \u003Ccode dir=\"auto\">{ticket}\u003C/code> as placeholder.\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">customRenderers\u003C/code>\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">Record&#x3C;string, CustomDocRenderer>\u003C/code>\u003C/td>\u003Ctd>—\u003C/td>\u003Ctd>Custom renderers for \u003Ccode dir=\"auto\">doc.custom()\u003C/code> entries, keyed by type.\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"output-configuration\">Output configuration\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#output-configuration\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Output configuration”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>\u003Cstrong>Single aggregated file:\u003C/strong>\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#CB7676;--1:#9E5252\">new\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">StoryReporter\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">({ \u003C/span>\u003Cspan style=\"--0:#B8A965;--1:#786713\">output\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">docs/user-stories.md\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\"> })\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"new StoryReporter({ output: &#x22;docs/user-stories.md&#x22; })\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>\u003Cstrong>Colocated\u003C/strong> (default when \u003Ccode dir=\"auto\">output\u003C/code> is omitted): write a \u003Ccode dir=\"auto\">.docs.md\u003C/code> file next to each test file.\u003C/p>\n\u003Cp>\u003Cstrong>Multiple rules:\u003C/strong>\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#CB7676;--1:#9E5252\">new\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">StoryReporter\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">({\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#B8A965;--1:#786713\">output\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: [\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{ \u003C/span>\u003Cspan style=\"--0:#B8A965;--1:#786713\">include\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">src/features/**/*.story.test.ts\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">, \u003C/span>\u003Cspan style=\"--0:#B8A965;--1:#786713\">mode\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">aggregated\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">, \u003C/span>\u003Cspan style=\"--0:#B8A965;--1:#786713\">outputFile\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">docs/features.md\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\"> },\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{ \u003C/span>\u003Cspan style=\"--0:#B8A965;--1:#786713\">include\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">src/e2e/**/*.story.test.ts\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">, \u003C/span>\u003Cspan style=\"--0:#B8A965;--1:#786713\">mode\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">colocated\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">, \u003C/span>\u003Cspan style=\"--0:#B8A965;--1:#786713\">extension\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">.story.docs.md\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\"> },\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">],\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">})\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"new StoryReporter({  output: [    { include: &#x22;src/features/**/*.story.test.ts&#x22;, mode: &#x22;aggregated&#x22;, outputFile: &#x22;docs/features.md&#x22; },    { include: &#x22;src/e2e/**/*.story.test.ts&#x22;, mode: &#x22;colocated&#x22;, extension: &#x22;.story.docs.md&#x22; },  ],})\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"example-with-common-options\">Example with common options\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#example-with-common-options\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Example with common options”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#55987B;--1:#1E754F\">import\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">defineConfig\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">}\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">from\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">vitest/config\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#55987B;--1:#1E754F\">import\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">StoryReporter\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">}\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">from\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">vitest-executable-stories/reporter\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#55987B;--1:#1E754F\">export\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">default\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">defineConfig\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">({\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#B8A965;--1:#786713\">test\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#B8A965;--1:#786713\">reporters\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: [\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">default\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#CB7676;--1:#9E5252\">new\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\"> \u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">StoryReporter\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">({\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">        \u003C/span>\u003Cspan style=\"--0:#B8A965;--1:#786713\">title\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">User Stories\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">        \u003C/span>\u003Cspan style=\"--0:#B8A965;--1:#786713\">output\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">docs/user-stories.md\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">        \u003C/span>\u003Cspan style=\"--0:#B8A965;--1:#786713\">includeSummaryTable\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">true\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">        \u003C/span>\u003Cspan style=\"--0:#B8A965;--1:#786713\">includeMetadata\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">true\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">        \u003C/span>\u003Cspan style=\"--0:#B8A965;--1:#786713\">permalinkBaseUrl\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">https://github.com/your-org/your-repo/blob/main/\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">}),\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">],\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">});\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"import { defineConfig } from &#x22;vitest/config&#x22;;import { StoryReporter } from &#x22;vitest-executable-stories/reporter&#x22;;export default defineConfig({  test: {    reporters: [      &#x22;default&#x22;,      new StoryReporter({        title: &#x22;User Stories&#x22;,        output: &#x22;docs/user-stories.md&#x22;,        includeSummaryTable: true,        includeMetadata: true,        permalinkBaseUrl: &#x22;https://github.com/your-org/your-repo/blob/main/&#x22;,      }),    ],  },});\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>",{"headings":300,"localImagePaths":308,"remoteImagePaths":309,"frontmatter":310,"imagePaths":311},[301,302,305],{"depth":57,"slug":86,"text":87},{"depth":57,"slug":303,"text":304},"output-configuration","Output configuration",{"depth":57,"slug":306,"text":307},"example-with-common-options","Example with common options",[],[],{"title":289,"description":290},[],"recipes/jest",{"id":312,"data":314,"body":320,"filePath":321,"digest":322,"rendered":323},{"title":315,"description":316,"editUrl":16,"head":317,"template":46,"sidebar":318,"pagefind":16,"draft":35},"Recipes (Jest)","Example scenarios with Jest code and generated output",[],{"hidden":35,"attrs":319},{},"The same replicate scenarios are implemented in **Jest** in [jest-example](https://github.com/jagreehal/executable-stories/tree/main/apps/jest-example). Jest uses **top-level** step functions: `given`, `when`, `then`, `and`, `but` (no callback).\n\n## Example: User logs in successfully\n\n### Generated output\n\nSame as Vitest: Given/And/When/Then bullets (see [Vitest recipe](/recipes/vitest/user-logs-in-successfully/)).\n\n### Jest code\n\n```typescript\nimport { story, given, when, then } from \"jest-executable-stories\";\n\nstory(\"User logs in successfully\", () => {\n  given(\"the user account exists\");\n  given(\"the user is on the login page\");\n  given(\"the account is active\");\n  when(\"the user submits valid credentials\");\n  then(\"the user should see the dashboard\");\n});\n```\n\n## Full recipe list (Jest)\n\nThe same 30 scenarios as [Vitest recipes](/recipes/vitest/) are in `apps/jest-example/src/replicate.story.test.ts`. Generated docs: `apps/jest-example/src/replicate.story.docs.md` (or colocated output). For each scenario:\n\n- **Generated output** is the same (same story structure and doc API).\n- **Code** uses top-level `given`/`when`/`then`/`and`/`but` and `doc.*` instead of `steps.given`/`s.doc`.\n\n| Scenario | Pattern |\n|----------|---------|\n| User logs in successfully | Multiple Given, single When, single Then |\n| User updates profile details | Single Given, multiple When, single Then |\n| Checkout calculates totals | Single Given, single When, multiple Then |\n| Password reset flow | Multiple Given/When/Then |\n| Login blocked for suspended user | Use of But |\n| Bulk user creation | doc.table |\n| API accepts JSON payload | doc.json |\n| … | See [Vitest recipes](/recipes/vitest/) for full list and output examples. |\n\n[Jest story & doc API](/reference/jest-story-api/) — steps and doc usage.","src/content/docs/recipes/jest/index.md","37982b7de22cdafb",{"html":324,"metadata":325},"\u003Cp>The same replicate scenarios are implemented in \u003Cstrong>Jest\u003C/strong> in \u003Ca href=\"https://github.com/jagreehal/executable-stories/tree/main/apps/jest-example\">jest-example\u003C/a>. Jest uses \u003Cstrong>top-level\u003C/strong> step functions: \u003Ccode dir=\"auto\">given\u003C/code>, \u003Ccode dir=\"auto\">when\u003C/code>, \u003Ccode dir=\"auto\">then\u003C/code>, \u003Ccode dir=\"auto\">and\u003C/code>, \u003Ccode dir=\"auto\">but\u003C/code> (no callback).\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"example-user-logs-in-successfully\">Example: User logs in successfully\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#example-user-logs-in-successfully\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Example: User logs in successfully”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"generated-output\">Generated output\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#generated-output\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Generated output”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Same as Vitest: Given/And/When/Then bullets (see \u003Ca href=\"/recipes/vitest/user-logs-in-successfully/\">Vitest recipe\u003C/a>).\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"jest-code\">Jest code\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#jest-code\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Jest code”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/executable-stories/_astro/ec.t5t0k.css\">\u003Cscript type=\"module\" src=\"/executable-stories/_astro/ec.0vx5m.js\">\u003C/script>\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#55987B;--1:#1E754F\">import\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">story\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">when\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">then\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">}\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">from\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">jest-executable-stories\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#80A665;--1:#4B7231\">story\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">User logs in successfully\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">()\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">=>\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the user account exists\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the user is on the login page\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the account is active\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">when\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the user submits valid credentials\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the user should see the dashboard\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">});\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"import { story, given, when, then } from &#x22;jest-executable-stories&#x22;;story(&#x22;User logs in successfully&#x22;, () => {  given(&#x22;the user account exists&#x22;);  given(&#x22;the user is on the login page&#x22;);  given(&#x22;the account is active&#x22;);  when(&#x22;the user submits valid credentials&#x22;);  then(&#x22;the user should see the dashboard&#x22;);});\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"full-recipe-list-jest\">Full recipe list (Jest)\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#full-recipe-list-jest\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Full recipe list (Jest)”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>The same 30 scenarios as \u003Ca href=\"/recipes/vitest/\">Vitest recipes\u003C/a> are in \u003Ccode dir=\"auto\">apps/jest-example/src/replicate.story.test.ts\u003C/code>. Generated docs: \u003Ccode dir=\"auto\">apps/jest-example/src/replicate.story.docs.md\u003C/code> (or colocated output). For each scenario:\u003C/p>\n\u003Cul>\n\u003Cli>\u003Cstrong>Generated output\u003C/strong> is the same (same story structure and doc API).\u003C/li>\n\u003Cli>\u003Cstrong>Code\u003C/strong> uses top-level \u003Ccode dir=\"auto\">given\u003C/code>/\u003Ccode dir=\"auto\">when\u003C/code>/\u003Ccode dir=\"auto\">then\u003C/code>/\u003Ccode dir=\"auto\">and\u003C/code>/\u003Ccode dir=\"auto\">but\u003C/code> and \u003Ccode dir=\"auto\">doc.*\u003C/code> instead of \u003Ccode dir=\"auto\">steps.given\u003C/code>/\u003Ccode dir=\"auto\">s.doc\u003C/code>.\u003C/li>\n\u003C/ul>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Scenario\u003C/th>\u003Cth>Pattern\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>User logs in successfully\u003C/td>\u003Ctd>Multiple Given, single When, single Then\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>User updates profile details\u003C/td>\u003Ctd>Single Given, multiple When, single Then\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Checkout calculates totals\u003C/td>\u003Ctd>Single Given, single When, multiple Then\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Password reset flow\u003C/td>\u003Ctd>Multiple Given/When/Then\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Login blocked for suspended user\u003C/td>\u003Ctd>Use of But\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Bulk user creation\u003C/td>\u003Ctd>doc.table\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>API accepts JSON payload\u003C/td>\u003Ctd>doc.json\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>…\u003C/td>\u003Ctd>See \u003Ca href=\"/recipes/vitest/\">Vitest recipes\u003C/a> for full list and output examples.\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Cp>\u003Ca href=\"/reference/jest-story-api/\">Jest story &#x26; doc API\u003C/a> — steps and doc usage.\u003C/p>",{"headings":326,"localImagePaths":338,"remoteImagePaths":339,"frontmatter":340,"imagePaths":341},[327,330,332,335],{"depth":57,"slug":328,"text":329},"example-user-logs-in-successfully","Example: User logs in successfully",{"depth":331,"slug":134,"text":135},3,{"depth":331,"slug":333,"text":334},"jest-code","Jest code",{"depth":57,"slug":336,"text":337},"full-recipe-list-jest","Full recipe list (Jest)",[],[],{"title":315,"description":316,"slug":312},[],"reference/vitest-story-api",{"id":342,"data":344,"body":350,"filePath":351,"digest":352,"rendered":353},{"title":345,"description":346,"editUrl":16,"head":347,"template":46,"sidebar":348,"pagefind":16,"draft":35},"Vitest story & doc API","story(), steps, StoryOptions, and doc API for vitest-executable-stories",[],{"hidden":35,"attrs":349},{},"Vitest exposes **`story`** and a **callback API**: step functions exist only on the `steps` argument (no top-level `then` to avoid thenable issues). Use `steps.given`, `steps.when`, `steps.then`, `steps.and`, `steps.but`, and `steps.doc`.\n\n## story(title, [options], define)\n\nRegisters a scenario (describe block) and its steps as Vitest tests.\n\n| Item | Description |\n|------|-------------|\n| **What it is** | A describe block with story metadata; each step is registered as an `it()`. |\n| **Default** | — |\n| **Example** | `story(\"User logs in\", (s) => { s.given(\"...\"); s.when(\"...\"); s.then(\"...\"); });` |\n\n**Overloads:**\n\n- `story(title: string, define: (steps: StepsApi) => void)`\n- `story(title: string, options: StoryOptions, define: (steps: StepsApi) => void)`\n\n### StoryOptions\n\n| Option | Type | Default | Description |\n|--------|------|--------|-------------|\n| `tags` | `string[]` | — | Tags for filtering and categorizing (e.g. `[\"smoke\", \"auth\"]`). |\n| `ticket` | `string \\| string[]` | — | Ticket/issue reference(s) for requirements traceability. |\n| `meta` | `Record\u003Cstring, unknown>` | — | Arbitrary user-defined metadata. |\n\n**Example:**\n\n```typescript\nstory(\"Login works\", { tags: [\"smoke\", \"auth\"], ticket: \"JIRA-123\" }, (steps) => {\n  steps.given(\"the user is on the login page\");\n  steps.when(\"the user logs in with valid credentials\");\n  steps.then(\"the user should be logged in\");\n});\n```\n\n## Steps API (callback argument)\n\nThe callback receives a `steps` object (or `s`) with:\n\n### BDD keywords\n\n| Method | Renders as | Description |\n|--------|------------|-------------|\n| `steps.given(text, fn?)` | Given / And | First given → \"Given\"; subsequent in same story → \"And\". |\n| `steps.when(text, fn?)` | When / And | Same auto-And rule for repeated when. |\n| `steps.then(text, fn?)` | Then / And | Same for then. |\n| `steps.and(text, fn?)` | And | Always \"And\" (never auto-converted). |\n| `steps.but(text, fn?)` | But | Always \"But\" (negative intent). |\n\n### AAA and other aliases\n\n| Alias | Maps to |\n|-------|---------|\n| `arrange`, `setup`, `context` | given |\n| `act`, `execute`, `action` | when |\n| `assert`, `verify` | then |\n\n### Step modifiers\n\nEach step function has Vitest modifiers: `.skip`, `.only`, `.todo`, `.fails`, `.concurrent`.\n\n**Example:**\n\n```typescript\nsteps.given(\"setup\", () => {});\nsteps.given.skip(\"skipped precondition\", () => {});\nsteps.then.todo(\"not implemented yet\");\nsteps.then.fails(\"this step is expected to throw\", () => { throw new Error(\"\"); });\n```\n\n## doc (rich documentation)\n\nAttach tables, code blocks, notes, and more to steps. Use `steps.doc` inside a story.\n\n### Static doc methods (registration time)\n\n| Method | Description | Example |\n|--------|-------------|---------|\n| `doc.note(text)` | Add a note (e.g. \"But guest checkout is enabled\"). | `steps.doc.note(\"But guest checkout is enabled\");` |\n| `doc.tag(names)` | Add tag(s). | `steps.doc.tag([\"wip\"]);` |\n| `doc.kv(label, value)` | Key-value (label + value). | `steps.doc.kv(\"Version\", \"1.0\");` |\n| `doc.code(label, content, lang?)` | Code block. | `steps.doc.code(\"Invoice\", \"\u003Cxml>...\u003C/xml>\", \"xml\");` |\n| `doc.json(label, value)` | JSON block (stringified). | `steps.doc.json(\"Payload\", { id: 1 });` |\n| `doc.table(label, columns, rows)` | Markdown table. | `steps.doc.table(\"Users\", [\"email\"], [[\"a@x.com\"]]);` |\n| `doc.link(label, url)` | Link. | `steps.doc.link(\"Spec\", \"https://...\");` |\n| `doc.section(title, markdown)` | Section with raw markdown. | `steps.doc.section(\"Notes\", \"**Bold**\");` |\n| `doc.mermaid(code, title?)` | Mermaid diagram. | `steps.doc.mermaid(\"graph LR; A-->B\");` |\n| `doc.screenshot(path, alt?)` | Screenshot reference. | `steps.doc.screenshot(\"screen.png\");` |\n| `doc.custom(type, data)` | Custom entry (use `customRenderers` in reporter). | `steps.doc.custom(\"myType\", data);` |\n\n### doc.runtime (during step execution)\n\nSame methods (`note`, `tag`, `kv`, `code`, `json`, `mermaid`, `screenshot`, `custom`) are available on `steps.doc.runtime` and run when the step executes (e.g. to capture dynamic values).\n\n### doc.story(title, ...) — framework-native test\n\nAttach story metadata to a plain `it()` without using `story()`:\n\n```typescript\nimport { it } from \"vitest\";\nimport { doc } from \"vitest-executable-stories\";\n\nit(\"adds two numbers\", ({ task }) => {\n  doc.story(\"Calculator adds\", (s) => {\n    s.given(\"numbers 2 and 3\");\n    s.when(\"they are added\");\n    s.then(\"the result is 5\");\n  });\n  expect(2 + 3).toBe(5);\n});\n```\n\n## Using steps from vitest-executable-stories/steps\n\nYou can destructure step functions and use them inside `story()` without the callback argument:\n\n```typescript\nimport { story } from \"vitest-executable-stories\";\nimport { given, when, then } from \"vitest-executable-stories/steps\";\n\nstory(\"Calculator adds\", () => {\n  given(\"two numbers 5 and 3\", () => {});\n  when(\"the numbers are added\", () => {});\n  then(\"the result is 8\", () => {});\n});\n```\n\nImport from **`vitest-executable-stories/steps`**: `given`, `when`, `and`, `but`, `arrange`, `act`, `assert` (alias for then), `doc`, etc. The package does not export a top-level `then` (to avoid thenable issues); use `assert` for the then step when using the destructured steps.","src/content/docs/reference/vitest-story-api.md","3389b1e85911d225",{"html":354,"metadata":355},"\u003Cp>Vitest exposes \u003Cstrong>\u003Ccode dir=\"auto\">story\u003C/code>\u003C/strong> and a \u003Cstrong>callback API\u003C/strong>: step functions exist only on the \u003Ccode dir=\"auto\">steps\u003C/code> argument (no top-level \u003Ccode dir=\"auto\">then\u003C/code> to avoid thenable issues). Use \u003Ccode dir=\"auto\">steps.given\u003C/code>, \u003Ccode dir=\"auto\">steps.when\u003C/code>, \u003Ccode dir=\"auto\">steps.then\u003C/code>, \u003Ccode dir=\"auto\">steps.and\u003C/code>, \u003Ccode dir=\"auto\">steps.but\u003C/code>, and \u003Ccode dir=\"auto\">steps.doc\u003C/code>.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"storytitle-options-define\">story(title, [options], define)\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#storytitle-options-define\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “story(title, [options], define)”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Registers a scenario (describe block) and its steps as Vitest tests.\u003C/p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Item\u003C/th>\u003Cth>Description\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Cstrong>What it is\u003C/strong>\u003C/td>\u003Ctd>A describe block with story metadata; each step is registered as an \u003Ccode dir=\"auto\">it()\u003C/code>.\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Cstrong>Default\u003C/strong>\u003C/td>\u003Ctd>—\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Cstrong>Example\u003C/strong>\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">story(\"User logs in\", (s) => { s.given(\"...\"); s.when(\"...\"); s.then(\"...\"); });\u003C/code>\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Cp>\u003Cstrong>Overloads:\u003C/strong>\u003C/p>\n\u003Cul>\n\u003Cli>\u003Ccode dir=\"auto\">story(title: string, define: (steps: StepsApi) => void)\u003C/code>\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">story(title: string, options: StoryOptions, define: (steps: StepsApi) => void)\u003C/code>\u003C/li>\n\u003C/ul>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"storyoptions\">StoryOptions\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#storyoptions\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “StoryOptions”\u003C/span>\u003C/a>\u003C/div>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Option\u003C/th>\u003Cth>Type\u003C/th>\u003Cth>Default\u003C/th>\u003Cth>Description\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">tags\u003C/code>\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">string[]\u003C/code>\u003C/td>\u003Ctd>—\u003C/td>\u003Ctd>Tags for filtering and categorizing (e.g. \u003Ccode dir=\"auto\">[\"smoke\", \"auth\"]\u003C/code>).\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">ticket\u003C/code>\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">string | string[]\u003C/code>\u003C/td>\u003Ctd>—\u003C/td>\u003Ctd>Ticket/issue reference(s) for requirements traceability.\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">meta\u003C/code>\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">Record&#x3C;string, unknown>\u003C/code>\u003C/td>\u003Ctd>—\u003C/td>\u003Ctd>Arbitrary user-defined metadata.\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Cp>\u003Cstrong>Example:\u003C/strong>\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/executable-stories/_astro/ec.t5t0k.css\">\u003Cscript type=\"module\" src=\"/executable-stories/_astro/ec.0vx5m.js\">\u003C/script>\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#80A665;--1:#4B7231\">story\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">Login works\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{ \u003C/span>\u003Cspan style=\"--0:#B8A965;--1:#786713\">tags\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: [\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">smoke\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">, \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">auth\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">], \u003C/span>\u003Cspan style=\"--0:#B8A965;--1:#786713\">ticket\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">JIRA-123\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\"> },\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">steps\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">)\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">=>\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">steps\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the user is on the login page\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">steps\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">when\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the user logs in with valid credentials\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">steps\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the user should be logged in\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">});\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"story(&#x22;Login works&#x22;, { tags: [&#x22;smoke&#x22;, &#x22;auth&#x22;], ticket: &#x22;JIRA-123&#x22; }, (steps) => {  steps.given(&#x22;the user is on the login page&#x22;);  steps.when(&#x22;the user logs in with valid credentials&#x22;);  steps.then(&#x22;the user should be logged in&#x22;);});\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"steps-api-callback-argument\">Steps API (callback argument)\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#steps-api-callback-argument\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Steps API (callback argument)”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>The callback receives a \u003Ccode dir=\"auto\">steps\u003C/code> object (or \u003Ccode dir=\"auto\">s\u003C/code>) with:\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"bdd-keywords\">BDD keywords\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#bdd-keywords\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “BDD keywords”\u003C/span>\u003C/a>\u003C/div>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Method\u003C/th>\u003Cth>Renders as\u003C/th>\u003Cth>Description\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">steps.given(text, fn?)\u003C/code>\u003C/td>\u003Ctd>Given / And\u003C/td>\u003Ctd>First given → “Given”; subsequent in same story → “And”.\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">steps.when(text, fn?)\u003C/code>\u003C/td>\u003Ctd>When / And\u003C/td>\u003Ctd>Same auto-And rule for repeated when.\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">steps.then(text, fn?)\u003C/code>\u003C/td>\u003Ctd>Then / And\u003C/td>\u003Ctd>Same for then.\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">steps.and(text, fn?)\u003C/code>\u003C/td>\u003Ctd>And\u003C/td>\u003Ctd>Always “And” (never auto-converted).\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">steps.but(text, fn?)\u003C/code>\u003C/td>\u003Ctd>But\u003C/td>\u003Ctd>Always “But” (negative intent).\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"aaa-and-other-aliases\">AAA and other aliases\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#aaa-and-other-aliases\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “AAA and other aliases”\u003C/span>\u003C/a>\u003C/div>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Alias\u003C/th>\u003Cth>Maps to\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">arrange\u003C/code>, \u003Ccode dir=\"auto\">setup\u003C/code>, \u003Ccode dir=\"auto\">context\u003C/code>\u003C/td>\u003Ctd>given\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">act\u003C/code>, \u003Ccode dir=\"auto\">execute\u003C/code>, \u003Ccode dir=\"auto\">action\u003C/code>\u003C/td>\u003Ctd>when\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">assert\u003C/code>, \u003Ccode dir=\"auto\">verify\u003C/code>\u003C/td>\u003Ctd>then\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"step-modifiers\">Step modifiers\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#step-modifiers\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Step modifiers”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Each step function has Vitest modifiers: \u003Ccode dir=\"auto\">.skip\u003C/code>, \u003Ccode dir=\"auto\">.only\u003C/code>, \u003Ccode dir=\"auto\">.todo\u003C/code>, \u003Ccode dir=\"auto\">.fails\u003C/code>, \u003Ccode dir=\"auto\">.concurrent\u003C/code>.\u003C/p>\n\u003Cp>\u003Cstrong>Example:\u003C/strong>\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#BD976A;--1:#876037\">steps\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">setup\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">()\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">=>\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{});\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#BD976A;--1:#876037\">steps\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">skip\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">skipped precondition\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">()\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">=>\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{});\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#BD976A;--1:#876037\">steps\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">todo\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">not implemented yet\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#BD976A;--1:#876037\">steps\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">fails\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">this step is expected to throw\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">()\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">=>\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">throw\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#CB7676;--1:#9E5252\">new\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">Error\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">});\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"steps.given(&#x22;setup&#x22;, () => {});steps.given.skip(&#x22;skipped precondition&#x22;, () => {});steps.then.todo(&#x22;not implemented yet&#x22;);steps.then.fails(&#x22;this step is expected to throw&#x22;, () => { throw new Error(&#x22;&#x22;); });\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"doc-rich-documentation\">doc (rich documentation)\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#doc-rich-documentation\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “doc (rich documentation)”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Attach tables, code blocks, notes, and more to steps. Use \u003Ccode dir=\"auto\">steps.doc\u003C/code> inside a story.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"static-doc-methods-registration-time\">Static doc methods (registration time)\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#static-doc-methods-registration-time\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Static doc methods (registration time)”\u003C/span>\u003C/a>\u003C/div>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Method\u003C/th>\u003Cth>Description\u003C/th>\u003Cth>Example\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">doc.note(text)\u003C/code>\u003C/td>\u003Ctd>Add a note (e.g. “But guest checkout is enabled”).\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">steps.doc.note(\"But guest checkout is enabled\");\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">doc.tag(names)\u003C/code>\u003C/td>\u003Ctd>Add tag(s).\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">steps.doc.tag([\"wip\"]);\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">doc.kv(label, value)\u003C/code>\u003C/td>\u003Ctd>Key-value (label + value).\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">steps.doc.kv(\"Version\", \"1.0\");\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">doc.code(label, content, lang?)\u003C/code>\u003C/td>\u003Ctd>Code block.\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">steps.doc.code(\"Invoice\", \"&#x3C;xml>...&#x3C;/xml>\", \"xml\");\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">doc.json(label, value)\u003C/code>\u003C/td>\u003Ctd>JSON block (stringified).\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">steps.doc.json(\"Payload\", { id: 1 });\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">doc.table(label, columns, rows)\u003C/code>\u003C/td>\u003Ctd>Markdown table.\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">steps.doc.table(\"Users\", [\"email\"], [[\"a@x.com\"]]);\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">doc.link(label, url)\u003C/code>\u003C/td>\u003Ctd>Link.\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">steps.doc.link(\"Spec\", \"https://...\");\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">doc.section(title, markdown)\u003C/code>\u003C/td>\u003Ctd>Section with raw markdown.\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">steps.doc.section(\"Notes\", \"**Bold**\");\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">doc.mermaid(code, title?)\u003C/code>\u003C/td>\u003Ctd>Mermaid diagram.\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">steps.doc.mermaid(\"graph LR; A-->B\");\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">doc.screenshot(path, alt?)\u003C/code>\u003C/td>\u003Ctd>Screenshot reference.\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">steps.doc.screenshot(\"screen.png\");\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">doc.custom(type, data)\u003C/code>\u003C/td>\u003Ctd>Custom entry (use \u003Ccode dir=\"auto\">customRenderers\u003C/code> in reporter).\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">steps.doc.custom(\"myType\", data);\u003C/code>\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"docruntime-during-step-execution\">doc.runtime (during step execution)\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#docruntime-during-step-execution\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “doc.runtime (during step execution)”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Same methods (\u003Ccode dir=\"auto\">note\u003C/code>, \u003Ccode dir=\"auto\">tag\u003C/code>, \u003Ccode dir=\"auto\">kv\u003C/code>, \u003Ccode dir=\"auto\">code\u003C/code>, \u003Ccode dir=\"auto\">json\u003C/code>, \u003Ccode dir=\"auto\">mermaid\u003C/code>, \u003Ccode dir=\"auto\">screenshot\u003C/code>, \u003Ccode dir=\"auto\">custom\u003C/code>) are available on \u003Ccode dir=\"auto\">steps.doc.runtime\u003C/code> and run when the step executes (e.g. to capture dynamic values).\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"docstorytitle---framework-native-test\">doc.story(title, …) — framework-native test\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#docstorytitle---framework-native-test\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “doc.story(title, …) — framework-native test”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Attach story metadata to a plain \u003Ccode dir=\"auto\">it()\u003C/code> without using \u003Ccode dir=\"auto\">story()\u003C/code>:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#55987B;--1:#1E754F\">import\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">it\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">}\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">from\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">vitest\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#55987B;--1:#1E754F\">import\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">doc\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">}\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">from\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">vitest-executable-stories\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#80A665;--1:#4B7231\">it\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">adds two numbers\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">({\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">task\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">})\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">=>\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">doc\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">story\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">Calculator adds\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">)\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">=>\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">numbers 2 and 3\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">when\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">they are added\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the result is 5\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">});\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">expect\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#4C9A91;--1:#2C7181\">2\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#CB7676;--1:#9E5252\">+\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#4C9A91;--1:#2C7181\">3\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">).\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">toBe\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#4C9A91;--1:#2C7181\">5\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">});\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"import { it } from &#x22;vitest&#x22;;import { doc } from &#x22;vitest-executable-stories&#x22;;it(&#x22;adds two numbers&#x22;, ({ task }) => {  doc.story(&#x22;Calculator adds&#x22;, (s) => {    s.given(&#x22;numbers 2 and 3&#x22;);    s.when(&#x22;they are added&#x22;);    s.then(&#x22;the result is 5&#x22;);  });  expect(2 + 3).toBe(5);});\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"using-steps-from-vitest-executable-storiessteps\">Using steps from vitest-executable-stories/steps\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#using-steps-from-vitest-executable-storiessteps\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Using steps from vitest-executable-stories/steps”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>You can destructure step functions and use them inside \u003Ccode dir=\"auto\">story()\u003C/code> without the callback argument:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#55987B;--1:#1E754F\">import\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">story\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">}\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">from\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">vitest-executable-stories\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#55987B;--1:#1E754F\">import\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">when\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">then\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">}\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">from\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">vitest-executable-stories/steps\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#80A665;--1:#4B7231\">story\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">Calculator adds\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">()\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">=>\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">two numbers 5 and 3\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">()\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">=>\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{});\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">when\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the numbers are added\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">()\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">=>\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{});\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the result is 8\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">()\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">=>\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{});\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">});\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"import { story } from &#x22;vitest-executable-stories&#x22;;import { given, when, then } from &#x22;vitest-executable-stories/steps&#x22;;story(&#x22;Calculator adds&#x22;, () => {  given(&#x22;two numbers 5 and 3&#x22;, () => {});  when(&#x22;the numbers are added&#x22;, () => {});  then(&#x22;the result is 8&#x22;, () => {});});\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>Import from \u003Cstrong>\u003Ccode dir=\"auto\">vitest-executable-stories/steps\u003C/code>\u003C/strong>: \u003Ccode dir=\"auto\">given\u003C/code>, \u003Ccode dir=\"auto\">when\u003C/code>, \u003Ccode dir=\"auto\">and\u003C/code>, \u003Ccode dir=\"auto\">but\u003C/code>, \u003Ccode dir=\"auto\">arrange\u003C/code>, \u003Ccode dir=\"auto\">act\u003C/code>, \u003Ccode dir=\"auto\">assert\u003C/code> (alias for then), \u003Ccode dir=\"auto\">doc\u003C/code>, etc. The package does not export a top-level \u003Ccode dir=\"auto\">then\u003C/code> (to avoid thenable issues); use \u003Ccode dir=\"auto\">assert\u003C/code> for the then step when using the destructured steps.\u003C/p>",{"headings":356,"localImagePaths":388,"remoteImagePaths":389,"frontmatter":390,"imagePaths":391},[357,358,361,364,367,370,373,376,379,382,385],{"depth":57,"slug":58,"text":59},{"depth":331,"slug":359,"text":360},"storyoptions","StoryOptions",{"depth":57,"slug":362,"text":363},"steps-api-callback-argument","Steps API (callback argument)",{"depth":331,"slug":365,"text":366},"bdd-keywords","BDD keywords",{"depth":331,"slug":368,"text":369},"aaa-and-other-aliases","AAA and other aliases",{"depth":331,"slug":371,"text":372},"step-modifiers","Step modifiers",{"depth":57,"slug":374,"text":375},"doc-rich-documentation","doc (rich documentation)",{"depth":331,"slug":377,"text":378},"static-doc-methods-registration-time","Static doc methods (registration time)",{"depth":331,"slug":380,"text":381},"docruntime-during-step-execution","doc.runtime (during step execution)",{"depth":331,"slug":383,"text":384},"docstorytitle---framework-native-test","doc.story(title, …) — framework-native test",{"depth":57,"slug":386,"text":387},"using-steps-from-vitest-executable-storiessteps","Using steps from vitest-executable-stories/steps",[],[],{"title":345,"description":346},[],"recipes/vitest/api-accepts-json-payload",{"id":392,"data":394,"body":400,"filePath":401,"digest":402,"rendered":403},{"title":395,"description":396,"editUrl":16,"head":397,"template":46,"sidebar":398,"pagefind":16,"draft":35},"API accepts a JSON payload (Vitest)","DocString (JSON) with doc.json",[],{"hidden":35,"attrs":399},{},"## Generated output\n\n```markdown\n### ✅ API accepts a JSON payload\n\n- **Given** the client has the following JSON payload\n    **Payload**\n    \n    ```json\n    {\n      \"email\": \"user@example.com\",\n      \"password\": \"secret\",\n      \"rememberMe\": true\n    }\n    ```\n    \n- **When** the client sends the request\n- **Then** the response status should be 200\n- **And** the response body should include \"token\"\n```\n\n## Vitest code\n\n```typescript\nimport { story, type StepsApi } from \"vitest-executable-stories\";\n\nstory(\"API accepts a JSON payload\", (s: StepsApi) => {\n  s.given(\"the client has the following JSON payload\");\n  s.doc.json(\"Payload\", {\n    email: \"user@example.com\",\n    password: \"secret\",\n    rememberMe: true,\n  });\n  s.when(\"the client sends the request\");\n  s.then(\"the response status should be 200\");\n  s.then('the response body should include \"token\"');\n});\n```\n\nFrom `apps/vitest-example/src/replicate.story.test.ts`.","src/content/docs/recipes/vitest/api-accepts-json-payload.md","4eeb1a6c35189249",{"html":404,"metadata":405},"\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"generated-output\">Generated output\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#generated-output\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Generated output”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/executable-stories/_astro/ec.t5t0k.css\">\u003Cscript type=\"module\" src=\"/executable-stories/_astro/ec.0vx5m.js\">\u003C/script>\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"markdown\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">###\u003C/span>\u003Cspan style=\"--0:#55987B;--0fw:bold;--1:#1C6B48;--1fw:bold\"> ✅ API accepts a JSON payload\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">Given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the client has the following JSON payload\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">Payload\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">```\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\">json\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#B8A965CD;--1:#786713FD\">\"\u003C/span>\u003Cspan style=\"--0:#B8A965;--1:#786713\">email\u003C/span>\u003Cspan style=\"--0:#B8A965CD;--1:#786713FD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">:\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">user@example.com\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#B8A965CD;--1:#786713FD\">\"\u003C/span>\u003Cspan style=\"--0:#B8A965;--1:#786713\">password\u003C/span>\u003Cspan style=\"--0:#B8A965CD;--1:#786713FD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">:\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">secret\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#B8A965CD;--1:#786713FD\">\"\u003C/span>\u003Cspan style=\"--0:#B8A965;--1:#786713\">rememberMe\u003C/span>\u003Cspan style=\"--0:#B8A965CD;--1:#786713FD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">:\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">true\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">```\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">When\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the client sends the request\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">Then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the response status should be 200\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">And\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the response body should include \"token\"\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"### ✅ API accepts a JSON payload- **Given** the client has the following JSON payload    **Payload**    &#x60;&#x60;&#x60;json    {      &#x22;email&#x22;: &#x22;user@example.com&#x22;,      &#x22;password&#x22;: &#x22;secret&#x22;,      &#x22;rememberMe&#x22;: true    }    &#x60;&#x60;&#x60;- **When** the client sends the request- **Then** the response status should be 200- **And** the response body should include &#x22;token&#x22;\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"vitest-code\">Vitest code\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#vitest-code\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Vitest code”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#55987B;--1:#1E754F\">import\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">story\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">type\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">StepsApi\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">}\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">from\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">vitest-executable-stories\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#80A665;--1:#4B7231\">story\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">API accepts a JSON payload\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#5DA994;--1:#25746A\">StepsApi\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">)\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">=>\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the client has the following JSON payload\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">doc\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">json\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">Payload\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#B8A965;--1:#786713\">email\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">user@example.com\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#B8A965;--1:#786713\">password\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">secret\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#B8A965;--1:#786713\">rememberMe\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">true\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">});\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">when\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the client sends the request\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the response status should be 200\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">'\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the response body should include \"token\"\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">'\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">});\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"import { story, type StepsApi } from &#x22;vitest-executable-stories&#x22;;story(&#x22;API accepts a JSON payload&#x22;, (s: StepsApi) => {  s.given(&#x22;the client has the following JSON payload&#x22;);  s.doc.json(&#x22;Payload&#x22;, {    email: &#x22;user@example.com&#x22;,    password: &#x22;secret&#x22;,    rememberMe: true,  });  s.when(&#x22;the client sends the request&#x22;);  s.then(&#x22;the response status should be 200&#x22;);  s.then(&#x27;the response body should include &#x22;token&#x22;&#x27;);});\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>From \u003Ccode dir=\"auto\">apps/vitest-example/src/replicate.story.test.ts\u003C/code>.\u003C/p>",{"headings":406,"localImagePaths":411,"remoteImagePaths":412,"frontmatter":413,"imagePaths":414},[407,408],{"depth":57,"slug":134,"text":135},{"depth":57,"slug":409,"text":410},"vitest-code","Vitest code",[],[],{"title":395,"description":396},[],"recipes/playwright",{"id":415,"data":417,"body":423,"filePath":424,"digest":425,"rendered":426},{"title":418,"description":419,"editUrl":16,"head":420,"template":46,"sidebar":421,"pagefind":16,"draft":35},"Recipes (Playwright)","Example scenarios with Playwright code and generated output",[],{"hidden":35,"attrs":422},{},"The same replicate scenarios are implemented in **Playwright** in [playwright-example](https://github.com/jagreehal/executable-stories/tree/main/apps/playwright-example). Playwright uses **top-level** step functions; step callbacks receive **fixtures** (e.g. `{ page }`).\n\n## Example: User logs in successfully\n\n### Generated output\n\nSame as Vitest (see [Vitest recipe](/recipes/vitest/user-logs-in-successfully/)).\n\n### Playwright code\n\n```typescript\nimport { story, given, when, then } from \"playwright-executable-stories\";\n\nstory(\"User logs in successfully\", () => {\n  given(\"the user account exists\");\n  given(\"the user is on the login page\");\n  given(\"the account is active\");\n  when(\"the user submits valid credentials\");\n  then(\"the user should see the dashboard\", async ({ page }) => {\n    await expect(page).toHaveURL(/dashboard/);\n  });\n});\n```\n\n## Full recipe list (Playwright)\n\nThe same 30 scenarios as [Vitest recipes](/recipes/vitest/) are in `apps/playwright-example/src/replicate.story.spec.ts`. Generated docs: `apps/playwright-example/src/replicate.docs.md`. For each scenario:\n\n- **Generated output** is the same.\n- **Code** uses top-level `given`/`when`/`then`/`and`/`but` and `doc.*`; step implementations can use `async ({ page }) => { ... }`.\n\n[Playwright story & doc API](/reference/playwright-story-api/) — steps, fixtures, and doc usage.","src/content/docs/recipes/playwright/index.md","d20d8e4e37be30f4",{"html":427,"metadata":428},"\u003Cp>The same replicate scenarios are implemented in \u003Cstrong>Playwright\u003C/strong> in \u003Ca href=\"https://github.com/jagreehal/executable-stories/tree/main/apps/playwright-example\">playwright-example\u003C/a>. Playwright uses \u003Cstrong>top-level\u003C/strong> step functions; step callbacks receive \u003Cstrong>fixtures\u003C/strong> (e.g. \u003Ccode dir=\"auto\">{ page }\u003C/code>).\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"example-user-logs-in-successfully\">Example: User logs in successfully\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#example-user-logs-in-successfully\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Example: User logs in successfully”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"generated-output\">Generated output\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#generated-output\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Generated output”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Same as Vitest (see \u003Ca href=\"/recipes/vitest/user-logs-in-successfully/\">Vitest recipe\u003C/a>).\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"playwright-code\">Playwright code\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#playwright-code\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Playwright code”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/executable-stories/_astro/ec.t5t0k.css\">\u003Cscript type=\"module\" src=\"/executable-stories/_astro/ec.0vx5m.js\">\u003C/script>\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#55987B;--1:#1E754F\">import\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">story\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">when\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">then\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">}\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">from\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">playwright-executable-stories\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#80A665;--1:#4B7231\">story\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">User logs in successfully\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">()\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">=>\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the user account exists\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the user is on the login page\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the account is active\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">when\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the user submits valid credentials\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the user should see the dashboard\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#CB7676;--1:#9E5252\">async\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">({\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">page\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">})\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">=>\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">await\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">expect\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">page\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">).\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">toHaveURL\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">/\u003C/span>\u003Cspan style=\"--0:#C77757;--1:#9B5539\">dashboard\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">/\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">});\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">});\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"import { story, given, when, then } from &#x22;playwright-executable-stories&#x22;;story(&#x22;User logs in successfully&#x22;, () => {  given(&#x22;the user account exists&#x22;);  given(&#x22;the user is on the login page&#x22;);  given(&#x22;the account is active&#x22;);  when(&#x22;the user submits valid credentials&#x22;);  then(&#x22;the user should see the dashboard&#x22;, async ({ page }) => {    await expect(page).toHaveURL(/dashboard/);  });});\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"full-recipe-list-playwright\">Full recipe list (Playwright)\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#full-recipe-list-playwright\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Full recipe list (Playwright)”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>The same 30 scenarios as \u003Ca href=\"/recipes/vitest/\">Vitest recipes\u003C/a> are in \u003Ccode dir=\"auto\">apps/playwright-example/src/replicate.story.spec.ts\u003C/code>. Generated docs: \u003Ccode dir=\"auto\">apps/playwright-example/src/replicate.docs.md\u003C/code>. For each scenario:\u003C/p>\n\u003Cul>\n\u003Cli>\u003Cstrong>Generated output\u003C/strong> is the same.\u003C/li>\n\u003Cli>\u003Cstrong>Code\u003C/strong> uses top-level \u003Ccode dir=\"auto\">given\u003C/code>/\u003Ccode dir=\"auto\">when\u003C/code>/\u003Ccode dir=\"auto\">then\u003C/code>/\u003Ccode dir=\"auto\">and\u003C/code>/\u003Ccode dir=\"auto\">but\u003C/code> and \u003Ccode dir=\"auto\">doc.*\u003C/code>; step implementations can use \u003Ccode dir=\"auto\">async ({ page }) => { ... }\u003C/code>.\u003C/li>\n\u003C/ul>\n\u003Cp>\u003Ca href=\"/reference/playwright-story-api/\">Playwright story &#x26; doc API\u003C/a> — steps, fixtures, and doc usage.\u003C/p>",{"headings":429,"localImagePaths":438,"remoteImagePaths":439,"frontmatter":440,"imagePaths":441},[430,431,432,435],{"depth":57,"slug":328,"text":329},{"depth":331,"slug":134,"text":135},{"depth":331,"slug":433,"text":434},"playwright-code","Playwright code",{"depth":57,"slug":436,"text":437},"full-recipe-list-playwright","Full recipe list (Playwright)",[],[],{"title":418,"description":419,"slug":415},[],"recipes/vitest/bulk-user-creation",{"id":442,"data":444,"body":450,"filePath":451,"digest":452,"rendered":453},{"title":445,"description":446,"editUrl":16,"head":447,"template":46,"sidebar":448,"pagefind":16,"draft":35},"Bulk user creation (Vitest)","DataTable for Given setup and expected result",[],{"hidden":35,"attrs":449},{},"## Generated output\n\n```markdown\n### ✅ Bulk user creation\n\n- **Given** the following users exist\n    **Users**\n    \n    | email | role | status |\n    | --- | --- | --- |\n    | alice@example.com | admin | active |\n    | bob@example.com | user | active |\n    | eve@example.com | user | locked |\n    \n- **When** the admin opens the user list\n- **Then** the user list should include\n    **Expected**\n    \n    | email | role | status |\n    | --- | --- | --- |\n    | alice@example.com | admin | active |\n    | bob@example.com | user | active |\n    | eve@example.com | user | locked |\n```\n\n## Vitest code\n\n```typescript\nimport { story, type StepsApi } from \"vitest-executable-stories\";\n\nstory(\"Bulk user creation\", (s: StepsApi) => {\n  s.given(\"the following users exist\");\n  s.doc.table(\"Users\", [\"email\", \"role\", \"status\"], [\n    [\"alice@example.com\", \"admin\", \"active\"],\n    [\"bob@example.com\", \"user\", \"active\"],\n    [\"eve@example.com\", \"user\", \"locked\"],\n  ]);\n  s.when(\"the admin opens the user list\");\n  s.then(\"the user list should include\");\n  s.doc.table(\"Expected\", [\"email\", \"role\", \"status\"], [\n    [\"alice@example.com\", \"admin\", \"active\"],\n    [\"bob@example.com\", \"user\", \"active\"],\n    [\"eve@example.com\", \"user\", \"locked\"],\n  ]);\n});\n```\n\nFrom `apps/vitest-example/src/replicate.story.test.ts`.","src/content/docs/recipes/vitest/bulk-user-creation.md","91b20e66aaabab4f",{"html":454,"metadata":455},"\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"generated-output\">Generated output\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#generated-output\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Generated output”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/executable-stories/_astro/ec.t5t0k.css\">\u003Cscript type=\"module\" src=\"/executable-stories/_astro/ec.0vx5m.js\">\u003C/script>\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"markdown\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">###\u003C/span>\u003Cspan style=\"--0:#55987B;--0fw:bold;--1:#1C6B48;--1fw:bold\"> ✅ Bulk user creation\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">Given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the following users exist\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">Users\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> email \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> role \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> status \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">---\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">---\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">---\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> alice@example.com \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> admin \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> active \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> bob@example.com \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> user \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> active \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> eve@example.com \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> user \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> locked \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">When\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the admin opens the user list\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">Then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the user list should include\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">Expected\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> email \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> role \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> status \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">---\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">---\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">---\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> alice@example.com \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> admin \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> active \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> bob@example.com \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> user \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> active \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> eve@example.com \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> user \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> locked \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"### ✅ Bulk user creation- **Given** the following users exist    **Users**    | email | role | status |    | --- | --- | --- |    | alice@example.com | admin | active |    | bob@example.com | user | active |    | eve@example.com | user | locked |- **When** the admin opens the user list- **Then** the user list should include    **Expected**    | email | role | status |    | --- | --- | --- |    | alice@example.com | admin | active |    | bob@example.com | user | active |    | eve@example.com | user | locked |\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"vitest-code\">Vitest code\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#vitest-code\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Vitest code”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#55987B;--1:#1E754F\">import\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">story\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">type\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">StepsApi\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">}\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">from\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">vitest-executable-stories\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#80A665;--1:#4B7231\">story\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">Bulk user creation\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#5DA994;--1:#25746A\">StepsApi\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">)\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">=>\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the following users exist\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">doc\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">table\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">Users\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">[\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">email\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">role\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">status\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">],\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">[\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">[\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">alice@example.com\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">admin\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">active\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">],\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">[\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">bob@example.com\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">user\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">active\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">],\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">[\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">eve@example.com\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">user\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">locked\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">],\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">]);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">when\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the admin opens the user list\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the user list should include\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">doc\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">table\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">Expected\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">[\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">email\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">role\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">status\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">],\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">[\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">[\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">alice@example.com\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">admin\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">active\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">],\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">[\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">bob@example.com\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">user\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">active\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">],\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">[\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">eve@example.com\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">user\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">locked\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">],\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">]);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">});\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"import { story, type StepsApi } from &#x22;vitest-executable-stories&#x22;;story(&#x22;Bulk user creation&#x22;, (s: StepsApi) => {  s.given(&#x22;the following users exist&#x22;);  s.doc.table(&#x22;Users&#x22;, [&#x22;email&#x22;, &#x22;role&#x22;, &#x22;status&#x22;], [    [&#x22;alice@example.com&#x22;, &#x22;admin&#x22;, &#x22;active&#x22;],    [&#x22;bob@example.com&#x22;, &#x22;user&#x22;, &#x22;active&#x22;],    [&#x22;eve@example.com&#x22;, &#x22;user&#x22;, &#x22;locked&#x22;],  ]);  s.when(&#x22;the admin opens the user list&#x22;);  s.then(&#x22;the user list should include&#x22;);  s.doc.table(&#x22;Expected&#x22;, [&#x22;email&#x22;, &#x22;role&#x22;, &#x22;status&#x22;], [    [&#x22;alice@example.com&#x22;, &#x22;admin&#x22;, &#x22;active&#x22;],    [&#x22;bob@example.com&#x22;, &#x22;user&#x22;, &#x22;active&#x22;],    [&#x22;eve@example.com&#x22;, &#x22;user&#x22;, &#x22;locked&#x22;],  ]);});\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>From \u003Ccode dir=\"auto\">apps/vitest-example/src/replicate.story.test.ts\u003C/code>.\u003C/p>",{"headings":456,"localImagePaths":459,"remoteImagePaths":460,"frontmatter":461,"imagePaths":462},[457,458],{"depth":57,"slug":134,"text":135},{"depth":57,"slug":409,"text":410},[],[],{"title":445,"description":446},[],"recipes/vitest/calculate-shipping-options",{"id":463,"data":465,"body":471,"filePath":472,"digest":473,"rendered":474},{"title":466,"description":467,"editUrl":16,"head":468,"template":46,"sidebar":469,"pagefind":16,"draft":35},"Calculate shipping options (Vitest)","DataTable for input, multiple Then",[],{"hidden":35,"attrs":470},{},"## Generated output\n\n```markdown\n### ✅ Calculate shipping options\n\n- **Given** the user has entered the shipping address\n    **Address**\n    | country | state | zip |\n    | --- | --- | --- |\n    | US | CA | 94107 |\n- **When** shipping options are calculated\n- **Then** the available options should include \"Standard\"\n- **And** the available options should include \"Express\"\n- **And** the estimated delivery date should be shown\n```\n\n## Vitest code\n\n```typescript\nstory(\"Calculate shipping options\", (s: StepsApi) => {\n  s.given(\"the user has entered the shipping address\");\n  s.doc.table(\"Address\", [\"country\", \"state\", \"zip\"], [[\"US\", \"CA\", \"94107\"]]);\n  s.when(\"shipping options are calculated\");\n  s.then('the available options should include \"Standard\"');\n  s.then('the available options should include \"Express\"');\n  s.then(\"the estimated delivery date should be shown\");\n});\n```","src/content/docs/recipes/vitest/calculate-shipping-options.md","6d82fb672ccfed1f",{"html":475,"metadata":476},"\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"generated-output\">Generated output\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#generated-output\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Generated output”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/executable-stories/_astro/ec.t5t0k.css\">\u003Cscript type=\"module\" src=\"/executable-stories/_astro/ec.0vx5m.js\">\u003C/script>\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"markdown\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">###\u003C/span>\u003Cspan style=\"--0:#55987B;--0fw:bold;--1:#1C6B48;--1fw:bold\"> ✅ Calculate shipping options\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">Given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the user has entered the shipping address\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">Address\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> country \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> state \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> zip \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">---\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">---\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">---\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> US \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> CA \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> 94107 \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">When\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> shipping options are calculated\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">Then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the available options should include \"Standard\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">And\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the available options should include \"Express\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">And\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the estimated delivery date should be shown\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"### ✅ Calculate shipping options- **Given** the user has entered the shipping address    **Address**    | country | state | zip |    | --- | --- | --- |    | US | CA | 94107 |- **When** shipping options are calculated- **Then** the available options should include &#x22;Standard&#x22;- **And** the available options should include &#x22;Express&#x22;- **And** the estimated delivery date should be shown\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"vitest-code\">Vitest code\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#vitest-code\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Vitest code”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#80A665;--1:#4B7231\">story\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">Calculate shipping options\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#5DA994;--1:#25746A\">StepsApi\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">)\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">=>\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the user has entered the shipping address\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">doc\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">table\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">Address\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">[\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">country\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">state\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">zip\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">],\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">[[\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">US\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">CA\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">94107\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">]]);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">when\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">shipping options are calculated\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">'\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the available options should include \"Standard\"\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">'\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">'\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the available options should include \"Express\"\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">'\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the estimated delivery date should be shown\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">});\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"story(&#x22;Calculate shipping options&#x22;, (s: StepsApi) => {  s.given(&#x22;the user has entered the shipping address&#x22;);  s.doc.table(&#x22;Address&#x22;, [&#x22;country&#x22;, &#x22;state&#x22;, &#x22;zip&#x22;], [[&#x22;US&#x22;, &#x22;CA&#x22;, &#x22;94107&#x22;]]);  s.when(&#x22;shipping options are calculated&#x22;);  s.then(&#x27;the available options should include &#x22;Standard&#x22;&#x27;);  s.then(&#x27;the available options should include &#x22;Express&#x22;&#x27;);  s.then(&#x22;the estimated delivery date should be shown&#x22;);});\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>",{"headings":477,"localImagePaths":480,"remoteImagePaths":481,"frontmatter":482,"imagePaths":483},[478,479],{"depth":57,"slug":134,"text":135},{"depth":57,"slug":409,"text":410},[],[],{"title":466,"description":467},[],"recipes/vitest/change-email-address",{"id":484,"data":486,"body":492,"filePath":493,"digest":494,"rendered":495},{"title":487,"description":488,"editUrl":16,"head":489,"template":46,"sidebar":490,"pagefind":16,"draft":35},"Change email address (Vitest)","Background for shared preconditions",[],{"hidden":35,"attrs":491},{},"## Generated output\n\n```markdown\n### ✅ Change email address\n\n- **Given** the user account exists\n- **And** the user is logged in\n- **When** the user updates their email to \"new@example.com\"\n- **Then** a verification email should be sent\n- **And** the email status should be \"pending verification\"\n```\n\n## Vitest code\n\n```typescript\ndescribe(\"Feature: Account settings\", () => {\n  const background = (s: StepsApi) => {\n    s.given(\"the user account exists\");\n    s.given(\"the user is logged in\");\n  };\n\n  story(\"Change email address\", (s: StepsApi) => {\n    background(s);\n    s.when('the user updates their email to \"new@example.com\"');\n    s.then(\"a verification email should be sent\");\n    s.then('the email status should be \"pending verification\"');\n  });\n});\n```","src/content/docs/recipes/vitest/change-email-address.md","9e978d90521eccec",{"html":496,"metadata":497},"\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"generated-output\">Generated output\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#generated-output\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Generated output”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/executable-stories/_astro/ec.t5t0k.css\">\u003Cscript type=\"module\" src=\"/executable-stories/_astro/ec.0vx5m.js\">\u003C/script>\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"markdown\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">###\u003C/span>\u003Cspan style=\"--0:#55987B;--0fw:bold;--1:#1C6B48;--1fw:bold\"> ✅ Change email address\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">Given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the user account exists\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">And\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the user is logged in\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">When\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the user updates their email to \"new@example.com\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">Then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> a verification email should be sent\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">And\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the email status should be \"pending verification\"\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"### ✅ Change email address- **Given** the user account exists- **And** the user is logged in- **When** the user updates their email to &#x22;new@example.com&#x22;- **Then** a verification email should be sent- **And** the email status should be &#x22;pending verification&#x22;\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"vitest-code\">Vitest code\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#vitest-code\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Vitest code”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#80A665;--1:#4B7231\">describe\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">Feature: Account settings\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">()\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">=>\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#CB7676;--1:#9E5252\">const \u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">background\u003C/span>\u003Cspan style=\"--0:#CB7676;--1:#9E5252\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">=\u003C/span>\u003Cspan style=\"--0:#CB7676;--1:#9E5252\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#5DA994;--1:#25746A\">StepsApi\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">)\u003C/span>\u003Cspan style=\"--0:#CB7676;--1:#9E5252\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">=>\u003C/span>\u003Cspan style=\"--0:#CB7676;--1:#9E5252\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the user account exists\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the user is logged in\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">};\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">story\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">Change email address\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#5DA994;--1:#25746A\">StepsApi\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">)\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">=>\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">background\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">when\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">'\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the user updates their email to \"new@example.com\"\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">'\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">a verification email should be sent\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">'\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the email status should be \"pending verification\"\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">'\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">});\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">});\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"describe(&#x22;Feature: Account settings&#x22;, () => {  const background = (s: StepsApi) => {    s.given(&#x22;the user account exists&#x22;);    s.given(&#x22;the user is logged in&#x22;);  };  story(&#x22;Change email address&#x22;, (s: StepsApi) => {    background(s);    s.when(&#x27;the user updates their email to &#x22;new@example.com&#x22;&#x27;);    s.then(&#x22;a verification email should be sent&#x22;);    s.then(&#x27;the email status should be &#x22;pending verification&#x22;&#x27;);  });});\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>",{"headings":498,"localImagePaths":501,"remoteImagePaths":502,"frontmatter":503,"imagePaths":504},[499,500],{"depth":57,"slug":134,"text":135},{"depth":57,"slug":409,"text":410},[],[],{"title":487,"description":488},[],"recipes/vitest/change-password",{"id":505,"data":507,"body":513,"filePath":514,"digest":515,"rendered":516},{"title":508,"description":509,"editUrl":16,"head":510,"template":46,"sidebar":511,"pagefind":16,"draft":35},"Change password (Vitest)","Shared background, different When/Then",[],{"hidden":35,"attrs":512},{},"## Generated output\n\n```markdown\n### ✅ Change password\n\n- **Given** the user account exists\n- **And** the user is logged in\n- **When** the user changes their password\n- **Then** the user should be able to log in with the new password\n```\n\n## Vitest code\n\n```typescript\nstory(\"Change password\", (s: StepsApi) => {\n  background(s);\n  s.when(\"the user changes their password\");\n  s.then(\"the user should be able to log in with the new password\");\n});\n```\n\n(With same `background` as Change email address.)","src/content/docs/recipes/vitest/change-password.md","c8cfef40c27afd0c",{"html":517,"metadata":518},"\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"generated-output\">Generated output\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#generated-output\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Generated output”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/executable-stories/_astro/ec.t5t0k.css\">\u003Cscript type=\"module\" src=\"/executable-stories/_astro/ec.0vx5m.js\">\u003C/script>\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"markdown\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">###\u003C/span>\u003Cspan style=\"--0:#55987B;--0fw:bold;--1:#1C6B48;--1fw:bold\"> ✅ Change password\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">Given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the user account exists\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">And\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the user is logged in\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">When\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the user changes their password\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">Then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the user should be able to log in with the new password\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"### ✅ Change password- **Given** the user account exists- **And** the user is logged in- **When** the user changes their password- **Then** the user should be able to log in with the new password\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"vitest-code\">Vitest code\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#vitest-code\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Vitest code”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#80A665;--1:#4B7231\">story\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">Change password\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#5DA994;--1:#25746A\">StepsApi\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">)\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">=>\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">background\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">when\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the user changes their password\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the user should be able to log in with the new password\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">});\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"story(&#x22;Change password&#x22;, (s: StepsApi) => {  background(s);  s.when(&#x22;the user changes their password&#x22;);  s.then(&#x22;the user should be able to log in with the new password&#x22;);});\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>(With same \u003Ccode dir=\"auto\">background\u003C/code> as Change email address.)\u003C/p>",{"headings":519,"localImagePaths":522,"remoteImagePaths":523,"frontmatter":524,"imagePaths":525},[520,521],{"depth":57,"slug":134,"text":135},{"depth":57,"slug":409,"text":410},[],[],{"title":508,"description":509},[],"recipes/vitest/checkout-calculates-totals",{"id":526,"data":528,"body":534,"filePath":535,"digest":536,"rendered":537},{"title":529,"description":530,"editUrl":16,"head":531,"template":46,"sidebar":532,"pagefind":16,"draft":35},"Checkout calculates totals (Vitest)","Single Given, single When, multiple Then",[],{"hidden":35,"attrs":533},{},"## Generated output\n\n```markdown\n### ✅ Checkout calculates totals\n\n- **Given** the cart has 2 items\n- **When** the user proceeds to checkout\n- **Then** the subtotal should be $40.00\n- **And** the tax should be $4.00\n- **And** the total should be $44.00\n```\n\n## Vitest code\n\n```typescript\nstory(\"Checkout calculates totals\", (s: StepsApi) => {\n  s.given(\"the cart has 2 items\");\n  s.when(\"the user proceeds to checkout\");\n  s.then(\"the subtotal should be $40.00\");\n  s.then(\"the tax should be $4.00\");\n  s.then(\"the total should be $44.00\");\n});\n```","src/content/docs/recipes/vitest/checkout-calculates-totals.md","8b4514da3ac2d9e4",{"html":538,"metadata":539},"\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"generated-output\">Generated output\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#generated-output\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Generated output”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/executable-stories/_astro/ec.t5t0k.css\">\u003Cscript type=\"module\" src=\"/executable-stories/_astro/ec.0vx5m.js\">\u003C/script>\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"markdown\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">###\u003C/span>\u003Cspan style=\"--0:#55987B;--0fw:bold;--1:#1C6B48;--1fw:bold\"> ✅ Checkout calculates totals\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">Given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the cart has 2 items\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">When\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the user proceeds to checkout\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">Then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the subtotal should be $40.00\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">And\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the tax should be $4.00\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">And\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the total should be $44.00\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"### ✅ Checkout calculates totals- **Given** the cart has 2 items- **When** the user proceeds to checkout- **Then** the subtotal should be $40.00- **And** the tax should be $4.00- **And** the total should be $44.00\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"vitest-code\">Vitest code\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#vitest-code\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Vitest code”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#80A665;--1:#4B7231\">story\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">Checkout calculates totals\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#5DA994;--1:#25746A\">StepsApi\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">)\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">=>\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the cart has 2 items\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">when\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the user proceeds to checkout\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the subtotal should be $40.00\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the tax should be $4.00\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the total should be $44.00\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">});\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"story(&#x22;Checkout calculates totals&#x22;, (s: StepsApi) => {  s.given(&#x22;the cart has 2 items&#x22;);  s.when(&#x22;the user proceeds to checkout&#x22;);  s.then(&#x22;the subtotal should be $40.00&#x22;);  s.then(&#x22;the tax should be $4.00&#x22;);  s.then(&#x22;the total should be $44.00&#x22;);});\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>",{"headings":540,"localImagePaths":543,"remoteImagePaths":544,"frontmatter":545,"imagePaths":546},[541,542],{"depth":57,"slug":134,"text":135},{"depth":57,"slug":409,"text":410},[],[],{"title":529,"description":530},[],"recipes/vitest/configure-feature-flags",{"id":547,"data":549,"body":555,"filePath":556,"digest":557,"rendered":558},{"title":550,"description":551,"editUrl":16,"head":552,"template":46,"sidebar":553,"pagefind":16,"draft":35},"Configure feature flags (Vitest)","Complex DataTable",[],{"hidden":35,"attrs":554},{},"## Generated output\n\n```markdown\n### ✅ Configure feature flags\n\n- **Given** the following feature flags are set\n    **Feature flags**\n    | service | flag | enabled |\n    | --- | --- | --- |\n    | web | new_checkout_ui | true |\n    | api | strict_rate_limiting | false |\n- **When** the system starts\n- **Then** the flag \"new_checkout_ui\" should be enabled for \"web\"\n- **And** the flag \"strict_rate_limiting\" should be disabled for \"api\"\n```\n\n## Vitest code\n\n```typescript\nstory(\"Configure feature flags\", (s: StepsApi) => {\n  s.given(\"the following feature flags are set\");\n  s.doc.table(\"Feature flags\", [\"service\", \"flag\", \"enabled\"], [\n    [\"web\", \"new_checkout_ui\", \"true\"],\n    [\"api\", \"strict_rate_limiting\", \"false\"],\n  ]);\n  s.when(\"the system starts\");\n  s.then('the flag \"new_checkout_ui\" should be enabled for \"web\"');\n  s.then('the flag \"strict_rate_limiting\" should be disabled for \"api\"');\n});\n```","src/content/docs/recipes/vitest/configure-feature-flags.md","d2098fd076bd8bbc",{"html":559,"metadata":560},"\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"generated-output\">Generated output\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#generated-output\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Generated output”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/executable-stories/_astro/ec.t5t0k.css\">\u003Cscript type=\"module\" src=\"/executable-stories/_astro/ec.0vx5m.js\">\u003C/script>\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"markdown\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">###\u003C/span>\u003Cspan style=\"--0:#55987B;--0fw:bold;--1:#1C6B48;--1fw:bold\"> ✅ Configure feature flags\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">Given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the following feature flags are set\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">Feature flags\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> service \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> flag \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> enabled \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">---\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">---\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">---\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> web \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> new_checkout_ui \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> true \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> api \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> strict_rate_limiting \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> false \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">When\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the system starts\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">Then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the flag \"new_checkout_ui\" should be enabled for \"web\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">And\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the flag \"strict_rate_limiting\" should be disabled for \"api\"\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"### ✅ Configure feature flags- **Given** the following feature flags are set    **Feature flags**    | service | flag | enabled |    | --- | --- | --- |    | web | new_checkout_ui | true |    | api | strict_rate_limiting | false |- **When** the system starts- **Then** the flag &#x22;new_checkout_ui&#x22; should be enabled for &#x22;web&#x22;- **And** the flag &#x22;strict_rate_limiting&#x22; should be disabled for &#x22;api&#x22;\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"vitest-code\">Vitest code\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#vitest-code\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Vitest code”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#80A665;--1:#4B7231\">story\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">Configure feature flags\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#5DA994;--1:#25746A\">StepsApi\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">)\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">=>\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the following feature flags are set\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">doc\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">table\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">Feature flags\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">[\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">service\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">flag\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">enabled\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">],\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">[\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">[\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">web\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">new_checkout_ui\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">true\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">],\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">[\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">api\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">strict_rate_limiting\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">false\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">],\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">]);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">when\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the system starts\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">'\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the flag \"new_checkout_ui\" should be enabled for \"web\"\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">'\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">'\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the flag \"strict_rate_limiting\" should be disabled for \"api\"\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">'\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">});\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"story(&#x22;Configure feature flags&#x22;, (s: StepsApi) => {  s.given(&#x22;the following feature flags are set&#x22;);  s.doc.table(&#x22;Feature flags&#x22;, [&#x22;service&#x22;, &#x22;flag&#x22;, &#x22;enabled&#x22;], [    [&#x22;web&#x22;, &#x22;new_checkout_ui&#x22;, &#x22;true&#x22;],    [&#x22;api&#x22;, &#x22;strict_rate_limiting&#x22;, &#x22;false&#x22;],  ]);  s.when(&#x22;the system starts&#x22;);  s.then(&#x27;the flag &#x22;new_checkout_ui&#x22; should be enabled for &#x22;web&#x22;&#x27;);  s.then(&#x27;the flag &#x22;strict_rate_limiting&#x22; should be disabled for &#x22;api&#x22;&#x27;);});\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>",{"headings":561,"localImagePaths":564,"remoteImagePaths":565,"frontmatter":566,"imagePaths":567},[562,563],{"depth":57,"slug":134,"text":135},{"depth":57,"slug":409,"text":410},[],[],{"title":550,"description":551},[],"recipes/vitest/create-order",{"id":568,"data":570,"body":576,"filePath":577,"digest":578,"rendered":579},{"title":571,"description":572,"editUrl":16,"head":573,"template":46,"sidebar":574,"pagefind":16,"draft":35},"Create order (Vitest)","Background and tags",[],{"hidden":35,"attrs":575},{},"## Generated output\n\n```markdown\n### ✅ Create order\nTags: `db`, `smoke`\n\n- **Given** the database is seeded\n- **And** the API is running\n- **When** the client creates an order\n- **Then** the response status should be 201\n- **And** the order should exist in the database\n```\n\n## Vitest code\n\n```typescript\ndescribe(\"Feature: Orders\", () => {\n  story(\"Create order\", { tags: [\"db\", \"smoke\"] }, (s: StepsApi) => {\n    s.given(\"the database is seeded\");\n    s.given(\"the API is running\");\n    s.when(\"the client creates an order\");\n    s.then(\"the response status should be 201\");\n    s.then(\"the order should exist in the database\");\n  });\n});\n```","src/content/docs/recipes/vitest/create-order.md","e87936660a22dca5",{"html":580,"metadata":581},"\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"generated-output\">Generated output\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#generated-output\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Generated output”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/executable-stories/_astro/ec.t5t0k.css\">\u003Cscript type=\"module\" src=\"/executable-stories/_astro/ec.0vx5m.js\">\u003C/script>\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"markdown\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">###\u003C/span>\u003Cspan style=\"--0:#55987B;--0fw:bold;--1:#1C6B48;--1fw:bold\"> ✅ Create order\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\">Tags: \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">`\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\">db\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">`\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\">, \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">`\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\">smoke\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">`\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">Given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the database is seeded\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">And\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the API is running\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">When\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the client creates an order\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">Then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the response status should be 201\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">And\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the order should exist in the database\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"### ✅ Create orderTags: &#x60;db&#x60;, &#x60;smoke&#x60;- **Given** the database is seeded- **And** the API is running- **When** the client creates an order- **Then** the response status should be 201- **And** the order should exist in the database\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"vitest-code\">Vitest code\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#vitest-code\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Vitest code”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#80A665;--1:#4B7231\">describe\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">Feature: Orders\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">()\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">=>\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">story\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">Create order\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{ \u003C/span>\u003Cspan style=\"--0:#B8A965;--1:#786713\">tags\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: [\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">db\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">, \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">smoke\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">] },\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#5DA994;--1:#25746A\">StepsApi\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">)\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">=>\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the database is seeded\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the API is running\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">when\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the client creates an order\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the response status should be 201\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the order should exist in the database\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">});\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">});\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"describe(&#x22;Feature: Orders&#x22;, () => {  story(&#x22;Create order&#x22;, { tags: [&#x22;db&#x22;, &#x22;smoke&#x22;] }, (s: StepsApi) => {    s.given(&#x22;the database is seeded&#x22;);    s.given(&#x22;the API is running&#x22;);    s.when(&#x22;the client creates an order&#x22;);    s.then(&#x22;the response status should be 201&#x22;);    s.then(&#x22;the order should exist in the database&#x22;);  });});\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>",{"headings":582,"localImagePaths":585,"remoteImagePaths":586,"frontmatter":587,"imagePaths":588},[583,584],{"depth":57,"slug":134,"text":135},{"depth":57,"slug":409,"text":410},[],[],{"title":571,"description":572},[],"recipes/vitest/create-users-from-table",{"id":589,"data":591,"body":597,"filePath":598,"digest":599,"rendered":600},{"title":592,"description":593,"editUrl":16,"head":594,"template":46,"sidebar":595,"pagefind":16,"draft":35},"Create users from table input (Vitest)","Scenario outline with doc.table",[],{"hidden":35,"attrs":596},{},"## Generated output\n\nExample: `Create users from table input: a@example.com`\n\n```markdown\n### ✅ Create users from table input: a@example.com\n\n- **Given** the admin is on the create user page\n- **When** the admin submits the following user details\n    **Details**\n    | email | role |\n    | --- | --- |\n    | a@example.com | user |\n- **Then** the user \"a@example.com\" should exist with role \"user\"\n```\n\n## Vitest code\n\n```typescript\nconst createUserExamples = [\n  { email: \"a@example.com\", role: \"user\" },\n  { email: \"admin@example.com\", role: \"admin\" },\n];\nfor (const row of createUserExamples) {\n  story(`Create users from table input: ${row.email}`, (s: StepsApi) => {\n    s.given(\"the admin is on the create user page\");\n    s.when(\"the admin submits the following user details\");\n    s.doc.table(\"Details\", [\"email\", \"role\"], [[row.email, row.role]]);\n    s.then(`the user \"${row.email}\" should exist with role \"${row.role}\"`);\n  });\n}\n```","src/content/docs/recipes/vitest/create-users-from-table.md","423eae935900d24c",{"html":601,"metadata":602},"\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"generated-output\">Generated output\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#generated-output\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Generated output”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Example: \u003Ccode dir=\"auto\">Create users from table input: a@example.com\u003C/code>\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/executable-stories/_astro/ec.t5t0k.css\">\u003Cscript type=\"module\" src=\"/executable-stories/_astro/ec.0vx5m.js\">\u003C/script>\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"markdown\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">###\u003C/span>\u003Cspan style=\"--0:#55987B;--0fw:bold;--1:#1C6B48;--1fw:bold\"> ✅ Create users from table input: a@example.com\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">Given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the admin is on the create user page\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">When\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the admin submits the following user details\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">Details\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> email \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> role \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">---\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">---\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> a@example.com \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> user \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">Then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the user \"a@example.com\" should exist with role \"user\"\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"### ✅ Create users from table input: a@example.com- **Given** the admin is on the create user page- **When** the admin submits the following user details    **Details**    | email | role |    | --- | --- |    | a@example.com | user |- **Then** the user &#x22;a@example.com&#x22; should exist with role &#x22;user&#x22;\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"vitest-code\">Vitest code\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#vitest-code\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Vitest code”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#CB7676;--1:#9E5252\">const \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">createUserExamples\u003C/span>\u003Cspan style=\"--0:#CB7676;--1:#9E5252\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">=\u003C/span>\u003Cspan style=\"--0:#CB7676;--1:#9E5252\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">[\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{ \u003C/span>\u003Cspan style=\"--0:#B8A965;--1:#786713\">email\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">a@example.com\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">, \u003C/span>\u003Cspan style=\"--0:#B8A965;--1:#786713\">role\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">user\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\"> },\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{ \u003C/span>\u003Cspan style=\"--0:#B8A965;--1:#786713\">email\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">admin@example.com\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">, \u003C/span>\u003Cspan style=\"--0:#B8A965;--1:#786713\">role\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">admin\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\"> },\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">];\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#55987B;--1:#1E754F\">for\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#CB7676;--1:#9E5252\">const \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">row\u003C/span>\u003Cspan style=\"--0:#CB7676;--1:#9E5252\"> of\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">createUserExamples\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">)\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">story\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">`\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">Create users from table input: \u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">${\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">row\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">email\u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">}\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">`\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#5DA994;--1:#25746A\">StepsApi\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">)\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">=>\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the admin is on the create user page\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">when\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the admin submits the following user details\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">doc\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">table\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">Details\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">[\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">email\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">role\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">],\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">[[\u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">row\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">email\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">row\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">role\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">]]);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">`\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the user \"\u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">${\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">row\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">email\u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">}\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">\" should exist with role \"\u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">${\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">row\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">role\u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">}\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">`\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">});\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">}\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"const createUserExamples = [  { email: &#x22;a@example.com&#x22;, role: &#x22;user&#x22; },  { email: &#x22;admin@example.com&#x22;, role: &#x22;admin&#x22; },];for (const row of createUserExamples) {  story(&#x60;Create users from table input: ${row.email}&#x60;, (s: StepsApi) => {    s.given(&#x22;the admin is on the create user page&#x22;);    s.when(&#x22;the admin submits the following user details&#x22;);    s.doc.table(&#x22;Details&#x22;, [&#x22;email&#x22;, &#x22;role&#x22;], [[row.email, row.role]]);    s.then(&#x60;the user &#x22;${row.email}&#x22; should exist with role &#x22;${row.role}&#x22;&#x60;);  });}\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>",{"headings":603,"localImagePaths":606,"remoteImagePaths":607,"frontmatter":608,"imagePaths":609},[604,605],{"depth":57,"slug":134,"text":135},{"depth":57,"slug":409,"text":410},[],[],{"title":592,"description":593},[],"recipes/vitest/document-status-changes",{"id":610,"data":612,"body":618,"filePath":619,"digest":620,"rendered":621},{"title":613,"description":614,"editUrl":16,"head":615,"template":46,"sidebar":616,"pagefind":16,"draft":35},"Document status changes (Vitest)","Explicit state transition",[],{"hidden":35,"attrs":617},{},"## Generated output\n\n```markdown\n### ✅ Document status changes\n\n- **Given** a document exists with status \"draft\"\n- **When** the user submits the document\n- **Then** the document status should change to \"submitted\"\n- **And** an audit log entry should be created\n```\n\n## Vitest code\n\n```typescript\nstory(\"Document status changes\", (s: StepsApi) => {\n  s.given('a document exists with status \"draft\"');\n  s.when(\"the user submits the document\");\n  s.then('the document status should change to \"submitted\"');\n  s.then(\"an audit log entry should be created\");\n});\n```","src/content/docs/recipes/vitest/document-status-changes.md","02305349abd59200",{"html":622,"metadata":623},"\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"generated-output\">Generated output\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#generated-output\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Generated output”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/executable-stories/_astro/ec.t5t0k.css\">\u003Cscript type=\"module\" src=\"/executable-stories/_astro/ec.0vx5m.js\">\u003C/script>\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"markdown\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">###\u003C/span>\u003Cspan style=\"--0:#55987B;--0fw:bold;--1:#1C6B48;--1fw:bold\"> ✅ Document status changes\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">Given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> a document exists with status \"draft\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">When\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the user submits the document\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">Then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the document status should change to \"submitted\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">And\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> an audit log entry should be created\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"### ✅ Document status changes- **Given** a document exists with status &#x22;draft&#x22;- **When** the user submits the document- **Then** the document status should change to &#x22;submitted&#x22;- **And** an audit log entry should be created\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"vitest-code\">Vitest code\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#vitest-code\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Vitest code”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#80A665;--1:#4B7231\">story\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">Document status changes\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#5DA994;--1:#25746A\">StepsApi\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">)\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">=>\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">'\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">a document exists with status \"draft\"\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">'\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">when\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the user submits the document\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">'\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the document status should change to \"submitted\"\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">'\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">an audit log entry should be created\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">});\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"story(&#x22;Document status changes&#x22;, (s: StepsApi) => {  s.given(&#x27;a document exists with status &#x22;draft&#x22;&#x27;);  s.when(&#x22;the user submits the document&#x22;);  s.then(&#x27;the document status should change to &#x22;submitted&#x22;&#x27;);  s.then(&#x22;an audit log entry should be created&#x22;);});\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>",{"headings":624,"localImagePaths":627,"remoteImagePaths":628,"frontmatter":629,"imagePaths":630},[625,626],{"depth":57,"slug":134,"text":135},{"depth":57,"slug":409,"text":410},[],[],{"title":613,"description":614},[],"recipes/vitest/eligible-customer-gets-discount",{"id":631,"data":633,"body":639,"filePath":640,"digest":641,"rendered":642},{"title":634,"description":635,"editUrl":16,"head":636,"template":46,"sidebar":637,"pagefind":16,"draft":35},"Eligible customer gets discount (Vitest)","Rule block, positive path",[],{"hidden":35,"attrs":638},{},"## Generated output\n\n```markdown\n### ✅ Eligible customer gets discount\n\n- **Given** the customer is eligible for discounts\n- **When** the customer checks out\n- **Then** a discount should be applied\n```\n\n## Vitest code\n\n```typescript\ndescribe(\"Feature: Discounts\", () => {\n  describe(\"Rule: Discounts apply only to eligible customers\", () => {\n    story(\"Eligible customer gets discount\", (s: StepsApi) => {\n      s.given(\"the customer is eligible for discounts\");\n      s.when(\"the customer checks out\");\n      s.then(\"a discount should be applied\");\n    });\n  });\n});\n```","src/content/docs/recipes/vitest/eligible-customer-gets-discount.md","778bbeb40d14b564",{"html":643,"metadata":644},"\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"generated-output\">Generated output\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#generated-output\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Generated output”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/executable-stories/_astro/ec.t5t0k.css\">\u003Cscript type=\"module\" src=\"/executable-stories/_astro/ec.0vx5m.js\">\u003C/script>\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"markdown\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">###\u003C/span>\u003Cspan style=\"--0:#55987B;--0fw:bold;--1:#1C6B48;--1fw:bold\"> ✅ Eligible customer gets discount\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">Given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the customer is eligible for discounts\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">When\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the customer checks out\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">Then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> a discount should be applied\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"### ✅ Eligible customer gets discount- **Given** the customer is eligible for discounts- **When** the customer checks out- **Then** a discount should be applied\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"vitest-code\">Vitest code\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#vitest-code\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Vitest code”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#80A665;--1:#4B7231\">describe\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">Feature: Discounts\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">()\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">=>\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">describe\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">Rule: Discounts apply only to eligible customers\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">()\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">=>\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">story\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">Eligible customer gets discount\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#5DA994;--1:#25746A\">StepsApi\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">)\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">=>\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the customer is eligible for discounts\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">when\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the customer checks out\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">a discount should be applied\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">});\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">});\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">});\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"describe(&#x22;Feature: Discounts&#x22;, () => {  describe(&#x22;Rule: Discounts apply only to eligible customers&#x22;, () => {    story(&#x22;Eligible customer gets discount&#x22;, (s: StepsApi) => {      s.given(&#x22;the customer is eligible for discounts&#x22;);      s.when(&#x22;the customer checks out&#x22;);      s.then(&#x22;a discount should be applied&#x22;);    });  });});\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>",{"headings":645,"localImagePaths":648,"remoteImagePaths":649,"frontmatter":650,"imagePaths":651},[646,647],{"depth":57,"slug":134,"text":135},{"depth":57,"slug":409,"text":410},[],[],{"title":634,"description":635},[],"recipes/vitest/guest-checkout-allowed",{"id":652,"data":654,"body":660,"filePath":661,"digest":662,"rendered":663},{"title":655,"description":656,"editUrl":16,"head":657,"template":46,"sidebar":658,"pagefind":16,"draft":35},"Guest checkout allowed (Vitest)","doc.note for But in Given",[],{"hidden":35,"attrs":659},{},"## Generated output\n\n```markdown\n### ✅ Guest checkout allowed\n\n- **Given** the user is on the checkout page\n- **And** the user is not logged in\n    _Note:_ But guest checkout is enabled\n- **When** the user submits an order as a guest\n- **Then** the order should be created\n```\n\n## Vitest code\n\n```typescript\nstory(\"Guest checkout allowed\", (s: StepsApi) => {\n  s.given(\"the user is on the checkout page\");\n  s.given(\"the user is not logged in\");\n  s.doc.note(\"But guest checkout is enabled\");\n  s.when(\"the user submits an order as a guest\");\n  s.then(\"the order should be created\");\n});\n```","src/content/docs/recipes/vitest/guest-checkout-allowed.md","d4835e6e1e2eb22b",{"html":664,"metadata":665},"\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"generated-output\">Generated output\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#generated-output\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Generated output”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/executable-stories/_astro/ec.t5t0k.css\">\u003Cscript type=\"module\" src=\"/executable-stories/_astro/ec.0vx5m.js\">\u003C/script>\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"markdown\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">###\u003C/span>\u003Cspan style=\"--0:#55987B;--0fw:bold;--1:#1C6B48;--1fw:bold\"> ✅ Guest checkout allowed\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">Given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the user is on the checkout page\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">And\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the user is not logged in\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fs:italic;--1:#686868;--1fs:italic\">_\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fs:italic;--1:#393A34;--1fs:italic\">Note:\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fs:italic;--1:#686868;--1fs:italic\">_\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> But guest checkout is enabled\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">When\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the user submits an order as a guest\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">Then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the order should be created\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"### ✅ Guest checkout allowed- **Given** the user is on the checkout page- **And** the user is not logged in    _Note:_ But guest checkout is enabled- **When** the user submits an order as a guest- **Then** the order should be created\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"vitest-code\">Vitest code\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#vitest-code\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Vitest code”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#80A665;--1:#4B7231\">story\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">Guest checkout allowed\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#5DA994;--1:#25746A\">StepsApi\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">)\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">=>\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the user is on the checkout page\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the user is not logged in\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">doc\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">note\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">But guest checkout is enabled\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">when\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the user submits an order as a guest\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the order should be created\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">});\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"story(&#x22;Guest checkout allowed&#x22;, (s: StepsApi) => {  s.given(&#x22;the user is on the checkout page&#x22;);  s.given(&#x22;the user is not logged in&#x22;);  s.doc.note(&#x22;But guest checkout is enabled&#x22;);  s.when(&#x22;the user submits an order as a guest&#x22;);  s.then(&#x22;the order should be created&#x22;);});\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>",{"headings":666,"localImagePaths":669,"remoteImagePaths":670,"frontmatter":671,"imagePaths":672},[667,668],{"depth":57,"slug":134,"text":135},{"depth":57,"slug":409,"text":410},[],[],{"title":655,"description":656},[],"recipes/vitest/import-users-welcome-email",{"id":673,"data":675,"body":681,"filePath":682,"digest":683,"rendered":684},{"title":676,"description":677,"editUrl":16,"head":678,"template":46,"sidebar":679,"pagefind":16,"draft":35},"Import users and send welcome email (Vitest)","DataTable + DocString (doc.table and doc.code)",[],{"hidden":35,"attrs":680},{},"## Generated output\n\n```markdown\n### ✅ Import users and send welcome email\n\n- **Given** the following users are to be imported\n    **Users**\n    | email | name |\n    | --- | --- |\n    | a@example.com | Alice |\n    | b@example.com | Bob |\n- **And** the email template is\n    **Template**\n    ```\n    Welcome {{name}}!\n    Thanks for joining.\n    ```\n- **When** the import job runs\n- **Then** the users should exist\n- **And** welcome emails should be sent\n```\n\n## Vitest code\n\n```typescript\nstory(\"Import users and send welcome email\", (s: StepsApi) => {\n  s.given(\"the following users are to be imported\");\n  s.doc.table(\"Users\", [\"email\", \"name\"], [\n    [\"a@example.com\", \"Alice\"],\n    [\"b@example.com\", \"Bob\"],\n  ]);\n  s.and(\"the email template is\");\n  s.doc.code(\"Template\", `Welcome {{name}}!\nThanks for joining.`);\n  s.when(\"the import job runs\");\n  s.then(\"the users should exist\");\n  s.then(\"welcome emails should be sent\");\n});\n```","src/content/docs/recipes/vitest/import-users-welcome-email.md","858c37912ddaccb6",{"html":685,"metadata":686},"\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"generated-output\">Generated output\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#generated-output\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Generated output”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/executable-stories/_astro/ec.t5t0k.css\">\u003Cscript type=\"module\" src=\"/executable-stories/_astro/ec.0vx5m.js\">\u003C/script>\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"markdown\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">###\u003C/span>\u003Cspan style=\"--0:#55987B;--0fw:bold;--1:#1C6B48;--1fw:bold\"> ✅ Import users and send welcome email\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">Given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the following users are to be imported\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">Users\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> email \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> name \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">---\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">---\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> a@example.com \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> Alice \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> b@example.com \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> Bob \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">And\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the email template is\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">Template\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">```\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\">Welcome {{name}}!\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\">Thanks for joining.\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">```\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">When\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the import job runs\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">Then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the users should exist\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">And\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> welcome emails should be sent\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"### ✅ Import users and send welcome email- **Given** the following users are to be imported    **Users**    | email | name |    | --- | --- |    | a@example.com | Alice |    | b@example.com | Bob |- **And** the email template is    **Template**    &#x60;&#x60;&#x60;    Welcome {{name}}!    Thanks for joining.    &#x60;&#x60;&#x60;- **When** the import job runs- **Then** the users should exist- **And** welcome emails should be sent\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"vitest-code\">Vitest code\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#vitest-code\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Vitest code”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#80A665;--1:#4B7231\">story\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">Import users and send welcome email\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#5DA994;--1:#25746A\">StepsApi\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">)\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">=>\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the following users are to be imported\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">doc\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">table\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">Users\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">[\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">email\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">name\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">],\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">[\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">[\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">a@example.com\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">Alice\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">],\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">[\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">b@example.com\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">Bob\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">],\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">]);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">and\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the email template is\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">doc\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">code\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">Template\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">`\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">Welcome {{name}}!\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">Thanks for joining.\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">`\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">when\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the import job runs\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the users should exist\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">welcome emails should be sent\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">});\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"story(&#x22;Import users and send welcome email&#x22;, (s: StepsApi) => {  s.given(&#x22;the following users are to be imported&#x22;);  s.doc.table(&#x22;Users&#x22;, [&#x22;email&#x22;, &#x22;name&#x22;], [    [&#x22;a@example.com&#x22;, &#x22;Alice&#x22;],    [&#x22;b@example.com&#x22;, &#x22;Bob&#x22;],  ]);  s.and(&#x22;the email template is&#x22;);  s.doc.code(&#x22;Template&#x22;, &#x60;Welcome {{name}}!Thanks for joining.&#x60;);  s.when(&#x22;the import job runs&#x22;);  s.then(&#x22;the users should exist&#x22;);  s.then(&#x22;welcome emails should be sent&#x22;);});\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>",{"headings":687,"localImagePaths":690,"remoteImagePaths":691,"frontmatter":692,"imagePaths":693},[688,689],{"depth":57,"slug":134,"text":135},{"depth":57,"slug":409,"text":410},[],[],{"title":676,"description":677},[],"recipes/vitest",{"id":694,"data":696,"body":702,"filePath":703,"digest":704,"rendered":705},{"title":697,"description":698,"editUrl":16,"head":699,"template":46,"sidebar":700,"pagefind":16,"draft":35},"Recipes (Vitest)","Example scenarios with Vitest code and generated output",[],{"hidden":35,"attrs":701},{},"Each recipe shows how to implement a scenario in **Vitest** with `vitest-executable-stories` and the **generated Markdown** the reporter produces. Code is from the [vitest-example](https://github.com/jagreehal/executable-stories/tree/main/apps/vitest-example) app.\n\n## Recipe list\n\n| Scenario | Recipe |\n|----------|--------|\n| User logs in successfully | [user-logs-in-successfully](/recipes/vitest/user-logs-in-successfully/) |\n| User updates profile details | [user-updates-profile-details](/recipes/vitest/user-updates-profile-details/) |\n| Checkout calculates totals | [checkout-calculates-totals](/recipes/vitest/checkout-calculates-totals/) |\n| Password reset flow | [password-reset-flow](/recipes/vitest/password-reset-flow/) |\n| Login blocked for suspended user | [login-blocked-suspended-user](/recipes/vitest/login-blocked-suspended-user/) |\n| Bulk user creation | [bulk-user-creation](/recipes/vitest/bulk-user-creation/) |\n| Calculate shipping options | [calculate-shipping-options](/recipes/vitest/calculate-shipping-options/) |\n| API accepts a JSON payload | [api-accepts-json-payload](/recipes/vitest/api-accepts-json-payload/) |\n| Import XML invoice | [import-xml-invoice](/recipes/vitest/import-xml-invoice/) |\n| Change email address | [change-email-address](/recipes/vitest/change-email-address/) |\n| Change password | [change-password](/recipes/vitest/change-password/) |\n| Eligible customer gets discount | [eligible-customer-gets-discount](/recipes/vitest/eligible-customer-gets-discount/) |\n| Ineligible customer does not get discount | [ineligible-customer-no-discount](/recipes/vitest/ineligible-customer-no-discount/) |\n| Login errors (examples) | [login-errors](/recipes/vitest/login-errors/) |\n| Tax calculation by region | [tax-calculation-by-region](/recipes/vitest/tax-calculation-by-region/) |\n| Create users from table input | [create-users-from-table](/recipes/vitest/create-users-from-table/) |\n| Two step checkout | [two-step-checkout](/recipes/vitest/two-step-checkout/) |\n| Payment declined | [payment-declined](/recipes/vitest/payment-declined/) |\n| Login works (with tags) | [login-works](/recipes/vitest/login-works/) |\n| Update preferences | [update-preferences](/recipes/vitest/update-preferences/) |\n| Configure feature flags | [configure-feature-flags](/recipes/vitest/configure-feature-flags/) |\n| Guest checkout allowed | [guest-checkout-allowed](/recipes/vitest/guest-checkout-allowed/) |\n| Logout clears session | [logout-clears-session](/recipes/vitest/logout-clears-session/) |\n| Document status changes | [document-status-changes](/recipes/vitest/document-status-changes/) |\n| Shipping eligibility | [shipping-eligibility](/recipes/vitest/shipping-eligibility/) |\n| Render markdown | [render-markdown](/recipes/vitest/render-markdown/) |\n| Search results show highlights | [search-results-show-highlights](/recipes/vitest/search-results-show-highlights/) |\n| Post JSON payload | [post-json-payload](/recipes/vitest/post-json-payload/) |\n| Create order | [create-order](/recipes/vitest/create-order/) |\n| Many login attempts | [many-login-attempts](/recipes/vitest/many-login-attempts/) |\n| Report shows fields in order | [report-shows-fields-in-order](/recipes/vitest/report-shows-fields-in-order/) |\n| Import users and send welcome email | [import-users-welcome-email](/recipes/vitest/import-users-welcome-email/) |\n\nSource: `apps/vitest-example/src/replicate.story.test.ts` and generated `replicate.story.docs.md`.","src/content/docs/recipes/vitest/index.md","24fa6f72e9a7b666",{"html":706,"metadata":707},"\u003Cp>Each recipe shows how to implement a scenario in \u003Cstrong>Vitest\u003C/strong> with \u003Ccode dir=\"auto\">vitest-executable-stories\u003C/code> and the \u003Cstrong>generated Markdown\u003C/strong> the reporter produces. Code is from the \u003Ca href=\"https://github.com/jagreehal/executable-stories/tree/main/apps/vitest-example\">vitest-example\u003C/a> app.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"recipe-list\">Recipe list\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#recipe-list\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Recipe list”\u003C/span>\u003C/a>\u003C/div>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Scenario\u003C/th>\u003Cth>Recipe\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>User logs in successfully\u003C/td>\u003Ctd>\u003Ca href=\"/recipes/vitest/user-logs-in-successfully/\">user-logs-in-successfully\u003C/a>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>User updates profile details\u003C/td>\u003Ctd>\u003Ca href=\"/recipes/vitest/user-updates-profile-details/\">user-updates-profile-details\u003C/a>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Checkout calculates totals\u003C/td>\u003Ctd>\u003Ca href=\"/recipes/vitest/checkout-calculates-totals/\">checkout-calculates-totals\u003C/a>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Password reset flow\u003C/td>\u003Ctd>\u003Ca href=\"/recipes/vitest/password-reset-flow/\">password-reset-flow\u003C/a>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Login blocked for suspended user\u003C/td>\u003Ctd>\u003Ca href=\"/recipes/vitest/login-blocked-suspended-user/\">login-blocked-suspended-user\u003C/a>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Bulk user creation\u003C/td>\u003Ctd>\u003Ca href=\"/recipes/vitest/bulk-user-creation/\">bulk-user-creation\u003C/a>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Calculate shipping options\u003C/td>\u003Ctd>\u003Ca href=\"/recipes/vitest/calculate-shipping-options/\">calculate-shipping-options\u003C/a>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>API accepts a JSON payload\u003C/td>\u003Ctd>\u003Ca href=\"/recipes/vitest/api-accepts-json-payload/\">api-accepts-json-payload\u003C/a>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Import XML invoice\u003C/td>\u003Ctd>\u003Ca href=\"/recipes/vitest/import-xml-invoice/\">import-xml-invoice\u003C/a>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Change email address\u003C/td>\u003Ctd>\u003Ca href=\"/recipes/vitest/change-email-address/\">change-email-address\u003C/a>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Change password\u003C/td>\u003Ctd>\u003Ca href=\"/recipes/vitest/change-password/\">change-password\u003C/a>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Eligible customer gets discount\u003C/td>\u003Ctd>\u003Ca href=\"/recipes/vitest/eligible-customer-gets-discount/\">eligible-customer-gets-discount\u003C/a>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Ineligible customer does not get discount\u003C/td>\u003Ctd>\u003Ca href=\"/recipes/vitest/ineligible-customer-no-discount/\">ineligible-customer-no-discount\u003C/a>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Login errors (examples)\u003C/td>\u003Ctd>\u003Ca href=\"/recipes/vitest/login-errors/\">login-errors\u003C/a>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Tax calculation by region\u003C/td>\u003Ctd>\u003Ca href=\"/recipes/vitest/tax-calculation-by-region/\">tax-calculation-by-region\u003C/a>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Create users from table input\u003C/td>\u003Ctd>\u003Ca href=\"/recipes/vitest/create-users-from-table/\">create-users-from-table\u003C/a>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Two step checkout\u003C/td>\u003Ctd>\u003Ca href=\"/recipes/vitest/two-step-checkout/\">two-step-checkout\u003C/a>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Payment declined\u003C/td>\u003Ctd>\u003Ca href=\"/recipes/vitest/payment-declined/\">payment-declined\u003C/a>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Login works (with tags)\u003C/td>\u003Ctd>\u003Ca href=\"/recipes/vitest/login-works/\">login-works\u003C/a>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Update preferences\u003C/td>\u003Ctd>\u003Ca href=\"/recipes/vitest/update-preferences/\">update-preferences\u003C/a>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Configure feature flags\u003C/td>\u003Ctd>\u003Ca href=\"/recipes/vitest/configure-feature-flags/\">configure-feature-flags\u003C/a>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Guest checkout allowed\u003C/td>\u003Ctd>\u003Ca href=\"/recipes/vitest/guest-checkout-allowed/\">guest-checkout-allowed\u003C/a>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Logout clears session\u003C/td>\u003Ctd>\u003Ca href=\"/recipes/vitest/logout-clears-session/\">logout-clears-session\u003C/a>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Document status changes\u003C/td>\u003Ctd>\u003Ca href=\"/recipes/vitest/document-status-changes/\">document-status-changes\u003C/a>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Shipping eligibility\u003C/td>\u003Ctd>\u003Ca href=\"/recipes/vitest/shipping-eligibility/\">shipping-eligibility\u003C/a>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Render markdown\u003C/td>\u003Ctd>\u003Ca href=\"/recipes/vitest/render-markdown/\">render-markdown\u003C/a>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Search results show highlights\u003C/td>\u003Ctd>\u003Ca href=\"/recipes/vitest/search-results-show-highlights/\">search-results-show-highlights\u003C/a>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Post JSON payload\u003C/td>\u003Ctd>\u003Ca href=\"/recipes/vitest/post-json-payload/\">post-json-payload\u003C/a>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Create order\u003C/td>\u003Ctd>\u003Ca href=\"/recipes/vitest/create-order/\">create-order\u003C/a>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Many login attempts\u003C/td>\u003Ctd>\u003Ca href=\"/recipes/vitest/many-login-attempts/\">many-login-attempts\u003C/a>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Report shows fields in order\u003C/td>\u003Ctd>\u003Ca href=\"/recipes/vitest/report-shows-fields-in-order/\">report-shows-fields-in-order\u003C/a>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Import users and send welcome email\u003C/td>\u003Ctd>\u003Ca href=\"/recipes/vitest/import-users-welcome-email/\">import-users-welcome-email\u003C/a>\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Cp>Source: \u003Ccode dir=\"auto\">apps/vitest-example/src/replicate.story.test.ts\u003C/code> and generated \u003Ccode dir=\"auto\">replicate.story.docs.md\u003C/code>.\u003C/p>",{"headings":708,"localImagePaths":712,"remoteImagePaths":713,"frontmatter":714,"imagePaths":715},[709],{"depth":57,"slug":710,"text":711},"recipe-list","Recipe list",[],[],{"title":697,"description":698,"slug":694},[],"recipes/vitest/import-xml-invoice",{"id":716,"data":718,"body":724,"filePath":725,"digest":726,"rendered":727},{"title":719,"description":720,"editUrl":16,"head":721,"template":46,"sidebar":722,"pagefind":16,"draft":35},"Import XML invoice (Vitest)","DocString (XML) with doc.code",[],{"hidden":35,"attrs":723},{},"## Generated output\n\n```markdown\n### ✅ Import XML invoice\n\n- **Given** the invoice XML is\n    **Invoice**\n    ```xml\n    \u003Cinvoice>\n      \u003Cid>INV-100\u003C/id>\n      \u003Camount>42.50\u003C/amount>\n      \u003Ccurrency>USD\u003C/currency>\n    \u003C/invoice>\n    ```\n- **When** the user imports the invoice\n- **Then** the invoice should be saved\n- **And** the invoice total should be 42.50 USD\n```\n\n## Vitest code\n\n```typescript\nstory(\"Import XML invoice\", (s: StepsApi) => {\n  s.given(\"the invoice XML is\");\n  s.doc.code(\"Invoice\", `\u003Cinvoice>\n  \u003Cid>INV-100\u003C/id>\n  \u003Camount>42.50\u003C/amount>\n  \u003Ccurrency>USD\u003C/currency>\n\u003C/invoice>`, \"xml\");\n  s.when(\"the user imports the invoice\");\n  s.then(\"the invoice should be saved\");\n  s.then(\"the invoice total should be 42.50 USD\");\n});\n```","src/content/docs/recipes/vitest/import-xml-invoice.md","83ec21109701e1ab",{"html":728,"metadata":729},"\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"generated-output\">Generated output\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#generated-output\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Generated output”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/executable-stories/_astro/ec.t5t0k.css\">\u003Cscript type=\"module\" src=\"/executable-stories/_astro/ec.0vx5m.js\">\u003C/script>\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"markdown\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">###\u003C/span>\u003Cspan style=\"--0:#55987B;--0fw:bold;--1:#1C6B48;--1fw:bold\"> ✅ Import XML invoice\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">Given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the invoice XML is\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">Invoice\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">```\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\">xml\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">&#x3C;\u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">invoice\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">>\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">&#x3C;\u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">id\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">>\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\">INV-100\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">&#x3C;/\u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">id\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">>\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">&#x3C;\u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">amount\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">>\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\">42.50\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">&#x3C;/\u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">amount\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">>\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">&#x3C;\u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">currency\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">>\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\">USD\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">&#x3C;/\u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">currency\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">>\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">&#x3C;/\u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">invoice\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">>\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">```\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">When\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the user imports the invoice\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">Then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the invoice should be saved\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">And\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the invoice total should be 42.50 USD\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"### ✅ Import XML invoice- **Given** the invoice XML is    **Invoice**    &#x60;&#x60;&#x60;xml    \u003Cinvoice>      \u003Cid>INV-100\u003C/id>      \u003Camount>42.50\u003C/amount>      \u003Ccurrency>USD\u003C/currency>    \u003C/invoice>    &#x60;&#x60;&#x60;- **When** the user imports the invoice- **Then** the invoice should be saved- **And** the invoice total should be 42.50 USD\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"vitest-code\">Vitest code\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#vitest-code\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Vitest code”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#80A665;--1:#4B7231\">story\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">Import XML invoice\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#5DA994;--1:#25746A\">StepsApi\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">)\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">=>\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the invoice XML is\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">doc\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">code\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">Invoice\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">`\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">&#x3C;invoice>\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">&#x3C;id>INV-100&#x3C;/id>\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">&#x3C;amount>42.50&#x3C;/amount>\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">&#x3C;currency>USD&#x3C;/currency>\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">&#x3C;/invoice>\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">`\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">xml\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">when\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the user imports the invoice\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the invoice should be saved\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the invoice total should be 42.50 USD\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">});\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"story(&#x22;Import XML invoice&#x22;, (s: StepsApi) => {  s.given(&#x22;the invoice XML is&#x22;);  s.doc.code(&#x22;Invoice&#x22;, &#x60;\u003Cinvoice>  \u003Cid>INV-100\u003C/id>  \u003Camount>42.50\u003C/amount>  \u003Ccurrency>USD\u003C/currency>\u003C/invoice>&#x60;, &#x22;xml&#x22;);  s.when(&#x22;the user imports the invoice&#x22;);  s.then(&#x22;the invoice should be saved&#x22;);  s.then(&#x22;the invoice total should be 42.50 USD&#x22;);});\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>",{"headings":730,"localImagePaths":733,"remoteImagePaths":734,"frontmatter":735,"imagePaths":736},[731,732],{"depth":57,"slug":134,"text":135},{"depth":57,"slug":409,"text":410},[],[],{"title":719,"description":720},[],"recipes/vitest/ineligible-customer-no-discount",{"id":737,"data":739,"body":745,"filePath":746,"digest":747,"rendered":748},{"title":740,"description":741,"editUrl":16,"head":742,"template":46,"sidebar":743,"pagefind":16,"draft":35},"Ineligible customer does not get discount (Vitest)","Rule block, negative path",[],{"hidden":35,"attrs":744},{},"## Generated output\n\n```markdown\n### ✅ Ineligible customer does not get discount\n\n- **Given** the customer is not eligible for discounts\n- **When** the customer checks out\n- **Then** no discount should be applied\n```\n\n## Vitest code\n\n```typescript\nstory(\"Ineligible customer does not get discount\", (s: StepsApi) => {\n  s.given(\"the customer is not eligible for discounts\");\n  s.when(\"the customer checks out\");\n  s.then(\"no discount should be applied\");\n});\n```","src/content/docs/recipes/vitest/ineligible-customer-no-discount.md","b921e4a2c401d9ab",{"html":749,"metadata":750},"\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"generated-output\">Generated output\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#generated-output\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Generated output”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/executable-stories/_astro/ec.t5t0k.css\">\u003Cscript type=\"module\" src=\"/executable-stories/_astro/ec.0vx5m.js\">\u003C/script>\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"markdown\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">###\u003C/span>\u003Cspan style=\"--0:#55987B;--0fw:bold;--1:#1C6B48;--1fw:bold\"> ✅ Ineligible customer does not get discount\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">Given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the customer is not eligible for discounts\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">When\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the customer checks out\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">Then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> no discount should be applied\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"### ✅ Ineligible customer does not get discount- **Given** the customer is not eligible for discounts- **When** the customer checks out- **Then** no discount should be applied\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"vitest-code\">Vitest code\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#vitest-code\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Vitest code”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#80A665;--1:#4B7231\">story\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">Ineligible customer does not get discount\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#5DA994;--1:#25746A\">StepsApi\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">)\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">=>\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the customer is not eligible for discounts\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">when\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the customer checks out\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">no discount should be applied\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">});\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"story(&#x22;Ineligible customer does not get discount&#x22;, (s: StepsApi) => {  s.given(&#x22;the customer is not eligible for discounts&#x22;);  s.when(&#x22;the customer checks out&#x22;);  s.then(&#x22;no discount should be applied&#x22;);});\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>",{"headings":751,"localImagePaths":754,"remoteImagePaths":755,"frontmatter":756,"imagePaths":757},[752,753],{"depth":57,"slug":134,"text":135},{"depth":57,"slug":409,"text":410},[],[],{"title":740,"description":741},[],"recipes/vitest/login-blocked-suspended-user",{"id":758,"data":760,"body":766,"filePath":767,"digest":768,"rendered":769},{"title":761,"description":762,"editUrl":16,"head":763,"template":46,"sidebar":764,"pagefind":16,"draft":35},"Login blocked for suspended user (Vitest)","Use of But for negative intent",[],{"hidden":35,"attrs":765},{},"## Generated output\n\n```markdown\n### ✅ Login blocked for suspended user\n\n- **Given** the user account exists\n- **And** the account is suspended\n- **When** the user submits valid credentials\n- **Then** the user should see an error message\n- **But** the user should not be logged in\n```\n\n`but()` always renders as \"But\" (never auto-converted to \"And\").\n\n## Vitest code\n\n```typescript\nimport { story, type StepsApi } from \"vitest-executable-stories\";\n\nstory(\"Login blocked for suspended user\", (s: StepsApi) => {\n  s.given(\"the user account exists\");\n  s.given(\"the account is suspended\");\n  s.when(\"the user submits valid credentials\");\n  s.then(\"the user should see an error message\");\n  s.but(\"the user should not be logged in\");\n});\n```\n\nFrom `apps/vitest-example/src/replicate.story.test.ts`.","src/content/docs/recipes/vitest/login-blocked-suspended-user.md","cd3c97b862e61de2",{"html":770,"metadata":771},"\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"generated-output\">Generated output\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#generated-output\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Generated output”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/executable-stories/_astro/ec.t5t0k.css\">\u003Cscript type=\"module\" src=\"/executable-stories/_astro/ec.0vx5m.js\">\u003C/script>\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"markdown\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">###\u003C/span>\u003Cspan style=\"--0:#55987B;--0fw:bold;--1:#1C6B48;--1fw:bold\"> ✅ Login blocked for suspended user\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">Given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the user account exists\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">And\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the account is suspended\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">When\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the user submits valid credentials\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">Then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the user should see an error message\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">But\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the user should not be logged in\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"### ✅ Login blocked for suspended user- **Given** the user account exists- **And** the account is suspended- **When** the user submits valid credentials- **Then** the user should see an error message- **But** the user should not be logged in\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>\u003Ccode dir=\"auto\">but()\u003C/code> always renders as “But” (never auto-converted to “And”).\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"vitest-code\">Vitest code\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#vitest-code\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Vitest code”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#55987B;--1:#1E754F\">import\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">story\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">type\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">StepsApi\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">}\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">from\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">vitest-executable-stories\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#80A665;--1:#4B7231\">story\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">Login blocked for suspended user\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#5DA994;--1:#25746A\">StepsApi\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">)\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">=>\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the user account exists\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the account is suspended\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">when\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the user submits valid credentials\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the user should see an error message\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">but\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the user should not be logged in\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">});\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"import { story, type StepsApi } from &#x22;vitest-executable-stories&#x22;;story(&#x22;Login blocked for suspended user&#x22;, (s: StepsApi) => {  s.given(&#x22;the user account exists&#x22;);  s.given(&#x22;the account is suspended&#x22;);  s.when(&#x22;the user submits valid credentials&#x22;);  s.then(&#x22;the user should see an error message&#x22;);  s.but(&#x22;the user should not be logged in&#x22;);});\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>From \u003Ccode dir=\"auto\">apps/vitest-example/src/replicate.story.test.ts\u003C/code>.\u003C/p>",{"headings":772,"localImagePaths":775,"remoteImagePaths":776,"frontmatter":777,"imagePaths":778},[773,774],{"depth":57,"slug":134,"text":135},{"depth":57,"slug":409,"text":410},[],[],{"title":761,"description":762},[],"recipes/vitest/login-errors",{"id":779,"data":781,"body":787,"filePath":788,"digest":789,"rendered":790},{"title":782,"description":783,"editUrl":16,"head":784,"template":46,"sidebar":785,"pagefind":16,"draft":35},"Login errors (Vitest)","Scenario outline with loop",[],{"hidden":35,"attrs":786},{},"## Generated output\n\nExample for one row:\n\n```markdown\n### ✅ Login errors: Account is locked\n\n- **Given** the user is on the login page\n- **When** the user logs in with \"locked@example.com\" and \"secret\"\n- **Then** the error message should be \"Account is locked\"\n```\n\n## Vitest code\n\n```typescript\nconst loginErrorExamples = [\n  { email: \"user@example.com\", password: \"wrong\", message: \"Invalid credentials\" },\n  { email: \"locked@example.com\", password: \"secret\", message: \"Account is locked\" },\n  { email: \"unknown@example.com\", password: \"secret\", message: \"Invalid credentials\" },\n];\nfor (const row of loginErrorExamples) {\n  story(`Login errors: ${row.message}`, (s: StepsApi) => {\n    s.given(\"the user is on the login page\");\n    s.when(`the user logs in with \"${row.email}\" and \"${row.password}\"`);\n    s.then(`the error message should be \"${row.message}\"`);\n  });\n}\n```","src/content/docs/recipes/vitest/login-errors.md","bce2bea27787a59a",{"html":791,"metadata":792},"\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"generated-output\">Generated output\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#generated-output\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Generated output”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Example for one row:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/executable-stories/_astro/ec.t5t0k.css\">\u003Cscript type=\"module\" src=\"/executable-stories/_astro/ec.0vx5m.js\">\u003C/script>\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"markdown\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">###\u003C/span>\u003Cspan style=\"--0:#55987B;--0fw:bold;--1:#1C6B48;--1fw:bold\"> ✅ Login errors: Account is locked\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">Given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the user is on the login page\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">When\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the user logs in with \"locked@example.com\" and \"secret\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">Then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the error message should be \"Account is locked\"\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"### ✅ Login errors: Account is locked- **Given** the user is on the login page- **When** the user logs in with &#x22;locked@example.com&#x22; and &#x22;secret&#x22;- **Then** the error message should be &#x22;Account is locked&#x22;\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"vitest-code\">Vitest code\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#vitest-code\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Vitest code”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#CB7676;--1:#9E5252\">const \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">loginErrorExamples\u003C/span>\u003Cspan style=\"--0:#CB7676;--1:#9E5252\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">=\u003C/span>\u003Cspan style=\"--0:#CB7676;--1:#9E5252\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">[\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{ \u003C/span>\u003Cspan style=\"--0:#B8A965;--1:#786713\">email\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">user@example.com\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">, \u003C/span>\u003Cspan style=\"--0:#B8A965;--1:#786713\">password\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">wrong\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">, \u003C/span>\u003Cspan style=\"--0:#B8A965;--1:#786713\">message\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">Invalid credentials\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\"> },\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{ \u003C/span>\u003Cspan style=\"--0:#B8A965;--1:#786713\">email\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">locked@example.com\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">, \u003C/span>\u003Cspan style=\"--0:#B8A965;--1:#786713\">password\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">secret\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">, \u003C/span>\u003Cspan style=\"--0:#B8A965;--1:#786713\">message\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">Account is locked\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\"> },\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{ \u003C/span>\u003Cspan style=\"--0:#B8A965;--1:#786713\">email\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">unknown@example.com\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">, \u003C/span>\u003Cspan style=\"--0:#B8A965;--1:#786713\">password\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">secret\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">, \u003C/span>\u003Cspan style=\"--0:#B8A965;--1:#786713\">message\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">Invalid credentials\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\"> },\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">];\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#55987B;--1:#1E754F\">for\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#CB7676;--1:#9E5252\">const \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">row\u003C/span>\u003Cspan style=\"--0:#CB7676;--1:#9E5252\"> of\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">loginErrorExamples\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">)\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">story\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">`\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">Login errors: \u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">${\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">row\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">message\u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">}\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">`\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#5DA994;--1:#25746A\">StepsApi\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">)\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">=>\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the user is on the login page\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">when\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">`\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the user logs in with \"\u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">${\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">row\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">email\u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">}\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">\" and \"\u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">${\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">row\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">password\u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">}\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">`\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">`\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the error message should be \"\u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">${\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">row\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">message\u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">}\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">`\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">});\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">}\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"const loginErrorExamples = [  { email: &#x22;user@example.com&#x22;, password: &#x22;wrong&#x22;, message: &#x22;Invalid credentials&#x22; },  { email: &#x22;locked@example.com&#x22;, password: &#x22;secret&#x22;, message: &#x22;Account is locked&#x22; },  { email: &#x22;unknown@example.com&#x22;, password: &#x22;secret&#x22;, message: &#x22;Invalid credentials&#x22; },];for (const row of loginErrorExamples) {  story(&#x60;Login errors: ${row.message}&#x60;, (s: StepsApi) => {    s.given(&#x22;the user is on the login page&#x22;);    s.when(&#x60;the user logs in with &#x22;${row.email}&#x22; and &#x22;${row.password}&#x22;&#x60;);    s.then(&#x60;the error message should be &#x22;${row.message}&#x22;&#x60;);  });}\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>",{"headings":793,"localImagePaths":796,"remoteImagePaths":797,"frontmatter":798,"imagePaths":799},[794,795],{"depth":57,"slug":134,"text":135},{"depth":57,"slug":409,"text":410},[],[],{"title":782,"description":783},[],"recipes/vitest/login-works",{"id":800,"data":802,"body":808,"filePath":809,"digest":810,"rendered":811},{"title":803,"description":804,"editUrl":16,"head":805,"template":46,"sidebar":806,"pagefind":16,"draft":35},"Login works (Vitest)","Story with tags",[],{"hidden":35,"attrs":807},{},"## Generated output\n\n```markdown\n### ✅ Login works\nTags: `smoke`, `auth`\n\n- **Given** the user is on the login page\n- **When** the user logs in with valid credentials\n- **Then** the user should be logged in\n```\n\n## Vitest code\n\n```typescript\nstory(\"Login works\", { tags: [\"smoke\", \"auth\"] }, (s: StepsApi) => {\n  s.given(\"the user is on the login page\");\n  s.when(\"the user logs in with valid credentials\");\n  s.then(\"the user should be logged in\");\n});\n```","src/content/docs/recipes/vitest/login-works.md","2f4368a6982402c0",{"html":812,"metadata":813},"\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"generated-output\">Generated output\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#generated-output\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Generated output”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/executable-stories/_astro/ec.t5t0k.css\">\u003Cscript type=\"module\" src=\"/executable-stories/_astro/ec.0vx5m.js\">\u003C/script>\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"markdown\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">###\u003C/span>\u003Cspan style=\"--0:#55987B;--0fw:bold;--1:#1C6B48;--1fw:bold\"> ✅ Login works\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\">Tags: \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">`\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\">smoke\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">`\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\">, \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">`\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\">auth\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">`\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">Given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the user is on the login page\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">When\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the user logs in with valid credentials\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">Then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the user should be logged in\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"### ✅ Login worksTags: &#x60;smoke&#x60;, &#x60;auth&#x60;- **Given** the user is on the login page- **When** the user logs in with valid credentials- **Then** the user should be logged in\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"vitest-code\">Vitest code\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#vitest-code\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Vitest code”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#80A665;--1:#4B7231\">story\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">Login works\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{ \u003C/span>\u003Cspan style=\"--0:#B8A965;--1:#786713\">tags\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: [\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">smoke\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">, \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">auth\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">] },\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#5DA994;--1:#25746A\">StepsApi\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">)\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">=>\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the user is on the login page\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">when\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the user logs in with valid credentials\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the user should be logged in\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">});\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"story(&#x22;Login works&#x22;, { tags: [&#x22;smoke&#x22;, &#x22;auth&#x22;] }, (s: StepsApi) => {  s.given(&#x22;the user is on the login page&#x22;);  s.when(&#x22;the user logs in with valid credentials&#x22;);  s.then(&#x22;the user should be logged in&#x22;);});\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>",{"headings":814,"localImagePaths":817,"remoteImagePaths":818,"frontmatter":819,"imagePaths":820},[815,816],{"depth":57,"slug":134,"text":135},{"depth":57,"slug":409,"text":410},[],[],{"title":803,"description":804},[],"recipes/vitest/logout-clears-session",{"id":821,"data":823,"body":829,"filePath":830,"digest":831,"rendered":832},{"title":824,"description":825,"editUrl":16,"head":826,"template":46,"sidebar":827,"pagefind":16,"draft":35},"Logout clears session (Vitest)","Repeated Then steps",[],{"hidden":35,"attrs":828},{},"## Generated output\n\n```markdown\n### ✅ Logout clears session\n\n- **Given** the user is logged in\n- **When** the user logs out\n- **Then** the session cookie should be cleared\n- **And** the auth token should be revoked\n- **And** the user should be redirected to the login page\n```\n\n## Vitest code\n\n```typescript\nstory(\"Logout clears session\", (s: StepsApi) => {\n  s.given(\"the user is logged in\");\n  s.when(\"the user logs out\");\n  s.then(\"the session cookie should be cleared\");\n  s.then(\"the auth token should be revoked\");\n  s.then(\"the user should be redirected to the login page\");\n});\n```","src/content/docs/recipes/vitest/logout-clears-session.md","23441eb9c593deea",{"html":833,"metadata":834},"\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"generated-output\">Generated output\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#generated-output\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Generated output”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/executable-stories/_astro/ec.t5t0k.css\">\u003Cscript type=\"module\" src=\"/executable-stories/_astro/ec.0vx5m.js\">\u003C/script>\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"markdown\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">###\u003C/span>\u003Cspan style=\"--0:#55987B;--0fw:bold;--1:#1C6B48;--1fw:bold\"> ✅ Logout clears session\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">Given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the user is logged in\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">When\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the user logs out\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">Then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the session cookie should be cleared\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">And\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the auth token should be revoked\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">And\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the user should be redirected to the login page\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"### ✅ Logout clears session- **Given** the user is logged in- **When** the user logs out- **Then** the session cookie should be cleared- **And** the auth token should be revoked- **And** the user should be redirected to the login page\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"vitest-code\">Vitest code\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#vitest-code\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Vitest code”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#80A665;--1:#4B7231\">story\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">Logout clears session\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#5DA994;--1:#25746A\">StepsApi\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">)\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">=>\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the user is logged in\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">when\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the user logs out\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the session cookie should be cleared\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the auth token should be revoked\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the user should be redirected to the login page\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">});\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"story(&#x22;Logout clears session&#x22;, (s: StepsApi) => {  s.given(&#x22;the user is logged in&#x22;);  s.when(&#x22;the user logs out&#x22;);  s.then(&#x22;the session cookie should be cleared&#x22;);  s.then(&#x22;the auth token should be revoked&#x22;);  s.then(&#x22;the user should be redirected to the login page&#x22;);});\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>",{"headings":835,"localImagePaths":838,"remoteImagePaths":839,"frontmatter":840,"imagePaths":841},[836,837],{"depth":57,"slug":134,"text":135},{"depth":57,"slug":409,"text":410},[],[],{"title":824,"description":825},[],"recipes/vitest/many-login-attempts",{"id":842,"data":844,"body":850,"filePath":851,"digest":852,"rendered":853},{"title":845,"description":846,"editUrl":16,"head":847,"template":46,"sidebar":848,"pagefind":16,"draft":35},"Many login attempts (Vitest)","Scenario outline, multiple outcomes",[],{"hidden":35,"attrs":849},{},"## Generated output\n\nExample: `Many login attempts: u1@example.com -> success`\n\n```markdown\n### ✅ Many login attempts: u1@example.com -> success\n\n- **Given** the user is on the login page\n- **When** the user logs in with \"u1@example.com\" and \"secret\"\n- **Then** the login result should be \"success\"\n```\n\n## Vitest code\n\n```typescript\nconst manyLoginExamples = [\n  { email: \"u1@example.com\", password: \"secret\", result: \"success\" },\n  { email: \"u2@example.com\", password: \"wrong\", result: \"fail\" },\n  // ...\n];\nfor (const row of manyLoginExamples) {\n  story(`Many login attempts: ${row.email} -> ${row.result}`, (s: StepsApi) => {\n    s.given(\"the user is on the login page\");\n    s.when(`the user logs in with \"${row.email}\" and \"${row.password}\"`);\n    s.then(`the login result should be \"${row.result}\"`);\n  });\n}\n```","src/content/docs/recipes/vitest/many-login-attempts.md","44d605f82399ecb2",{"html":854,"metadata":855},"\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"generated-output\">Generated output\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#generated-output\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Generated output”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Example: \u003Ccode dir=\"auto\">Many login attempts: u1@example.com -> success\u003C/code>\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/executable-stories/_astro/ec.t5t0k.css\">\u003Cscript type=\"module\" src=\"/executable-stories/_astro/ec.0vx5m.js\">\u003C/script>\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"markdown\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">###\u003C/span>\u003Cspan style=\"--0:#55987B;--0fw:bold;--1:#1C6B48;--1fw:bold\"> ✅ Many login attempts: u1@example.com -> success\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">Given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the user is on the login page\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">When\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the user logs in with \"u1@example.com\" and \"secret\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">Then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the login result should be \"success\"\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"### ✅ Many login attempts: u1@example.com -> success- **Given** the user is on the login page- **When** the user logs in with &#x22;u1@example.com&#x22; and &#x22;secret&#x22;- **Then** the login result should be &#x22;success&#x22;\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"vitest-code\">Vitest code\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#vitest-code\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Vitest code”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#CB7676;--1:#9E5252\">const \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">manyLoginExamples\u003C/span>\u003Cspan style=\"--0:#CB7676;--1:#9E5252\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">=\u003C/span>\u003Cspan style=\"--0:#CB7676;--1:#9E5252\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">[\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{ \u003C/span>\u003Cspan style=\"--0:#B8A965;--1:#786713\">email\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">u1@example.com\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">, \u003C/span>\u003Cspan style=\"--0:#B8A965;--1:#786713\">password\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">secret\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">, \u003C/span>\u003Cspan style=\"--0:#B8A965;--1:#786713\">result\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">success\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\"> },\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{ \u003C/span>\u003Cspan style=\"--0:#B8A965;--1:#786713\">email\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">u2@example.com\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">, \u003C/span>\u003Cspan style=\"--0:#B8A965;--1:#786713\">password\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">wrong\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">, \u003C/span>\u003Cspan style=\"--0:#B8A965;--1:#786713\">result\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">fail\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\"> },\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#818F81FE;--1:#636B63\">// ...\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">];\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#55987B;--1:#1E754F\">for\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#CB7676;--1:#9E5252\">const \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">row\u003C/span>\u003Cspan style=\"--0:#CB7676;--1:#9E5252\"> of\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">manyLoginExamples\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">)\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">story\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">`\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">Many login attempts: \u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">${\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">row\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">email\u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">}\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\"> -> \u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">${\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">row\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">result\u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">}\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">`\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#5DA994;--1:#25746A\">StepsApi\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">)\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">=>\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the user is on the login page\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">when\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">`\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the user logs in with \"\u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">${\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">row\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">email\u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">}\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">\" and \"\u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">${\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">row\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">password\u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">}\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">`\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">`\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the login result should be \"\u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">${\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">row\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">result\u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">}\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">`\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">});\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">}\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"const manyLoginExamples = [  { email: &#x22;u1@example.com&#x22;, password: &#x22;secret&#x22;, result: &#x22;success&#x22; },  { email: &#x22;u2@example.com&#x22;, password: &#x22;wrong&#x22;, result: &#x22;fail&#x22; },  // ...];for (const row of manyLoginExamples) {  story(&#x60;Many login attempts: ${row.email} -> ${row.result}&#x60;, (s: StepsApi) => {    s.given(&#x22;the user is on the login page&#x22;);    s.when(&#x60;the user logs in with &#x22;${row.email}&#x22; and &#x22;${row.password}&#x22;&#x60;);    s.then(&#x60;the login result should be &#x22;${row.result}&#x22;&#x60;);  });}\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>",{"headings":856,"localImagePaths":859,"remoteImagePaths":860,"frontmatter":861,"imagePaths":862},[857,858],{"depth":57,"slug":134,"text":135},{"depth":57,"slug":409,"text":410},[],[],{"title":845,"description":846},[],"recipes/vitest/password-reset-flow",{"id":863,"data":865,"body":871,"filePath":872,"digest":873,"rendered":874},{"title":866,"description":867,"editUrl":16,"head":868,"template":46,"sidebar":869,"pagefind":16,"draft":35},"Password reset flow (Vitest)","Multiple Given, multiple When, multiple Then",[],{"hidden":35,"attrs":870},{},"## Generated output\n\n```markdown\n### ✅ Password reset flow\n\n- **Given** the user account exists\n- **And** the user has a verified email\n- **When** the user requests a password reset\n- **And** the user opens the reset email link\n- **And** the user sets a new password\n- **Then** the user should be able to log in with the new password\n- **And** the old password should no longer work\n```\n\n## Vitest code\n\n```typescript\nstory(\"Password reset flow\", (s: StepsApi) => {\n  s.given(\"the user account exists\");\n  s.given(\"the user has a verified email\");\n  s.when(\"the user requests a password reset\");\n  s.when(\"the user opens the reset email link\");\n  s.when(\"the user sets a new password\");\n  s.then(\"the user should be able to log in with the new password\");\n  s.then(\"the old password should no longer work\");\n});\n```","src/content/docs/recipes/vitest/password-reset-flow.md","adbc84087988975e",{"html":875,"metadata":876},"\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"generated-output\">Generated output\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#generated-output\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Generated output”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/executable-stories/_astro/ec.t5t0k.css\">\u003Cscript type=\"module\" src=\"/executable-stories/_astro/ec.0vx5m.js\">\u003C/script>\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"markdown\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">###\u003C/span>\u003Cspan style=\"--0:#55987B;--0fw:bold;--1:#1C6B48;--1fw:bold\"> ✅ Password reset flow\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">Given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the user account exists\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">And\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the user has a verified email\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">When\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the user requests a password reset\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">And\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the user opens the reset email link\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">And\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the user sets a new password\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">Then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the user should be able to log in with the new password\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">And\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the old password should no longer work\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"### ✅ Password reset flow- **Given** the user account exists- **And** the user has a verified email- **When** the user requests a password reset- **And** the user opens the reset email link- **And** the user sets a new password- **Then** the user should be able to log in with the new password- **And** the old password should no longer work\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"vitest-code\">Vitest code\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#vitest-code\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Vitest code”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#80A665;--1:#4B7231\">story\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">Password reset flow\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#5DA994;--1:#25746A\">StepsApi\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">)\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">=>\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the user account exists\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the user has a verified email\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">when\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the user requests a password reset\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">when\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the user opens the reset email link\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">when\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the user sets a new password\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the user should be able to log in with the new password\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the old password should no longer work\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">});\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"story(&#x22;Password reset flow&#x22;, (s: StepsApi) => {  s.given(&#x22;the user account exists&#x22;);  s.given(&#x22;the user has a verified email&#x22;);  s.when(&#x22;the user requests a password reset&#x22;);  s.when(&#x22;the user opens the reset email link&#x22;);  s.when(&#x22;the user sets a new password&#x22;);  s.then(&#x22;the user should be able to log in with the new password&#x22;);  s.then(&#x22;the old password should no longer work&#x22;);});\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>",{"headings":877,"localImagePaths":880,"remoteImagePaths":881,"frontmatter":882,"imagePaths":883},[878,879],{"depth":57,"slug":134,"text":135},{"depth":57,"slug":409,"text":410},[],[],{"title":866,"description":867},[],"recipes/vitest/payment-declined",{"id":884,"data":886,"body":892,"filePath":893,"digest":894,"rendered":895},{"title":887,"description":888,"editUrl":16,"head":889,"template":46,"sidebar":890,"pagefind":16,"draft":35},"Payment declined (Vitest)","Negative path with Then and But",[],{"hidden":35,"attrs":891},{},"## Generated output\n\n```markdown\n### ✅ Payment declined\n\n- **Given** the user is on the checkout page\n- **When** the user submits a declined card\n- **Then** the payment should be declined\n- **And** the user should see \"Payment failed\"\n- **But** the order should not be created\n```\n\n## Vitest code\n\n```typescript\nstory(\"Payment declined\", (s: StepsApi) => {\n  s.given(\"the user is on the checkout page\");\n  s.when(\"the user submits a declined card\");\n  s.then(\"the payment should be declined\");\n  s.then('the user should see \"Payment failed\"');\n  s.but(\"the order should not be created\");\n});\n```","src/content/docs/recipes/vitest/payment-declined.md","68a5450e93b5d482",{"html":896,"metadata":897},"\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"generated-output\">Generated output\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#generated-output\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Generated output”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/executable-stories/_astro/ec.t5t0k.css\">\u003Cscript type=\"module\" src=\"/executable-stories/_astro/ec.0vx5m.js\">\u003C/script>\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"markdown\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">###\u003C/span>\u003Cspan style=\"--0:#55987B;--0fw:bold;--1:#1C6B48;--1fw:bold\"> ✅ Payment declined\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">Given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the user is on the checkout page\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">When\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the user submits a declined card\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">Then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the payment should be declined\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">And\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the user should see \"Payment failed\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">But\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the order should not be created\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"### ✅ Payment declined- **Given** the user is on the checkout page- **When** the user submits a declined card- **Then** the payment should be declined- **And** the user should see &#x22;Payment failed&#x22;- **But** the order should not be created\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"vitest-code\">Vitest code\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#vitest-code\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Vitest code”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#80A665;--1:#4B7231\">story\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">Payment declined\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#5DA994;--1:#25746A\">StepsApi\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">)\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">=>\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the user is on the checkout page\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">when\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the user submits a declined card\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the payment should be declined\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">'\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the user should see \"Payment failed\"\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">'\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">but\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the order should not be created\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">});\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"story(&#x22;Payment declined&#x22;, (s: StepsApi) => {  s.given(&#x22;the user is on the checkout page&#x22;);  s.when(&#x22;the user submits a declined card&#x22;);  s.then(&#x22;the payment should be declined&#x22;);  s.then(&#x27;the user should see &#x22;Payment failed&#x22;&#x27;);  s.but(&#x22;the order should not be created&#x22;);});\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>",{"headings":898,"localImagePaths":901,"remoteImagePaths":902,"frontmatter":903,"imagePaths":904},[899,900],{"depth":57,"slug":134,"text":135},{"depth":57,"slug":409,"text":410},[],[],{"title":887,"description":888},[],"recipes/vitest/post-json-payload",{"id":905,"data":907,"body":913,"filePath":914,"digest":915,"rendered":916},{"title":908,"description":909,"editUrl":16,"head":910,"template":46,"sidebar":911,"pagefind":16,"draft":35},"Post JSON payload (Vitest)","Scenario outline with doc.json",[],{"hidden":35,"attrs":912},{},"## Generated output\n\nExample: `Post JSON payload: 123 -> 200`\n\n```markdown\n### ✅ Post JSON payload: 123 -> 200\n\n- **Given** the payload is\n    **Payload**\n    ```json\n    { \"id\": \"123\", \"status\": \"active\" }\n    ```\n- **When** the client posts the payload\n- **Then** the response status should be 200\n```\n\n## Vitest code\n\n```typescript\nconst postPayloadExamples = [\n  { id: \"123\", status: \"active\", code: \"200\" },\n  { id: \"456\", status: \"invalid\", code: \"400\" },\n];\nfor (const row of postPayloadExamples) {\n  story(`Post JSON payload: ${row.id} -> ${row.code}`, (s: StepsApi) => {\n    s.given(\"the payload is\");\n    s.doc.json(\"Payload\", { id: row.id, status: row.status });\n    s.when(\"the client posts the payload\");\n    s.then(`the response status should be ${row.code}`);\n  });\n}\n```","src/content/docs/recipes/vitest/post-json-payload.md","be56408ddcac61d2",{"html":917,"metadata":918},"\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"generated-output\">Generated output\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#generated-output\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Generated output”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Example: \u003Ccode dir=\"auto\">Post JSON payload: 123 -> 200\u003C/code>\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/executable-stories/_astro/ec.t5t0k.css\">\u003Cscript type=\"module\" src=\"/executable-stories/_astro/ec.0vx5m.js\">\u003C/script>\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"markdown\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">###\u003C/span>\u003Cspan style=\"--0:#55987B;--0fw:bold;--1:#1C6B48;--1fw:bold\"> ✅ Post JSON payload: 123 -> 200\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">Given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the payload is\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">Payload\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">```\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\">json\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#B8A965CD;--1:#786713FD\">\"\u003C/span>\u003Cspan style=\"--0:#B8A965;--1:#786713\">id\u003C/span>\u003Cspan style=\"--0:#B8A965CD;--1:#786713FD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">:\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">123\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#B8A965CD;--1:#786713FD\">\"\u003C/span>\u003Cspan style=\"--0:#B8A965;--1:#786713\">status\u003C/span>\u003Cspan style=\"--0:#B8A965CD;--1:#786713FD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">:\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">active\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">```\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">When\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the client posts the payload\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">Then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the response status should be 200\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"### ✅ Post JSON payload: 123 -> 200- **Given** the payload is    **Payload**    &#x60;&#x60;&#x60;json    { &#x22;id&#x22;: &#x22;123&#x22;, &#x22;status&#x22;: &#x22;active&#x22; }    &#x60;&#x60;&#x60;- **When** the client posts the payload- **Then** the response status should be 200\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"vitest-code\">Vitest code\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#vitest-code\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Vitest code”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#CB7676;--1:#9E5252\">const \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">postPayloadExamples\u003C/span>\u003Cspan style=\"--0:#CB7676;--1:#9E5252\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">=\u003C/span>\u003Cspan style=\"--0:#CB7676;--1:#9E5252\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">[\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{ \u003C/span>\u003Cspan style=\"--0:#B8A965;--1:#786713\">id\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">123\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">, \u003C/span>\u003Cspan style=\"--0:#B8A965;--1:#786713\">status\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">active\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">, \u003C/span>\u003Cspan style=\"--0:#B8A965;--1:#786713\">code\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">200\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\"> },\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{ \u003C/span>\u003Cspan style=\"--0:#B8A965;--1:#786713\">id\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">456\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">, \u003C/span>\u003Cspan style=\"--0:#B8A965;--1:#786713\">status\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">invalid\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">, \u003C/span>\u003Cspan style=\"--0:#B8A965;--1:#786713\">code\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">400\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\"> },\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">];\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#55987B;--1:#1E754F\">for\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#CB7676;--1:#9E5252\">const \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">row\u003C/span>\u003Cspan style=\"--0:#CB7676;--1:#9E5252\"> of\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">postPayloadExamples\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">)\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">story\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">`\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">Post JSON payload: \u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">${\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">row\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">id\u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">}\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\"> -> \u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">${\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">row\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">code\u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">}\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">`\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#5DA994;--1:#25746A\">StepsApi\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">)\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">=>\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the payload is\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">doc\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">json\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">Payload\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{ \u003C/span>\u003Cspan style=\"--0:#B8A965;--1:#786713\">id\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">row\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">id\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">, \u003C/span>\u003Cspan style=\"--0:#B8A965;--1:#786713\">status\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">row\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">status\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\"> });\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">when\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the client posts the payload\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">`\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the response status should be \u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">${\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">row\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">code\u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">}\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">`\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">});\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">}\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"const postPayloadExamples = [  { id: &#x22;123&#x22;, status: &#x22;active&#x22;, code: &#x22;200&#x22; },  { id: &#x22;456&#x22;, status: &#x22;invalid&#x22;, code: &#x22;400&#x22; },];for (const row of postPayloadExamples) {  story(&#x60;Post JSON payload: ${row.id} -> ${row.code}&#x60;, (s: StepsApi) => {    s.given(&#x22;the payload is&#x22;);    s.doc.json(&#x22;Payload&#x22;, { id: row.id, status: row.status });    s.when(&#x22;the client posts the payload&#x22;);    s.then(&#x60;the response status should be ${row.code}&#x60;);  });}\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>",{"headings":919,"localImagePaths":922,"remoteImagePaths":923,"frontmatter":924,"imagePaths":925},[920,921],{"depth":57,"slug":134,"text":135},{"depth":57,"slug":409,"text":410},[],[],{"title":908,"description":909},[],"recipes/vitest/render-markdown",{"id":926,"data":928,"body":934,"filePath":935,"digest":936,"rendered":937},{"title":929,"description":930,"editUrl":16,"head":931,"template":46,"sidebar":932,"pagefind":16,"draft":35},"Render markdown (Vitest)","DocString for Markdown with doc.code",[],{"hidden":35,"attrs":933},{},"## Generated output\n\n```markdown\n### ✅ Render markdown\n\n- **Given** the markdown input is\n    **Markdown**\n    ```markdown\n    # Title\n    - Item 1\n    - Item 2\n    ```\n- **When** the user previews the markdown\n- **Then** the preview should show a heading \"Title\"\n- **And** the preview should show a list with 2 items\n```\n\n## Vitest code\n\n```typescript\nstory(\"Render markdown\", (s: StepsApi) => {\n  s.given(\"the markdown input is\");\n  s.doc.code(\"Markdown\", `# Title\n- Item 1\n- Item 2`, \"markdown\");\n  s.when(\"the user previews the markdown\");\n  s.then('the preview should show a heading \"Title\"');\n  s.then(\"the preview should show a list with 2 items\");\n});\n```","src/content/docs/recipes/vitest/render-markdown.md","d4956deab34df9b8",{"html":938,"metadata":939},"\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"generated-output\">Generated output\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#generated-output\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Generated output”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/executable-stories/_astro/ec.t5t0k.css\">\u003Cscript type=\"module\" src=\"/executable-stories/_astro/ec.0vx5m.js\">\u003C/script>\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"markdown\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">###\u003C/span>\u003Cspan style=\"--0:#55987B;--0fw:bold;--1:#1C6B48;--1fw:bold\"> ✅ Render markdown\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">Given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the markdown input is\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">Markdown\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">```\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\">markdown\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">#\u003C/span>\u003Cspan style=\"--0:#55987B;--0fw:bold;--1:#1C6B48;--1fw:bold\"> Title\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> Item 1\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> Item 2\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">```\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">When\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the user previews the markdown\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">Then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the preview should show a heading \"Title\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">And\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the preview should show a list with 2 items\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"### ✅ Render markdown- **Given** the markdown input is    **Markdown**    &#x60;&#x60;&#x60;markdown    # Title    - Item 1    - Item 2    &#x60;&#x60;&#x60;- **When** the user previews the markdown- **Then** the preview should show a heading &#x22;Title&#x22;- **And** the preview should show a list with 2 items\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"vitest-code\">Vitest code\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#vitest-code\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Vitest code”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#80A665;--1:#4B7231\">story\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">Render markdown\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#5DA994;--1:#25746A\">StepsApi\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">)\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">=>\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the markdown input is\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">doc\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">code\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">Markdown\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">`\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\"># Title\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">- Item 1\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">- Item 2\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">`\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">markdown\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">when\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the user previews the markdown\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">'\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the preview should show a heading \"Title\"\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">'\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the preview should show a list with 2 items\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">});\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"story(&#x22;Render markdown&#x22;, (s: StepsApi) => {  s.given(&#x22;the markdown input is&#x22;);  s.doc.code(&#x22;Markdown&#x22;, &#x60;# Title- Item 1- Item 2&#x60;, &#x22;markdown&#x22;);  s.when(&#x22;the user previews the markdown&#x22;);  s.then(&#x27;the preview should show a heading &#x22;Title&#x22;&#x27;);  s.then(&#x22;the preview should show a list with 2 items&#x22;);});\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>",{"headings":940,"localImagePaths":943,"remoteImagePaths":944,"frontmatter":945,"imagePaths":946},[941,942],{"depth":57,"slug":134,"text":135},{"depth":57,"slug":409,"text":410},[],[],{"title":929,"description":930},[],"recipes/vitest/report-shows-fields-in-order",{"id":947,"data":949,"body":955,"filePath":956,"digest":957,"rendered":958},{"title":950,"description":951,"editUrl":16,"head":952,"template":46,"sidebar":953,"pagefind":16,"draft":35},"Report shows fields in order (Vitest)","And in middle of Then",[],{"hidden":35,"attrs":954},{},"## Generated output\n\n```markdown\n### ✅ Report shows fields in order\n\n- **Given** a report exists for account \"A1\"\n- **When** the user downloads the report\n- **Then** the report header should be \"Account Report\"\n- **And** the first column should be \"Date\"\n- **And** the second column should be \"Amount\"\n```\n\n## Vitest code\n\n```typescript\nstory(\"Report shows fields in order\", (s: StepsApi) => {\n  s.given('a report exists for account \"A1\"');\n  s.when(\"the user downloads the report\");\n  s.then('the report header should be \"Account Report\"');\n  s.and('the first column should be \"Date\"');\n  s.and('the second column should be \"Amount\"');\n});\n```","src/content/docs/recipes/vitest/report-shows-fields-in-order.md","19d85e32609f11a2",{"html":959,"metadata":960},"\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"generated-output\">Generated output\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#generated-output\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Generated output”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/executable-stories/_astro/ec.t5t0k.css\">\u003Cscript type=\"module\" src=\"/executable-stories/_astro/ec.0vx5m.js\">\u003C/script>\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"markdown\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">###\u003C/span>\u003Cspan style=\"--0:#55987B;--0fw:bold;--1:#1C6B48;--1fw:bold\"> ✅ Report shows fields in order\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">Given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> a report exists for account \"A1\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">When\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the user downloads the report\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">Then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the report header should be \"Account Report\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">And\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the first column should be \"Date\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">And\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the second column should be \"Amount\"\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"### ✅ Report shows fields in order- **Given** a report exists for account &#x22;A1&#x22;- **When** the user downloads the report- **Then** the report header should be &#x22;Account Report&#x22;- **And** the first column should be &#x22;Date&#x22;- **And** the second column should be &#x22;Amount&#x22;\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"vitest-code\">Vitest code\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#vitest-code\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Vitest code”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#80A665;--1:#4B7231\">story\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">Report shows fields in order\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#5DA994;--1:#25746A\">StepsApi\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">)\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">=>\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">'\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">a report exists for account \"A1\"\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">'\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">when\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the user downloads the report\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">'\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the report header should be \"Account Report\"\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">'\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">and\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">'\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the first column should be \"Date\"\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">'\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">and\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">'\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the second column should be \"Amount\"\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">'\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">});\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"story(&#x22;Report shows fields in order&#x22;, (s: StepsApi) => {  s.given(&#x27;a report exists for account &#x22;A1&#x22;&#x27;);  s.when(&#x22;the user downloads the report&#x22;);  s.then(&#x27;the report header should be &#x22;Account Report&#x22;&#x27;);  s.and(&#x27;the first column should be &#x22;Date&#x22;&#x27;);  s.and(&#x27;the second column should be &#x22;Amount&#x22;&#x27;);});\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>",{"headings":961,"localImagePaths":964,"remoteImagePaths":965,"frontmatter":966,"imagePaths":967},[962,963],{"depth":57,"slug":134,"text":135},{"depth":57,"slug":409,"text":410},[],[],{"title":950,"description":951},[],"recipes/vitest/search-results-show-highlights",{"id":968,"data":970,"body":976,"filePath":977,"digest":978,"rendered":979},{"title":971,"description":972,"editUrl":16,"head":973,"template":46,"sidebar":974,"pagefind":16,"draft":35},"Search results show highlights (Vitest)","And after Then",[],{"hidden":35,"attrs":975},{},"## Generated output\n\n```markdown\n### ✅ Search results show highlights\n\n- **Given** the search index contains \"hello world\"\n- **When** the user searches for \"hello\"\n- **Then** results should include \"hello world\"\n- **And** the matching text should be highlighted\n```\n\n## Vitest code\n\n```typescript\nstory(\"Search results show highlights\", (s: StepsApi) => {\n  s.given('the search index contains \"hello world\"');\n  s.when('the user searches for \"hello\"');\n  s.then('results should include \"hello world\"');\n  s.and(\"the matching text should be highlighted\");\n});\n```","src/content/docs/recipes/vitest/search-results-show-highlights.md","90aef72e72ab7b71",{"html":980,"metadata":981},"\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"generated-output\">Generated output\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#generated-output\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Generated output”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/executable-stories/_astro/ec.t5t0k.css\">\u003Cscript type=\"module\" src=\"/executable-stories/_astro/ec.0vx5m.js\">\u003C/script>\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"markdown\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">###\u003C/span>\u003Cspan style=\"--0:#55987B;--0fw:bold;--1:#1C6B48;--1fw:bold\"> ✅ Search results show highlights\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">Given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the search index contains \"hello world\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">When\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the user searches for \"hello\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">Then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> results should include \"hello world\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">And\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the matching text should be highlighted\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"### ✅ Search results show highlights- **Given** the search index contains &#x22;hello world&#x22;- **When** the user searches for &#x22;hello&#x22;- **Then** results should include &#x22;hello world&#x22;- **And** the matching text should be highlighted\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"vitest-code\">Vitest code\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#vitest-code\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Vitest code”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#80A665;--1:#4B7231\">story\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">Search results show highlights\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#5DA994;--1:#25746A\">StepsApi\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">)\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">=>\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">'\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the search index contains \"hello world\"\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">'\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">when\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">'\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the user searches for \"hello\"\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">'\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">'\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">results should include \"hello world\"\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">'\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">and\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the matching text should be highlighted\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">});\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"story(&#x22;Search results show highlights&#x22;, (s: StepsApi) => {  s.given(&#x27;the search index contains &#x22;hello world&#x22;&#x27;);  s.when(&#x27;the user searches for &#x22;hello&#x22;&#x27;);  s.then(&#x27;results should include &#x22;hello world&#x22;&#x27;);  s.and(&#x22;the matching text should be highlighted&#x22;);});\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>",{"headings":982,"localImagePaths":985,"remoteImagePaths":986,"frontmatter":987,"imagePaths":988},[983,984],{"depth":57,"slug":134,"text":135},{"depth":57,"slug":409,"text":410},[],[],{"title":971,"description":972},[],"recipes/vitest/shipping-eligibility",{"id":989,"data":991,"body":997,"filePath":998,"digest":999,"rendered":1000},{"title":992,"description":993,"editUrl":16,"head":994,"template":46,"sidebar":995,"pagefind":16,"draft":35},"Shipping eligibility (Vitest)","Scenario outline by country",[],{"hidden":35,"attrs":996},{},"## Generated output\n\nExample: `Shipping eligibility: US -> yes`\n\n```markdown\n### ✅ Shipping eligibility: US -> yes\n\n- **Given** the cart total is 10\n- **And** the destination country is \"US\"\n- **When** shipping eligibility is checked\n- **Then** shipping should be \"yes\"\n```\n\n## Vitest code\n\n```typescript\nconst shippingEligibilityExamples = [\n  { total: \"10\", country: \"US\", eligible: \"yes\" },\n  { total: \"10\", country: \"CA\", eligible: \"yes\" },\n  { total: \"10\", country: \"CU\", eligible: \"no\" },\n];\nfor (const row of shippingEligibilityExamples) {\n  story(`Shipping eligibility: ${row.country} -> ${row.eligible}`, (s: StepsApi) => {\n    s.given(`the cart total is ${row.total}`);\n    s.given(`the destination country is \"${row.country}\"`);\n    s.when(\"shipping eligibility is checked\");\n    s.then(`shipping should be \"${row.eligible}\"`);\n  });\n}\n```","src/content/docs/recipes/vitest/shipping-eligibility.md","abcbdc61d885f2b7",{"html":1001,"metadata":1002},"\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"generated-output\">Generated output\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#generated-output\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Generated output”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Example: \u003Ccode dir=\"auto\">Shipping eligibility: US -> yes\u003C/code>\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/executable-stories/_astro/ec.t5t0k.css\">\u003Cscript type=\"module\" src=\"/executable-stories/_astro/ec.0vx5m.js\">\u003C/script>\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"markdown\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">###\u003C/span>\u003Cspan style=\"--0:#55987B;--0fw:bold;--1:#1C6B48;--1fw:bold\"> ✅ Shipping eligibility: US -> yes\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">Given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the cart total is 10\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">And\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the destination country is \"US\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">When\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> shipping eligibility is checked\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">Then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> shipping should be \"yes\"\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"### ✅ Shipping eligibility: US -> yes- **Given** the cart total is 10- **And** the destination country is &#x22;US&#x22;- **When** shipping eligibility is checked- **Then** shipping should be &#x22;yes&#x22;\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"vitest-code\">Vitest code\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#vitest-code\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Vitest code”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#CB7676;--1:#9E5252\">const \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">shippingEligibilityExamples\u003C/span>\u003Cspan style=\"--0:#CB7676;--1:#9E5252\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">=\u003C/span>\u003Cspan style=\"--0:#CB7676;--1:#9E5252\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">[\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{ \u003C/span>\u003Cspan style=\"--0:#B8A965;--1:#786713\">total\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">10\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">, \u003C/span>\u003Cspan style=\"--0:#B8A965;--1:#786713\">country\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">US\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">, \u003C/span>\u003Cspan style=\"--0:#B8A965;--1:#786713\">eligible\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">yes\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\"> },\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{ \u003C/span>\u003Cspan style=\"--0:#B8A965;--1:#786713\">total\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">10\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">, \u003C/span>\u003Cspan style=\"--0:#B8A965;--1:#786713\">country\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">CA\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">, \u003C/span>\u003Cspan style=\"--0:#B8A965;--1:#786713\">eligible\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">yes\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\"> },\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{ \u003C/span>\u003Cspan style=\"--0:#B8A965;--1:#786713\">total\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">10\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">, \u003C/span>\u003Cspan style=\"--0:#B8A965;--1:#786713\">country\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">CU\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">, \u003C/span>\u003Cspan style=\"--0:#B8A965;--1:#786713\">eligible\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">no\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\"> },\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">];\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#55987B;--1:#1E754F\">for\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#CB7676;--1:#9E5252\">const \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">row\u003C/span>\u003Cspan style=\"--0:#CB7676;--1:#9E5252\"> of\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">shippingEligibilityExamples\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">)\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">story\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">`\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">Shipping eligibility: \u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">${\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">row\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">country\u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">}\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\"> -> \u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">${\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">row\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">eligible\u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">}\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">`\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#5DA994;--1:#25746A\">StepsApi\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">)\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">=>\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">`\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the cart total is \u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">${\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">row\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">total\u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">}\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">`\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">`\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the destination country is \"\u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">${\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">row\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">country\u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">}\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">`\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">when\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">shipping eligibility is checked\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">`\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">shipping should be \"\u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">${\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">row\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">eligible\u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">}\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">`\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">});\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">}\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"const shippingEligibilityExamples = [  { total: &#x22;10&#x22;, country: &#x22;US&#x22;, eligible: &#x22;yes&#x22; },  { total: &#x22;10&#x22;, country: &#x22;CA&#x22;, eligible: &#x22;yes&#x22; },  { total: &#x22;10&#x22;, country: &#x22;CU&#x22;, eligible: &#x22;no&#x22; },];for (const row of shippingEligibilityExamples) {  story(&#x60;Shipping eligibility: ${row.country} -> ${row.eligible}&#x60;, (s: StepsApi) => {    s.given(&#x60;the cart total is ${row.total}&#x60;);    s.given(&#x60;the destination country is &#x22;${row.country}&#x22;&#x60;);    s.when(&#x22;shipping eligibility is checked&#x22;);    s.then(&#x60;shipping should be &#x22;${row.eligible}&#x22;&#x60;);  });}\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>",{"headings":1003,"localImagePaths":1006,"remoteImagePaths":1007,"frontmatter":1008,"imagePaths":1009},[1004,1005],{"depth":57,"slug":134,"text":135},{"depth":57,"slug":409,"text":410},[],[],{"title":992,"description":993},[],"recipes/vitest/tax-calculation-by-region",{"id":1010,"data":1012,"body":1018,"filePath":1019,"digest":1020,"rendered":1021},{"title":1013,"description":1014,"editUrl":16,"head":1015,"template":46,"sidebar":1016,"pagefind":16,"draft":35},"Tax calculation by region (Vitest)","Scenario outline with multiple rows",[],{"hidden":35,"attrs":1017},{},"## Generated output\n\nExample: `Tax calculation by region: CA`\n\n```markdown\n### ✅ Tax calculation by region: CA\n\n- **Given** the cart subtotal is 100.00\n- **And** the shipping region is \"CA\"\n- **When** taxes are calculated\n- **Then** the tax should be 8.25\n- **And** the total should be 108.25\n```\n\n## Vitest code\n\n```typescript\nconst taxExamples = [\n  { subtotal: \"100.00\", region: \"CA\", tax: \"8.25\", total: \"108.25\" },\n  { subtotal: \"100.00\", region: \"NY\", tax: \"8.00\", total: \"108.00\" },\n];\nfor (const row of taxExamples) {\n  story(`Tax calculation by region: ${row.region}`, (s: StepsApi) => {\n    s.given(`the cart subtotal is ${row.subtotal}`);\n    s.given(`the shipping region is \"${row.region}\"`);\n    s.when(\"taxes are calculated\");\n    s.then(`the tax should be ${row.tax}`);\n    s.then(`the total should be ${row.total}`);\n  });\n}\n```","src/content/docs/recipes/vitest/tax-calculation-by-region.md","3964bbbb9f5af039",{"html":1022,"metadata":1023},"\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"generated-output\">Generated output\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#generated-output\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Generated output”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Example: \u003Ccode dir=\"auto\">Tax calculation by region: CA\u003C/code>\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/executable-stories/_astro/ec.t5t0k.css\">\u003Cscript type=\"module\" src=\"/executable-stories/_astro/ec.0vx5m.js\">\u003C/script>\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"markdown\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">###\u003C/span>\u003Cspan style=\"--0:#55987B;--0fw:bold;--1:#1C6B48;--1fw:bold\"> ✅ Tax calculation by region: CA\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">Given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the cart subtotal is 100.00\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">And\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the shipping region is \"CA\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">When\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> taxes are calculated\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">Then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the tax should be 8.25\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">And\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the total should be 108.25\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"### ✅ Tax calculation by region: CA- **Given** the cart subtotal is 100.00- **And** the shipping region is &#x22;CA&#x22;- **When** taxes are calculated- **Then** the tax should be 8.25- **And** the total should be 108.25\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"vitest-code\">Vitest code\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#vitest-code\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Vitest code”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#CB7676;--1:#9E5252\">const \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">taxExamples\u003C/span>\u003Cspan style=\"--0:#CB7676;--1:#9E5252\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">=\u003C/span>\u003Cspan style=\"--0:#CB7676;--1:#9E5252\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">[\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{ \u003C/span>\u003Cspan style=\"--0:#B8A965;--1:#786713\">subtotal\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">100.00\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">, \u003C/span>\u003Cspan style=\"--0:#B8A965;--1:#786713\">region\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">CA\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">, \u003C/span>\u003Cspan style=\"--0:#B8A965;--1:#786713\">tax\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">8.25\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">, \u003C/span>\u003Cspan style=\"--0:#B8A965;--1:#786713\">total\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">108.25\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\"> },\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{ \u003C/span>\u003Cspan style=\"--0:#B8A965;--1:#786713\">subtotal\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">100.00\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">, \u003C/span>\u003Cspan style=\"--0:#B8A965;--1:#786713\">region\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">NY\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">, \u003C/span>\u003Cspan style=\"--0:#B8A965;--1:#786713\">tax\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">8.00\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">, \u003C/span>\u003Cspan style=\"--0:#B8A965;--1:#786713\">total\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">108.00\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\"> },\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">];\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#55987B;--1:#1E754F\">for\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#CB7676;--1:#9E5252\">const \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">row\u003C/span>\u003Cspan style=\"--0:#CB7676;--1:#9E5252\"> of\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">taxExamples\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">)\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">story\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">`\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">Tax calculation by region: \u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">${\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">row\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">region\u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">}\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">`\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#5DA994;--1:#25746A\">StepsApi\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">)\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">=>\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">`\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the cart subtotal is \u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">${\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">row\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">subtotal\u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">}\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">`\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">`\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the shipping region is \"\u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">${\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">row\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">region\u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">}\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">`\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">when\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">taxes are calculated\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">`\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the tax should be \u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">${\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">row\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">tax\u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">}\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">`\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">`\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the total should be \u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">${\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">row\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">total\u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">}\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">`\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">});\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">}\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"const taxExamples = [  { subtotal: &#x22;100.00&#x22;, region: &#x22;CA&#x22;, tax: &#x22;8.25&#x22;, total: &#x22;108.25&#x22; },  { subtotal: &#x22;100.00&#x22;, region: &#x22;NY&#x22;, tax: &#x22;8.00&#x22;, total: &#x22;108.00&#x22; },];for (const row of taxExamples) {  story(&#x60;Tax calculation by region: ${row.region}&#x60;, (s: StepsApi) => {    s.given(&#x60;the cart subtotal is ${row.subtotal}&#x60;);    s.given(&#x60;the shipping region is &#x22;${row.region}&#x22;&#x60;);    s.when(&#x22;taxes are calculated&#x22;);    s.then(&#x60;the tax should be ${row.tax}&#x60;);    s.then(&#x60;the total should be ${row.total}&#x60;);  });}\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>",{"headings":1024,"localImagePaths":1027,"remoteImagePaths":1028,"frontmatter":1029,"imagePaths":1030},[1025,1026],{"depth":57,"slug":134,"text":135},{"depth":57,"slug":409,"text":410},[],[],{"title":1013,"description":1014},[],"recipes/vitest/two-step-checkout",{"id":1031,"data":1033,"body":1039,"filePath":1040,"digest":1041,"rendered":1042},{"title":1034,"description":1035,"editUrl":16,"head":1036,"template":46,"sidebar":1037,"pagefind":16,"draft":35},"Two step checkout (Vitest)","Multiple When groups (phases)",[],{"hidden":35,"attrs":1038},{},"## Generated output\n\n```markdown\n### ✅ Two step checkout\n\n- **Given** the user has items in the cart\n- **When** the user enters shipping information\n- **And** the user selects a delivery option\n- **And** the user enters payment information\n- **And** the user confirms the order\n- **Then** the order should be created\n- **And** a confirmation email should be sent\n```\n\n## Vitest code\n\n```typescript\nstory(\"Two step checkout\", (s: StepsApi) => {\n  s.given(\"the user has items in the cart\");\n  s.when(\"the user enters shipping information\");\n  s.when(\"the user selects a delivery option\");\n  s.when(\"the user enters payment information\");\n  s.when(\"the user confirms the order\");\n  s.then(\"the order should be created\");\n  s.then(\"a confirmation email should be sent\");\n});\n```","src/content/docs/recipes/vitest/two-step-checkout.md","2f36e4a3f037e10c",{"html":1043,"metadata":1044},"\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"generated-output\">Generated output\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#generated-output\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Generated output”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/executable-stories/_astro/ec.t5t0k.css\">\u003Cscript type=\"module\" src=\"/executable-stories/_astro/ec.0vx5m.js\">\u003C/script>\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"markdown\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">###\u003C/span>\u003Cspan style=\"--0:#55987B;--0fw:bold;--1:#1C6B48;--1fw:bold\"> ✅ Two step checkout\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">Given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the user has items in the cart\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">When\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the user enters shipping information\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">And\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the user selects a delivery option\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">And\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the user enters payment information\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">And\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the user confirms the order\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">Then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the order should be created\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">And\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> a confirmation email should be sent\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"### ✅ Two step checkout- **Given** the user has items in the cart- **When** the user enters shipping information- **And** the user selects a delivery option- **And** the user enters payment information- **And** the user confirms the order- **Then** the order should be created- **And** a confirmation email should be sent\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"vitest-code\">Vitest code\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#vitest-code\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Vitest code”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#80A665;--1:#4B7231\">story\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">Two step checkout\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#5DA994;--1:#25746A\">StepsApi\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">)\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">=>\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the user has items in the cart\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">when\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the user enters shipping information\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">when\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the user selects a delivery option\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">when\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the user enters payment information\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">when\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the user confirms the order\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the order should be created\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">a confirmation email should be sent\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">});\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"story(&#x22;Two step checkout&#x22;, (s: StepsApi) => {  s.given(&#x22;the user has items in the cart&#x22;);  s.when(&#x22;the user enters shipping information&#x22;);  s.when(&#x22;the user selects a delivery option&#x22;);  s.when(&#x22;the user enters payment information&#x22;);  s.when(&#x22;the user confirms the order&#x22;);  s.then(&#x22;the order should be created&#x22;);  s.then(&#x22;a confirmation email should be sent&#x22;);});\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>",{"headings":1045,"localImagePaths":1048,"remoteImagePaths":1049,"frontmatter":1050,"imagePaths":1051},[1046,1047],{"depth":57,"slug":134,"text":135},{"depth":57,"slug":409,"text":410},[],[],{"title":1034,"description":1035},[],"recipes/vitest/update-preferences",{"id":1052,"data":1054,"body":1060,"filePath":1061,"digest":1062,"rendered":1063},{"title":1055,"description":1056,"editUrl":16,"head":1057,"template":46,"sidebar":1058,"pagefind":16,"draft":35},"Update preferences (Vitest)","DataTable as key-value pairs",[],{"hidden":35,"attrs":1059},{},"## Generated output\n\n```markdown\n### ✅ Update preferences\n\n- **Given** the user has the following preferences\n    **Preferences**\n    | key | value |\n    | --- | --- |\n    | email_opt_in | true |\n    | theme | dark |\n    | timezone | UTC |\n- **When** the user saves preferences\n- **Then** the preferences should be persisted\n```\n\n## Vitest code\n\n```typescript\nstory(\"Update preferences\", (s: StepsApi) => {\n  s.given(\"the user has the following preferences\");\n  s.doc.table(\"Preferences\", [\"key\", \"value\"], [\n    [\"email_opt_in\", \"true\"],\n    [\"theme\", \"dark\"],\n    [\"timezone\", \"UTC\"],\n  ]);\n  s.when(\"the user saves preferences\");\n  s.then(\"the preferences should be persisted\");\n});\n```","src/content/docs/recipes/vitest/update-preferences.md","b3df00cdf19164a7",{"html":1064,"metadata":1065},"\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"generated-output\">Generated output\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#generated-output\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Generated output”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/executable-stories/_astro/ec.t5t0k.css\">\u003Cscript type=\"module\" src=\"/executable-stories/_astro/ec.0vx5m.js\">\u003C/script>\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"markdown\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">###\u003C/span>\u003Cspan style=\"--0:#55987B;--0fw:bold;--1:#1C6B48;--1fw:bold\"> ✅ Update preferences\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">Given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the user has the following preferences\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">Preferences\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> key \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> value \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">---\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">---\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> email_opt_in \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> true \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> theme \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> dark \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> timezone \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> UTC \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">|\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">When\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the user saves preferences\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">Then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the preferences should be persisted\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"### ✅ Update preferences- **Given** the user has the following preferences    **Preferences**    | key | value |    | --- | --- |    | email_opt_in | true |    | theme | dark |    | timezone | UTC |- **When** the user saves preferences- **Then** the preferences should be persisted\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"vitest-code\">Vitest code\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#vitest-code\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Vitest code”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#80A665;--1:#4B7231\">story\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">Update preferences\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#5DA994;--1:#25746A\">StepsApi\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">)\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">=>\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the user has the following preferences\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">doc\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">table\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">Preferences\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">[\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">key\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">value\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">],\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">[\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">[\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">email_opt_in\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">true\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">],\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">[\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">theme\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">dark\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">],\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">[\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">timezone\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">UTC\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">],\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">]);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">when\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the user saves preferences\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the preferences should be persisted\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">});\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"story(&#x22;Update preferences&#x22;, (s: StepsApi) => {  s.given(&#x22;the user has the following preferences&#x22;);  s.doc.table(&#x22;Preferences&#x22;, [&#x22;key&#x22;, &#x22;value&#x22;], [    [&#x22;email_opt_in&#x22;, &#x22;true&#x22;],    [&#x22;theme&#x22;, &#x22;dark&#x22;],    [&#x22;timezone&#x22;, &#x22;UTC&#x22;],  ]);  s.when(&#x22;the user saves preferences&#x22;);  s.then(&#x22;the preferences should be persisted&#x22;);});\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>",{"headings":1066,"localImagePaths":1069,"remoteImagePaths":1070,"frontmatter":1071,"imagePaths":1072},[1067,1068],{"depth":57,"slug":134,"text":135},{"depth":57,"slug":409,"text":410},[],[],{"title":1055,"description":1056},[],"recipes/vitest/user-logs-in-successfully",{"id":1073,"data":1075,"body":1081,"filePath":1082,"digest":1083,"rendered":1084},{"title":1076,"description":1077,"editUrl":16,"head":1078,"template":46,"sidebar":1079,"pagefind":16,"draft":35},"User logs in successfully (Vitest)","Multiple Given, single When, single Then",[],{"hidden":35,"attrs":1080},{},"## Generated output\n\nThis is what the reporter writes for this scenario:\n\n```markdown\n### ✅ User logs in successfully\n\n- **Given** the user account exists\n- **And** the user is on the login page\n- **And** the account is active\n- **When** the user submits valid credentials\n- **Then** the user should see the dashboard\n```\n\n(First `given` renders as \"Given\"; subsequent ones in the same story render as \"And\".)\n\n## Vitest code\n\n```typescript\nimport { story, type StepsApi } from \"vitest-executable-stories\";\n\nstory(\"User logs in successfully\", (s: StepsApi) => {\n  s.given(\"the user account exists\");\n  s.given(\"the user is on the login page\");\n  s.given(\"the account is active\");\n  s.when(\"the user submits valid credentials\");\n  s.then(\"the user should see the dashboard\");\n});\n```\n\nFrom `apps/vitest-example/src/replicate.story.test.ts`.","src/content/docs/recipes/vitest/user-logs-in-successfully.md","1fdfe877829cd8be",{"html":1085,"metadata":1086},"\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"generated-output\">Generated output\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#generated-output\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Generated output”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>This is what the reporter writes for this scenario:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/executable-stories/_astro/ec.t5t0k.css\">\u003Cscript type=\"module\" src=\"/executable-stories/_astro/ec.0vx5m.js\">\u003C/script>\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"markdown\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">###\u003C/span>\u003Cspan style=\"--0:#55987B;--0fw:bold;--1:#1C6B48;--1fw:bold\"> ✅ User logs in successfully\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">Given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the user account exists\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">And\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the user is on the login page\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">And\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the account is active\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">When\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the user submits valid credentials\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">Then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the user should see the dashboard\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"### ✅ User logs in successfully- **Given** the user account exists- **And** the user is on the login page- **And** the account is active- **When** the user submits valid credentials- **Then** the user should see the dashboard\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>(First \u003Ccode dir=\"auto\">given\u003C/code> renders as “Given”; subsequent ones in the same story render as “And”.)\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"vitest-code\">Vitest code\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#vitest-code\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Vitest code”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#55987B;--1:#1E754F\">import\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">story\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">type\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">StepsApi\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">}\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#55987B;--1:#1E754F\">from\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">vitest-executable-stories\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#80A665;--1:#4B7231\">story\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">User logs in successfully\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#5DA994;--1:#25746A\">StepsApi\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">)\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">=>\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the user account exists\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the user is on the login page\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the account is active\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">when\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the user submits valid credentials\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the user should see the dashboard\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">});\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"import { story, type StepsApi } from &#x22;vitest-executable-stories&#x22;;story(&#x22;User logs in successfully&#x22;, (s: StepsApi) => {  s.given(&#x22;the user account exists&#x22;);  s.given(&#x22;the user is on the login page&#x22;);  s.given(&#x22;the account is active&#x22;);  s.when(&#x22;the user submits valid credentials&#x22;);  s.then(&#x22;the user should see the dashboard&#x22;);});\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>From \u003Ccode dir=\"auto\">apps/vitest-example/src/replicate.story.test.ts\u003C/code>.\u003C/p>",{"headings":1087,"localImagePaths":1090,"remoteImagePaths":1091,"frontmatter":1092,"imagePaths":1093},[1088,1089],{"depth":57,"slug":134,"text":135},{"depth":57,"slug":409,"text":410},[],[],{"title":1076,"description":1077},[],"recipes/vitest/user-updates-profile-details",{"id":1094,"data":1096,"body":1102,"filePath":1103,"digest":1104,"rendered":1105},{"title":1097,"description":1098,"editUrl":16,"head":1099,"template":46,"sidebar":1100,"pagefind":16,"draft":35},"User updates profile details (Vitest)","Single Given, multiple When, single Then",[],{"hidden":35,"attrs":1101},{},"## Generated output\n\n```markdown\n### ✅ User updates profile details\n\n- **Given** the user is logged in\n- **When** the user changes their display name\n- **And** the user changes their time zone\n- **And** the user saves the profile\n- **Then** the profile should show the updated details\n```\n\n## Vitest code\n\n```typescript\nstory(\"User updates profile details\", (s: StepsApi) => {\n  s.given(\"the user is logged in\");\n  s.when(\"the user changes their display name\");\n  s.when(\"the user changes their time zone\");\n  s.when(\"the user saves the profile\");\n  s.then(\"the profile should show the updated details\");\n});\n```","src/content/docs/recipes/vitest/user-updates-profile-details.md","0d45a86ee2a9cd73",{"html":1106,"metadata":1107},"\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"generated-output\">Generated output\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#generated-output\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Generated output”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/executable-stories/_astro/ec.t5t0k.css\">\u003Cscript type=\"module\" src=\"/executable-stories/_astro/ec.0vx5m.js\">\u003C/script>\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"markdown\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">###\u003C/span>\u003Cspan style=\"--0:#55987B;--0fw:bold;--1:#1C6B48;--1fw:bold\"> ✅ User updates profile details\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">Given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the user is logged in\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">When\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the user changes their display name\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">And\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the user changes their time zone\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">And\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the user saves the profile\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D4976C;--1:#995728\">-\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--0fw:bold;--1:#393A34;--1fw:bold\">Then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--0fw:bold;--1:#686868;--1fw:bold\">**\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> the profile should show the updated details\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"### ✅ User updates profile details- **Given** the user is logged in- **When** the user changes their display name- **And** the user changes their time zone- **And** the user saves the profile- **Then** the profile should show the updated details\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"vitest-code\">Vitest code\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#vitest-code\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\" data-pagefind-ignore=\"\">Section titled “Vitest code”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#80A665;--1:#4B7231\">story\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">User updates profile details\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">,\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">: \u003C/span>\u003Cspan style=\"--0:#5DA994;--1:#25746A\">StepsApi\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">)\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">=>\u003C/span>\u003Cspan style=\"--0:#DBD7CAEE;--1:#393A34\"> \u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">given\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the user is logged in\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">when\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the user changes their display name\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">when\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the user changes their time zone\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">when\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the user saves the profile\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#BD976A;--1:#876037\">s\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">.\u003C/span>\u003Cspan style=\"--0:#80A665;--1:#4B7231\">then\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">(\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#C98A7D;--1:#96574A\">the profile should show the updated details\u003C/span>\u003Cspan style=\"--0:#C98A7DE4;--1:#96574AFD\">\"\u003C/span>\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#8B8B8B;--1:#686868\">});\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cdiv aria-live=\"polite\">\u003C/div>\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"story(&#x22;User updates profile details&#x22;, (s: StepsApi) => {  s.given(&#x22;the user is logged in&#x22;);  s.when(&#x22;the user changes their display name&#x22;);  s.when(&#x22;the user changes their time zone&#x22;);  s.when(&#x22;the user saves the profile&#x22;);  s.then(&#x22;the profile should show the updated details&#x22;);});\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>",{"headings":1108,"localImagePaths":1111,"remoteImagePaths":1112,"frontmatter":1113,"imagePaths":1114},[1109,1110],{"depth":57,"slug":134,"text":135},{"depth":57,"slug":409,"text":410},[],[],{"title":1097,"description":1098},[]]