{
  "schemaVersion": 1,
  "projectRoot": "/home/ci/app",
  "startedAtMs": 1706745600000,
  "finishedAtMs": 1706745612345,
  "packageVersion": "2.1.0",
  "gitSha": "a1b2c3d4e5f6a1b2c3d4e5f6a1b2c3d4e5f6a1b2",
  "ci": {
    "name": "GitHub Actions",
    "url": "https://github.com/acme/app/actions/runs/12345",
    "buildNumber": "12345"
  },
  "meta": {
    "framework": "pytest",
    "pythonVersion": "3.12.1"
  },
  "testCases": [
    {
      "externalId": "tests/auth/test_login.py::test_successful_login",
      "title": "Successful login with valid credentials",
      "titlePath": ["Authentication", "Login", "Successful login with valid credentials"],
      "sourceFile": "tests/auth/test_login.py",
      "sourceLine": 15,
      "status": "pass",
      "durationMs": 342,
      "story": {
        "scenario": "Successful login with valid credentials",
        "steps": [
          { "keyword": "Given", "text": "a registered user with email 'alice@example.com'" },
          {
            "keyword": "When",
            "text": "the user submits login with valid credentials",
            "docs": [
              {
                "kind": "code",
                "label": "Request payload",
                "content": "{ \"email\": \"alice@example.com\", \"password\": \"••••••\" }",
                "lang": "json",
                "phase": "runtime"
              }
            ]
          },
          {
            "keyword": "Then",
            "text": "the response status is 200",
            "docs": [
              { "kind": "kv", "label": "Response time", "value": "45ms", "phase": "runtime" }
            ]
          },
          { "keyword": "And", "text": "a JWT token is returned" },
          { "keyword": "And", "text": "the token contains the correct user ID" }
        ],
        "tags": ["smoke", "auth", "critical"],
        "tickets": ["AUTH-101", "SEC-42"],
        "suitePath": ["Authentication", "Login"],
        "docs": [
          { "kind": "note", "text": "Core authentication flow — must pass before deployment.", "phase": "static" },
          {
            "kind": "link",
            "label": "API Spec",
            "url": "https://docs.example.com/api/auth#login",
            "phase": "static"
          }
        ],
        "sourceOrder": 0
      },
      "attachments": [
        {
          "name": "Login screenshot",
          "mediaType": "image/png",
          "path": "screenshots/login.png"
        }
      ],
      "retry": 0,
      "retries": 0,
      "meta": {
        "framework": "pytest",
        "frameworkCaseId": "tests/auth/test_login.py::test_successful_login"
      }
    },
    {
      "externalId": "tests/auth/test_login.py::test_login_invalid_password",
      "title": "Login with invalid password shows error",
      "titlePath": ["Authentication", "Login", "Login with invalid password shows error"],
      "sourceFile": "tests/auth/test_login.py",
      "sourceLine": 42,
      "status": "pass",
      "durationMs": 215,
      "story": {
        "scenario": "Login with invalid password shows error",
        "steps": [
          { "keyword": "Given", "text": "a registered user" },
          { "keyword": "When", "text": "the user submits login with an incorrect password" },
          { "keyword": "Then", "text": "the response status is 401" },
          { "keyword": "And", "text": "the error message is 'Invalid credentials'" }
        ],
        "tags": ["auth"],
        "suitePath": ["Authentication", "Login"],
        "sourceOrder": 1
      },
      "retry": 0,
      "retries": 0,
      "meta": {
        "framework": "pytest",
        "frameworkCaseId": "tests/auth/test_login.py::test_login_invalid_password"
      }
    },
    {
      "externalId": "tests/auth/test_login.py::test_login_rate_limiting",
      "title": "Login is rate-limited after 5 failed attempts",
      "titlePath": ["Authentication", "Login", "Login is rate-limited after 5 failed attempts"],
      "sourceFile": "tests/auth/test_login.py",
      "sourceLine": 68,
      "status": "fail",
      "durationMs": 1523,
      "error": {
        "message": "AssertionError: Expected status 429 but got 200",
        "stack": "Traceback (most recent call last):\n  File \"tests/auth/test_login.py\", line 85, in test_login_rate_limiting\n    assert response.status_code == 429\nAssertionError: Expected status 429 but got 200"
      },
      "story": {
        "scenario": "Login is rate-limited after 5 failed attempts",
        "steps": [
          { "keyword": "Given", "text": "a registered user" },
          { "keyword": "When", "text": "the user fails login 5 times in a row" },
          { "keyword": "Then", "text": "the 6th attempt returns 429 Too Many Requests" },
          { "keyword": "And", "text": "the Retry-After header is set" }
        ],
        "tags": ["auth", "security", "rate-limiting"],
        "tickets": ["SEC-55"],
        "suitePath": ["Authentication", "Login"],
        "docs": [
          {
            "kind": "table",
            "label": "Rate limit thresholds",
            "columns": ["Window", "Max attempts", "Lockout"],
            "rows": [
              ["1 minute", "5", "30 seconds"],
              ["1 hour", "20", "15 minutes"]
            ],
            "phase": "static"
          }
        ],
        "sourceOrder": 2
      },
      "retry": 0,
      "retries": 2,
      "meta": {
        "framework": "pytest",
        "frameworkCaseId": "tests/auth/test_login.py::test_login_rate_limiting"
      }
    },
    {
      "externalId": "tests/cart/test_checkout.py::test_checkout_flow",
      "title": "Complete checkout with credit card",
      "titlePath": ["Shopping Cart", "Checkout", "Complete checkout with credit card"],
      "sourceFile": "tests/cart/test_checkout.py",
      "sourceLine": 10,
      "status": "pass",
      "durationMs": 890,
      "story": {
        "scenario": "Complete checkout with credit card",
        "steps": [
          { "keyword": "Given", "text": "a cart with 2 items totaling $59.98" },
          { "keyword": "And", "text": "a valid shipping address" },
          {
            "keyword": "When",
            "text": "the user submits payment with a test credit card",
            "docs": [
              {
                "kind": "section",
                "title": "Payment details",
                "markdown": "Uses Stripe test card `4242 4242 4242 4242` with any future expiry.",
                "phase": "static"
              }
            ]
          },
          { "keyword": "Then", "text": "the order is confirmed" },
          { "keyword": "And", "text": "a confirmation email is queued" },
          { "keyword": "But", "text": "no charge is made in test mode" }
        ],
        "tags": ["checkout", "payments", "e2e"],
        "tickets": ["SHOP-200"],
        "suitePath": ["Shopping Cart", "Checkout"],
        "docs": [
          {
            "kind": "mermaid",
            "code": "sequenceDiagram\n    User->>Cart: Add items\n    User->>Checkout: Submit order\n    Checkout->>Stripe: Charge card\n    Stripe-->>Checkout: Success\n    Checkout->>Email: Send confirmation\n    Checkout-->>User: Order confirmed",
            "title": "Checkout sequence",
            "phase": "static"
          }
        ],
        "sourceOrder": 0
      },
      "retry": 0,
      "retries": 0,
      "meta": {
        "framework": "pytest",
        "frameworkCaseId": "tests/cart/test_checkout.py::test_checkout_flow"
      }
    },
    {
      "externalId": "tests/cart/test_checkout.py::test_empty_cart_checkout",
      "title": "Cannot checkout with an empty cart",
      "titlePath": ["Shopping Cart", "Checkout", "Cannot checkout with an empty cart"],
      "sourceFile": "tests/cart/test_checkout.py",
      "sourceLine": 55,
      "status": "skip",
      "durationMs": 2,
      "story": {
        "scenario": "Cannot checkout with an empty cart",
        "steps": [
          { "keyword": "Given", "text": "an empty cart" },
          { "keyword": "When", "text": "the user attempts to checkout" },
          { "keyword": "Then", "text": "the checkout is blocked with 'Cart is empty'" }
        ],
        "tags": ["checkout"],
        "suitePath": ["Shopping Cart", "Checkout"],
        "sourceOrder": 1
      },
      "meta": {
        "framework": "pytest",
        "frameworkCaseId": "tests/cart/test_checkout.py::test_empty_cart_checkout",
        "skipReason": "Temporarily disabled — cart redesign in progress (SHOP-250)"
      },
      "retry": 0,
      "retries": 0
    },
    {
      "title": "test_db_connection_pool_size",
      "titlePath": ["Infrastructure", "Database", "test_db_connection_pool_size"],
      "sourceFile": "tests/infra/test_db.py",
      "sourceLine": 12,
      "status": "pass",
      "durationMs": 55,
      "meta": {
        "framework": "pytest",
        "frameworkCaseId": "tests/infra/test_db.py::test_db_connection_pool_size"
      }
    },
    {
      "title": "test_redis_cache_ttl",
      "titlePath": ["Infrastructure", "Cache", "test_redis_cache_ttl"],
      "sourceFile": "tests/infra/test_cache.py",
      "sourceLine": 8,
      "status": "pending",
      "durationMs": 0,
      "meta": {
        "framework": "pytest",
        "frameworkCaseId": "tests/infra/test_cache.py::test_redis_cache_ttl",
        "pendingReason": "Redis cluster migration not complete"
      }
    }
  ]
}
